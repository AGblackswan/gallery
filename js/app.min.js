webpackJsonp([0],[,,,,function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n\t\t\tvalue: true\n});\n\nvar _properjsEasing = __webpack_require__(/*! properjs-easing */ 167);\n\nvar _properjsEasing2 = _interopRequireDefault(_properjsEasing);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n *\n * @public\n * @namespace config\n * @memberof core\n * @description Stores app-wide config values.\n *\n */\nvar config = {\n\t\t\t/**\n   *\n   * @public\n   * @member defaultEasing\n   * @memberof core.config\n   * @description The default easing function for javascript Tweens.\n   *\n   */\n\t\t\tdefaultEasing: _properjsEasing2.default.easeInOutCubic,\n\n\t\t\t/**\n   *\n   * @public\n   * @member defaultDuration\n   * @memberof core.config\n   * @description The default duration for javascript Tweens.\n   *\n   */\n\t\t\tdefaultDuration: 400,\n\n\t\t\t/**\n   *\n   * @public\n   * @member pageDuration\n   * @memberof core.config\n   * @description The default duration for page transitions\n   *\n   */\n\t\t\tpageDuration: 1000,\n\n\t\t\t/**\n   *\n   * @public\n   * @member isTouch\n   * @memberof core.config\n   * @description Boolean to support touch events.\n   *\n   */\n\t\t\tisTouch: "",\n\n\t\t\t/**\n   *\n   * @public\n   * @member isIos\n   * @memberof core.config\n   * @description Boolean to support Ios events.\n   *\n   */\n\t\t\tisIos: "",\n\n\t\t\t/**\n   *\n   * @public\n   * @member isScrolling\n   * @memberof core.config\n   * @description Boolean to support scroll events.\n   *\n   */\n\t\t\tisScrolling: "",\n\n\t\t\t/**\n   *\n   * @public\n   * @member textTransform\n   * @memberof core.config\n   * @description Boolean to support touch events.\n   *\n   */\n\t\t\ttextTransform: "",\n\n\t\t\t/**\n   *\n   * @public\n   * @member scrollContainer\n   * @memberof core.config\n   * @description Variable to determine which container scrolls on events\n   *\n   */\n\t\t\tscrollContainer: "",\n\n\t\t\t/**\n   *\n   * @public\n   * @member disableLoop\n   * @memberof core.config\n   * @description Boolean to prevent loop\n   *\n   */\n\t\t\tdisableLoop: "",\n\n\t\t\t/**\n   *\n   * @public\n   * @member activePiece\n   * @memberof core.config\n   * @description The selector for a given active piece\n   *\n   */\n\t\t\tactivePiece: "",\n\n\t\t\t/**\n   *\n   * @public\n   * @member defaultVideoChannel\n   * @memberof core.config\n   * @description The [MediaBox]{@link https://github.com/ProperJS/MediaBox} channel used for video.\n   *\n   */\n\t\t\tdefaultVideoChannel: "vid",\n\n\t\t\t/**\n   *\n   * @public\n   * @member defaultAudioChannel\n   * @memberof core.config\n   * @description The [MediaBox]{@link https://github.com/ProperJS/MediaBox} channel used for audio.\n   *\n   */\n\t\t\tdefaultAudioChannel: "bgm",\n\n\t\t\t/**\n   *\n   * @public\n   * @member mainSelector\n   * @memberof core.config\n   * @description The string selector used for <main> node.\n   *\n   */\n\t\t\tmainSelector: ".js-main",\n\n\t\t\t/**\n   *\n   * @public\n   * @member mainSelector\n   * @memberof core.config\n   * @description The string selector used for <main> node.\n   *\n   */\n\t\t\tpageSelector: ".js-page-controller",\n\n\t\t\t/**\n   *\n   * @public\n   * @member introSelector\n   * @memberof core.config\n   * @description The string selector used for <intro> node.\n   *\n   */\n\t\t\tintroSelector: ".js-intro",\n\n\t\t\t/**\n   *\n   * @public\n   * @member viewSelector\n   * @memberof core.config\n   * @description The string selector used for <view> nodes.\n   *\n   */\n\t\t\tviewSelector: ".js-view",\n\n\t\t\t/**\n   *\n   * @public\n   * @member naviSelector\n   * @memberof core.config\n   * @description The string selector used for <navi> node.\n   *\n   */\n\t\t\tnaviSelector: ".js-navi",\n\n\t\t\t/**\n   *\n   * @public\n   * @member menuSelector\n   * @memberof core.config\n   * @description The string selector used for <navi> node.\n   *\n   */\n\t\t\tnavSelector: "nav",\n\n\t\t\t/**\n   *\n   * @public\n   * @member navContianer\n   * @memberof core.config\n   * @description The string selector used for <navi> node.\n   *\n   */\n\t\t\tnavContainer: ".js-nav-container",\n\n\t\t\t/**\n   *\n   * @public\n   * @member workSelector\n   * @memberof core.config\n   * @description The string selector used for work node.\n   *\n   */\n\t\t\tworkSelector: ".js-work-detail",\n\n\t\t\t/**\n   *\n   * @public\n   * @member canvasSelector\n   * @memberof core.config\n   * @description The string selector used for canvas\n   *\n   */\n\t\t\tcanvasSelector: ".js-canvas",\n\n\t\t\t/**\n   *\n   * @public\n   * @member plateSelector\n   * @memberof core.config\n   * @description The string selector used for plates node.\n   *\n   */\n\t\t\tplatesSelector: ".figure-container a",\n\n\t\t\t/**\n   *\n   * @public\n   * @member plateSelector\n   * @memberof core.config\n   * @description The string selector used for plates node.\n   *\n   */\n\t\t\tplateSelector: ".js-plate",\n\n\t\t\t/**\n   *\n   * @public\n   * @member lazyImageSelector\n   * @memberof core.config\n   * @description The string selector used for images deemed lazy-loadable.\n   *\n   */\n\t\t\tlazyImageSelector: ".js-lazy-image",\n\n\t\t\t/**\n   *\n   * @public\n   * @member animSelector\n   * @memberof core.config\n   * @description The string selector used for animatables.\n   *\n   */\n\t\t\tanimSelector: ".js-animate",\n\n\t\t\t/**\n   *\n   * @public\n   * @member coverSelector\n   * @memberof core.config\n   * @description The string selector used for covers.\n   *\n   */\n\t\t\tcoverSelector: ".js-cover",\n\n\t\t\t/**\n   *\n   * @public\n   * @member lazyImageAttr\n   * @memberof core.config\n   * @description The string attribute for lazy image source URLs.\n   *\n   */\n\t\t\tlazyImageAttr: "data-img-src",\n\n\t\t\t/**\n   *\n   * @public\n   * @member imageLoaderAttr\n   * @memberof core.config\n   * @description The string attribute ImageLoader gives loaded images.\n   *\n   */\n\t\t\timageLoaderAttr: "data-imageloader",\n\n\t\t\t/**\n   *\n   * @public\n   * @member currentScrollPosition\n   * @memberof core.config\n   * @description currentScrollPosition for Parallaxing Items\n   *\n   */\n\t\t\tcurrentScrollPosition: 0,\n\n\t\t\t/**\n   *\n   * @public\n   * @member scrollRestoration\n   * @memberof core.config\n   * @description ignore browser\'s historical setting of scroll position\n   *\n   */\n\t\t\tremoveScrollResotration: true,\n\n\t\t\t/**\n   *\n   * @public\n   * @member scrollDistance\n   * @memberof core.config\n   * @description scroll distance to change color of fixed navigation\n   *\n   */\n\t\t\tscrollDistance: "",\n\n\t\t\t/**\n   *\n   * @public\n   * @member targetMouseX + targetMouseY\n   * @memberof core.config\n   * @description mouse targeting\n   *\n   */\n\n\t\t\ttargetMouseX: 0.0,\n\n\t\t\ttargetMouseY: 0.0,\n\n\t\t\t/**\n   *\n   * @public\n   * @member shopfiySync\n   * @memberof core.config\n   * @description Triggers boolean once products are loaded from Shopify\n   *\n   */\n\n\t\t\tshopifySync: false,\n\n\t\t\t/**\n   *\n   * @public\n   * @member fullHeight\n   * @memberof core.config\n   * @description The string attribute for full-height containers based on window\n   *\n   */\n\t\t\tfullHeight: ".-full-height"\n\n};\n\n/******************************************************************************\n * Export\n *******************************************************************************/\nexports.default = config;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zb3VyY2UvanMvY29yZS9jb25maWcuanM/ZGQ1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRWFzaW5nIGZyb20gXCJwcm9wZXJqcy1lYXNpbmdcIjtcblxuLyoqXG4gKlxuICogQHB1YmxpY1xuICogQG5hbWVzcGFjZSBjb25maWdcbiAqIEBtZW1iZXJvZiBjb3JlXG4gKiBAZGVzY3JpcHRpb24gU3RvcmVzIGFwcC13aWRlIGNvbmZpZyB2YWx1ZXMuXG4gKlxuICovXG5jb25zdCBjb25maWcgPSB7XG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciBkZWZhdWx0RWFzaW5nXG5cdCAqIEBtZW1iZXJvZiBjb3JlLmNvbmZpZ1xuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGRlZmF1bHQgZWFzaW5nIGZ1bmN0aW9uIGZvciBqYXZhc2NyaXB0IFR3ZWVucy5cblx0ICpcblx0ICovXG4gICAgZGVmYXVsdEVhc2luZzogRWFzaW5nLmVhc2VJbk91dEN1YmljLFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciBkZWZhdWx0RHVyYXRpb25cblx0ICogQG1lbWJlcm9mIGNvcmUuY29uZmlnXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgZGVmYXVsdCBkdXJhdGlvbiBmb3IgamF2YXNjcmlwdCBUd2VlbnMuXG5cdCAqXG5cdCAqL1xuICAgIGRlZmF1bHREdXJhdGlvbjogNDAwLFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciBwYWdlRHVyYXRpb25cblx0ICogQG1lbWJlcm9mIGNvcmUuY29uZmlnXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgZGVmYXVsdCBkdXJhdGlvbiBmb3IgcGFnZSB0cmFuc2l0aW9uc1xuXHQgKlxuXHQgKi9cbiAgICBwYWdlRHVyYXRpb246IDEwMDAsXG5cbiAgICAvKipcblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKiBAbWVtYmVyIGlzVG91Y2hcblx0ICogQG1lbWJlcm9mIGNvcmUuY29uZmlnXG5cdCAqIEBkZXNjcmlwdGlvbiBCb29sZWFuIHRvIHN1cHBvcnQgdG91Y2ggZXZlbnRzLlxuXHQgKlxuXHQgKi9cbiAgICBpc1RvdWNoOiBcIlwiLFxuXG5cbiAgICAvKipcblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKiBAbWVtYmVyIGlzSW9zXG5cdCAqIEBtZW1iZXJvZiBjb3JlLmNvbmZpZ1xuXHQgKiBAZGVzY3JpcHRpb24gQm9vbGVhbiB0byBzdXBwb3J0IElvcyBldmVudHMuXG5cdCAqXG5cdCAqL1xuICAgIGlzSW9zOiBcIlwiLFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciBpc1Njcm9sbGluZ1xuXHQgKiBAbWVtYmVyb2YgY29yZS5jb25maWdcblx0ICogQGRlc2NyaXB0aW9uIEJvb2xlYW4gdG8gc3VwcG9ydCBzY3JvbGwgZXZlbnRzLlxuXHQgKlxuXHQgKi9cbiAgICBpc1Njcm9sbGluZzogXCJcIixcblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZW1iZXIgdGV4dFRyYW5zZm9ybVxuXHQgKiBAbWVtYmVyb2YgY29yZS5jb25maWdcblx0ICogQGRlc2NyaXB0aW9uIEJvb2xlYW4gdG8gc3VwcG9ydCB0b3VjaCBldmVudHMuXG5cdCAqXG5cdCAqL1xuICAgIHRleHRUcmFuc2Zvcm06IFwiXCIsXG5cbiAgICAvKipcblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKiBAbWVtYmVyIHNjcm9sbENvbnRhaW5lclxuXHQgKiBAbWVtYmVyb2YgY29yZS5jb25maWdcblx0ICogQGRlc2NyaXB0aW9uIFZhcmlhYmxlIHRvIGRldGVybWluZSB3aGljaCBjb250YWluZXIgc2Nyb2xscyBvbiBldmVudHNcblx0ICpcblx0ICovXG4gICAgc2Nyb2xsQ29udGFpbmVyOiBcIlwiLFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciBkaXNhYmxlTG9vcFxuXHQgKiBAbWVtYmVyb2YgY29yZS5jb25maWdcblx0ICogQGRlc2NyaXB0aW9uIEJvb2xlYW4gdG8gcHJldmVudCBsb29wXG5cdCAqXG5cdCAqL1xuICAgIGRpc2FibGVMb29wOiBcIlwiLFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciBhY3RpdmVQaWVjZVxuXHQgKiBAbWVtYmVyb2YgY29yZS5jb25maWdcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBzZWxlY3RvciBmb3IgYSBnaXZlbiBhY3RpdmUgcGllY2Vcblx0ICpcblx0ICovXG4gICAgYWN0aXZlUGllY2U6IFwiXCIsXG5cbiAgICAvKipcblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKiBAbWVtYmVyIGRlZmF1bHRWaWRlb0NoYW5uZWxcblx0ICogQG1lbWJlcm9mIGNvcmUuY29uZmlnXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgW01lZGlhQm94XXtAbGluayBodHRwczovL2dpdGh1Yi5jb20vUHJvcGVySlMvTWVkaWFCb3h9IGNoYW5uZWwgdXNlZCBmb3IgdmlkZW8uXG5cdCAqXG5cdCAqL1xuICAgIGRlZmF1bHRWaWRlb0NoYW5uZWw6IFwidmlkXCIsXG5cbiAgICAvKipcblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKiBAbWVtYmVyIGRlZmF1bHRBdWRpb0NoYW5uZWxcblx0ICogQG1lbWJlcm9mIGNvcmUuY29uZmlnXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgW01lZGlhQm94XXtAbGluayBodHRwczovL2dpdGh1Yi5jb20vUHJvcGVySlMvTWVkaWFCb3h9IGNoYW5uZWwgdXNlZCBmb3IgYXVkaW8uXG5cdCAqXG5cdCAqL1xuICAgIGRlZmF1bHRBdWRpb0NoYW5uZWw6IFwiYmdtXCIsXG5cbiAgICAvKipcblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKiBAbWVtYmVyIG1haW5TZWxlY3RvclxuXHQgKiBAbWVtYmVyb2YgY29yZS5jb25maWdcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBzdHJpbmcgc2VsZWN0b3IgdXNlZCBmb3IgPG1haW4+IG5vZGUuXG5cdCAqXG5cdCAqL1xuICAgIG1haW5TZWxlY3RvcjogXCIuanMtbWFpblwiLFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciBtYWluU2VsZWN0b3Jcblx0ICogQG1lbWJlcm9mIGNvcmUuY29uZmlnXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgc3RyaW5nIHNlbGVjdG9yIHVzZWQgZm9yIDxtYWluPiBub2RlLlxuXHQgKlxuXHQgKi9cbiAgICBwYWdlU2VsZWN0b3I6IFwiLmpzLXBhZ2UtY29udHJvbGxlclwiLFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciBpbnRyb1NlbGVjdG9yXG5cdCAqIEBtZW1iZXJvZiBjb3JlLmNvbmZpZ1xuXHQgKiBAZGVzY3JpcHRpb24gVGhlIHN0cmluZyBzZWxlY3RvciB1c2VkIGZvciA8aW50cm8+IG5vZGUuXG5cdCAqXG5cdCAqL1xuICAgIGludHJvU2VsZWN0b3I6IFwiLmpzLWludHJvXCIsXG5cbiAgICAvKipcblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKiBAbWVtYmVyIHZpZXdTZWxlY3RvclxuXHQgKiBAbWVtYmVyb2YgY29yZS5jb25maWdcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBzdHJpbmcgc2VsZWN0b3IgdXNlZCBmb3IgPHZpZXc+IG5vZGVzLlxuXHQgKlxuXHQgKi9cbiAgICB2aWV3U2VsZWN0b3I6IFwiLmpzLXZpZXdcIixcblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZW1iZXIgbmF2aVNlbGVjdG9yXG5cdCAqIEBtZW1iZXJvZiBjb3JlLmNvbmZpZ1xuXHQgKiBAZGVzY3JpcHRpb24gVGhlIHN0cmluZyBzZWxlY3RvciB1c2VkIGZvciA8bmF2aT4gbm9kZS5cblx0ICpcblx0ICovXG4gICAgbmF2aVNlbGVjdG9yOiBcIi5qcy1uYXZpXCIsXG5cblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZW1iZXIgbWVudVNlbGVjdG9yXG5cdCAqIEBtZW1iZXJvZiBjb3JlLmNvbmZpZ1xuXHQgKiBAZGVzY3JpcHRpb24gVGhlIHN0cmluZyBzZWxlY3RvciB1c2VkIGZvciA8bmF2aT4gbm9kZS5cblx0ICpcblx0ICovXG4gICAgbmF2U2VsZWN0b3I6IFwibmF2XCIsXG5cblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZW1iZXIgbmF2Q29udGlhbmVyXG5cdCAqIEBtZW1iZXJvZiBjb3JlLmNvbmZpZ1xuXHQgKiBAZGVzY3JpcHRpb24gVGhlIHN0cmluZyBzZWxlY3RvciB1c2VkIGZvciA8bmF2aT4gbm9kZS5cblx0ICpcblx0ICovXG5cdCBuYXZDb250YWluZXI6IFwiLmpzLW5hdi1jb250YWluZXJcIixcblxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciB3b3JrU2VsZWN0b3Jcblx0ICogQG1lbWJlcm9mIGNvcmUuY29uZmlnXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgc3RyaW5nIHNlbGVjdG9yIHVzZWQgZm9yIHdvcmsgbm9kZS5cblx0ICpcblx0ICovXG4gICAgd29ya1NlbGVjdG9yOiBcIi5qcy13b3JrLWRldGFpbFwiLFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciBjYW52YXNTZWxlY3RvclxuXHQgKiBAbWVtYmVyb2YgY29yZS5jb25maWdcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBzdHJpbmcgc2VsZWN0b3IgdXNlZCBmb3IgY2FudmFzXG5cdCAqXG5cdCAqL1xuICAgIGNhbnZhc1NlbGVjdG9yOiBcIi5qcy1jYW52YXNcIixcblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZW1iZXIgcGxhdGVTZWxlY3RvclxuXHQgKiBAbWVtYmVyb2YgY29yZS5jb25maWdcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBzdHJpbmcgc2VsZWN0b3IgdXNlZCBmb3IgcGxhdGVzIG5vZGUuXG5cdCAqXG5cdCAqL1xuICAgIHBsYXRlc1NlbGVjdG9yOiBcIi5maWd1cmUtY29udGFpbmVyIGFcIixcblxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciBwbGF0ZVNlbGVjdG9yXG5cdCAqIEBtZW1iZXJvZiBjb3JlLmNvbmZpZ1xuXHQgKiBAZGVzY3JpcHRpb24gVGhlIHN0cmluZyBzZWxlY3RvciB1c2VkIGZvciBwbGF0ZXMgbm9kZS5cblx0ICpcblx0ICovXG4gICAgcGxhdGVTZWxlY3RvcjogXCIuanMtcGxhdGVcIixcblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZW1iZXIgbGF6eUltYWdlU2VsZWN0b3Jcblx0ICogQG1lbWJlcm9mIGNvcmUuY29uZmlnXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgc3RyaW5nIHNlbGVjdG9yIHVzZWQgZm9yIGltYWdlcyBkZWVtZWQgbGF6eS1sb2FkYWJsZS5cblx0ICpcblx0ICovXG4gICAgbGF6eUltYWdlU2VsZWN0b3I6IFwiLmpzLWxhenktaW1hZ2VcIixcblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZW1iZXIgYW5pbVNlbGVjdG9yXG5cdCAqIEBtZW1iZXJvZiBjb3JlLmNvbmZpZ1xuXHQgKiBAZGVzY3JpcHRpb24gVGhlIHN0cmluZyBzZWxlY3RvciB1c2VkIGZvciBhbmltYXRhYmxlcy5cblx0ICpcblx0ICovXG4gICAgYW5pbVNlbGVjdG9yOiBcIi5qcy1hbmltYXRlXCIsXG5cbiAgICAvKipcblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKiBAbWVtYmVyIGNvdmVyU2VsZWN0b3Jcblx0ICogQG1lbWJlcm9mIGNvcmUuY29uZmlnXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgc3RyaW5nIHNlbGVjdG9yIHVzZWQgZm9yIGNvdmVycy5cblx0ICpcblx0ICovXG4gICAgY292ZXJTZWxlY3RvcjogXCIuanMtY292ZXJcIixcblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZW1iZXIgbGF6eUltYWdlQXR0clxuXHQgKiBAbWVtYmVyb2YgY29yZS5jb25maWdcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBzdHJpbmcgYXR0cmlidXRlIGZvciBsYXp5IGltYWdlIHNvdXJjZSBVUkxzLlxuXHQgKlxuXHQgKi9cbiAgICBsYXp5SW1hZ2VBdHRyOiBcImRhdGEtaW1nLXNyY1wiLFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciBpbWFnZUxvYWRlckF0dHJcblx0ICogQG1lbWJlcm9mIGNvcmUuY29uZmlnXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgc3RyaW5nIGF0dHJpYnV0ZSBJbWFnZUxvYWRlciBnaXZlcyBsb2FkZWQgaW1hZ2VzLlxuXHQgKlxuXHQgKi9cbiAgICBpbWFnZUxvYWRlckF0dHI6IFwiZGF0YS1pbWFnZWxvYWRlclwiLFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciBjdXJyZW50U2Nyb2xsUG9zaXRpb25cblx0ICogQG1lbWJlcm9mIGNvcmUuY29uZmlnXG5cdCAqIEBkZXNjcmlwdGlvbiBjdXJyZW50U2Nyb2xsUG9zaXRpb24gZm9yIFBhcmFsbGF4aW5nIEl0ZW1zXG5cdCAqXG5cdCAqL1xuICAgIGN1cnJlbnRTY3JvbGxQb3NpdGlvbjogMCxcblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZW1iZXIgc2Nyb2xsUmVzdG9yYXRpb25cblx0ICogQG1lbWJlcm9mIGNvcmUuY29uZmlnXG5cdCAqIEBkZXNjcmlwdGlvbiBpZ25vcmUgYnJvd3NlcidzIGhpc3RvcmljYWwgc2V0dGluZyBvZiBzY3JvbGwgcG9zaXRpb25cblx0ICpcblx0ICovXG4gICAgcmVtb3ZlU2Nyb2xsUmVzb3RyYXRpb246IHRydWUsXG5cblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZW1iZXIgc2Nyb2xsRGlzdGFuY2Vcblx0ICogQG1lbWJlcm9mIGNvcmUuY29uZmlnXG5cdCAqIEBkZXNjcmlwdGlvbiBzY3JvbGwgZGlzdGFuY2UgdG8gY2hhbmdlIGNvbG9yIG9mIGZpeGVkIG5hdmlnYXRpb25cblx0ICpcblx0ICovXG4gICAgc2Nyb2xsRGlzdGFuY2U6IFwiXCIsXG5cbiAgICAvKipcblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKiBAbWVtYmVyIHRhcmdldE1vdXNlWCArIHRhcmdldE1vdXNlWVxuXHQgKiBAbWVtYmVyb2YgY29yZS5jb25maWdcblx0ICogQGRlc2NyaXB0aW9uIG1vdXNlIHRhcmdldGluZ1xuXHQgKlxuXHQgKi9cblxuICAgIHRhcmdldE1vdXNlWDogMC4wLFxuXG4gICAgdGFyZ2V0TW91c2VZOiAwLjAsXG5cbiAgICAvKipcblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKiBAbWVtYmVyIHNob3BmaXlTeW5jXG5cdCAqIEBtZW1iZXJvZiBjb3JlLmNvbmZpZ1xuXHQgKiBAZGVzY3JpcHRpb24gVHJpZ2dlcnMgYm9vbGVhbiBvbmNlIHByb2R1Y3RzIGFyZSBsb2FkZWQgZnJvbSBTaG9waWZ5XG5cdCAqXG5cdCAqL1xuXG4gICAgc2hvcGlmeVN5bmM6IGZhbHNlLFxuXG5cbiAgICAvKipcblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKiBAbWVtYmVyIGZ1bGxIZWlnaHRcblx0ICogQG1lbWJlcm9mIGNvcmUuY29uZmlnXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgc3RyaW5nIGF0dHJpYnV0ZSBmb3IgZnVsbC1oZWlnaHQgY29udGFpbmVycyBiYXNlZCBvbiB3aW5kb3dcblx0ICpcblx0ICovXG4gICAgZnVsbEhlaWdodDogXCIuLWZ1bGwtaGVpZ2h0XCIsXG5cblxuXG59O1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBFeHBvcnRcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuZXhwb3J0IGRlZmF1bHQgY29uZmlnO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNvdXJjZS9qcy9jb3JlL2NvbmZpZy5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTs7Ozs7QUFDQTs7Ozs7Ozs7QUFRQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFFQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBRUE7Ozs7Ozs7O0FBUUE7QUFDQTtBQUVBOzs7Ozs7OztBQVFBO0FBQ0E7QUFFQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFFQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUVBOzs7Ozs7OztBQVFBO0FBQ0E7QUFDQTs7Ozs7Ozs7O0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7O0FBU0E7QUFDQTtBQUVBOzs7Ozs7OztBQVFBO0FBQ0E7QUEvVkE7QUFDQTtBQW1XQTs7O0FBR0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4\n')},,,,,,function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nexports.resizer = exports.resizes = exports.scrolls = exports.emitter = exports.cache = exports.log = exports.env = exports.config = exports.util = exports.dom = exports.detect = undefined;\n\nvar _detect = __webpack_require__(/*! ./detect */ 47);\n\nvar _detect2 = _interopRequireDefault(_detect);\n\nvar _dom = __webpack_require__(/*! ./dom */ 14);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _util = __webpack_require__(/*! ./util */ 13);\n\nvar util = _interopRequireWildcard(_util);\n\nvar _config = __webpack_require__(/*! ./config */ 4);\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _env = __webpack_require__(/*! ./env */ 31);\n\nvar _env2 = _interopRequireDefault(_env);\n\nvar _log = __webpack_require__(/*! ./log */ 24);\n\nvar _log2 = _interopRequireDefault(_log);\n\nvar _cache = __webpack_require__(/*! ./cache */ 102);\n\nvar _cache2 = _interopRequireDefault(_cache);\n\nvar _emitter = __webpack_require__(/*! ./emitter */ 30);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _scrolls = __webpack_require__(/*! ./scrolls */ 104);\n\nvar _scrolls2 = _interopRequireDefault(_scrolls);\n\nvar _resizer = __webpack_require__(/*! ./resizer */ 48);\n\nvar _resizer2 = _interopRequireDefault(_resizer);\n\nvar _resizes = __webpack_require__(/*! ./resizes */ 103);\n\nvar _resizes2 = _interopRequireDefault(_resizes);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//import mediabox from "./mediabox";\n\nexports.detect = _detect2.default;\nexports.dom = _dom2.default;\nexports.util = util;\nexports.config = _config2.default;\nexports.env = _env2.default;\nexports.log = _log2.default;\nexports.cache = _cache2.default;\nexports.emitter = _emitter2.default;\nexports.scrolls = _scrolls2.default;\nexports.resizes = _resizes2.default;\nexports.resizer = _resizer2.default; /**\n                                      *\n                                      * @public\n                                      * @namespace core\n                                      * @description Holds the different core modules.\n                                      *\n                                      *///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc291cmNlL2pzL2NvcmUvaW5kZXguanM/YmVlZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqXG4gKiBAcHVibGljXG4gKiBAbmFtZXNwYWNlIGNvcmVcbiAqIEBkZXNjcmlwdGlvbiBIb2xkcyB0aGUgZGlmZmVyZW50IGNvcmUgbW9kdWxlcy5cbiAqXG4gKi9cbmltcG9ydCBkZXRlY3QgZnJvbSBcIi4vZGV0ZWN0XCI7XG5pbXBvcnQgZG9tIGZyb20gXCIuL2RvbVwiO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi91dGlsXCI7XG5pbXBvcnQgY29uZmlnIGZyb20gXCIuL2NvbmZpZ1wiO1xuaW1wb3J0IGVudiBmcm9tIFwiLi9lbnZcIjtcbmltcG9ydCBsb2cgZnJvbSBcIi4vbG9nXCI7XG5pbXBvcnQgY2FjaGUgZnJvbSBcIi4vY2FjaGVcIjtcbmltcG9ydCBlbWl0dGVyIGZyb20gXCIuL2VtaXR0ZXJcIjtcbmltcG9ydCBzY3JvbGxzIGZyb20gXCIuL3Njcm9sbHNcIjtcbmltcG9ydCByZXNpemVyIGZyb20gXCIuL3Jlc2l6ZXJcIjtcbmltcG9ydCByZXNpemVzIGZyb20gXCIuL3Jlc2l6ZXNcIjtcbi8vaW1wb3J0IG1lZGlhYm94IGZyb20gXCIuL21lZGlhYm94XCI7XG5cbmV4cG9ydCB7XG4gICAgZGV0ZWN0LFxuICAgIGRvbSxcbiAgICB1dGlsLFxuICAgIGNvbmZpZyxcbiAgICBlbnYsXG4gICAgbG9nLFxuICAgIGNhY2hlLFxuICAgIGVtaXR0ZXIsXG4gICAgc2Nyb2xscyxcbiAgICByZXNpemVzLFxuICAgIHJlc2l6ZXJcbiAgICAvL21lZGlhYm94XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNvdXJjZS9qcy9jb3JlL2luZGV4LmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBT0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///10\n')},,,function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nexports.calculateImageScrolls = exports.getSiblings = exports.getChildren = exports.createSelectDropDown = exports.updateCartItemContainer = exports.getTransitionDuration = exports.getClosestValue = exports.headerFadeDetail = exports.hasClass = exports.headerFade = exports.getElementsInView = exports.scrollToElement = exports.recalculateHero = exports.isTitleVisible = exports.isElementVisible = exports.isElementLoadable = exports.updateImages = exports.loadImages = exports.noop = undefined;\n\nvar _properjsHobo = __webpack_require__(/*! properjs-hobo */ 11);\n\nvar _properjsHobo2 = _interopRequireDefault(_properjsHobo);\n\nvar _properjsImageloader = __webpack_require__(/*! properjs-imageloader */ 188);\n\nvar _properjsImageloader2 = _interopRequireDefault(_properjsImageloader);\n\nvar _config = __webpack_require__(/*! ./config */ 4);\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _dom = __webpack_require__(/*! ./dom */ 14);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _detect = __webpack_require__(/*! ./detect */ 47);\n\nvar _detect2 = _interopRequireDefault(_detect);\n\nvar _scroller = __webpack_require__(/*! ../core/scroller */ 32);\n\nvar _scroller2 = _interopRequireDefault(_scroller);\n\nvar _CSSPlugin = __webpack_require__(/*! gsap/CSSPlugin */ 49);\n\nvar _CSSPlugin2 = _interopRequireDefault(_CSSPlugin);\n\nvar _TweenLite = __webpack_require__(/*! gsap/TweenLite */ 6);\n\nvar _TweenLite2 = _interopRequireDefault(_TweenLite);\n\nvar _EasePack = __webpack_require__(/*! gsap/EasePack */ 50);\n\nvar _EasePack2 = _interopRequireDefault(_EasePack);\n\nvar _ScrollToPlugin = __webpack_require__(/*! gsap/ScrollToPlugin */ 51);\n\nvar _ScrollToPlugin2 = _interopRequireDefault(_ScrollToPlugin);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n *\n * @description Global Easing from https://github.com/danro/easing-js/blob/master/easing.js\n * @const easingEquations\n * @memberof core.util\n * @returns {ease}\n *\n */\n\n// easing equations\n\n/**\n *\n * @public\n * @namespace util\n * @memberof core\n * @description Houses app-wide utility methods.\n *\n */\nvar easingEquations = {\n    easeOutSine: function easeOutSine(pos) {\n        return Math.sin(pos * (Math.PI / 2));\n    },\n    easeInOutSine: function easeInOutSine(pos) {\n        return -0.5 * (Math.cos(Math.PI * pos) - 1);\n    },\n    easeInOutQuint: function easeInOutQuint(pos) {\n        if ((pos /= 0.5) < 1) {\n            return 0.5 * Math.pow(pos, 5);\n        }\n        return 0.5 * (Math.pow(pos - 2, 5) + 2);\n    },\n    easeInCirc: function easeInCirc(pos) {\n        return -(Math.sqrt(1 - pos * pos) - 1);\n    },\n    easeOutCirc: function easeOutCirc(pos) {\n        return Math.sqrt(1 - Math.pow(pos - 1, 2));\n    },\n    easeInOutQuart: function easeInOutQuart(pos) {\n        if ((pos /= 0.5) < 1) {\n            return 0.5 * Math.pow(pos, 4);\n        }\n        return -0.5 * ((pos -= 2) * Math.pow(pos, 3) - 2);\n    },\n    easeInOutCirc: function easeInOutCirc(pos) {\n        if ((pos /= 0.5) < 1) {\n            return -0.5 * (Math.sqrt(1 - pos * pos) - 1);\n        }\n        return 0.5 * (Math.sqrt(1 - (pos -= 2) * pos) + 1);\n    }\n};\n\n/**\n *\n * @description Module scrollToelement method, handles manual scrolling to element boundaries\n * @method scrollToElement\n * @param {object} a The DOMElement to check to scroll to\n * @memberof core.util\n *\n */\n\nvar scrollToElement = function scrollToElement(element, offsetVal) {\n    try {\n        var element = element.getAttribute("data-location");\n\n        var div = document.getElementById(element);\n\n        var scrollValue = 0;\n    } catch (e) {\n        var div = document.getElementById(element);\n\n        var scrollValue = 0;\n    }\n\n    // Variable Offset\n\n    if (typeof offsetVal === "undefined") {\n        element.length && (scrollValue = div.offsetTop);\n    } else {\n        element.length && (scrollValue = div.offsetTop - offsetVal);\n    }\n\n    // Animate\n\n    _TweenLite2.default.to(_config2.default.scrollContainer, 1.4, { scrollTo: { y: scrollValue }, ease: Expo.easeInOut });\n};\n\n/**\n *\n * @description Module onImageLoadHander method, handles event\n * @method isElementLoadable\n * @param {object} el The DOMElement to check the offset of\n * @memberof core.util\n * @returns {boolean}\n *\n */\nvar isElementLoadable = function isElementLoadable(el) {\n    var ret = false;\n\n    if (el) {\n        var bounds = el.getBoundingClientRect();\n\n        ret = bounds.top < window.innerHeight * 2;\n    }\n\n    return ret;\n};\n\n/**\n *\n * @description Module isElementVisible method, handles element boundaries\n * @method isElementVisible\n * @param {object} el The DOMElement to check the offsets of\n * @memberof core.util\n * @returns {boolean}\n *\n */\nvar isElementVisible = function isElementVisible(el) {\n    var ret = false;\n\n    if (el) {\n        var bounds = el.getBoundingClientRect();\n\n        ret = bounds.top < window.innerHeight && bounds.bottom > 0;\n    }\n\n    return ret;\n};\n\n/**\n *\n * @description Module isTitleVisible method, handles Title element boundaries\n * @method isTitleVisible\n * @param {object} el The DOMElement to check the offsets of\n * @memberof core.util\n * @returns {boolean}\n *\n */\nvar isTitleVisible = function isTitleVisible(el) {\n    var ret = false;\n\n    if (el) {\n        var bounds = el.getBoundingClientRect();\n\n        var bottom = bounds.bottom - 50;\n\n        var top = bounds.top + 50;\n\n        ret = top < window.innerHeight && bottom > 0;\n    }\n\n    return ret;\n};\n\n/**\n *\n * @description Fresh query to lazyload images on page\n * @method loadImages\n * @param {object} images Optional collection of images to load\n * @param {function} handler Optional handler for load conditions\n * @memberof core.util\n * @returns {ImageLoader}\n *\n */\nvar loadImages = function loadImages(images, handler) {\n    var rQuery = /\\?(.*)$/;\n    var map = function map(vnt) {\n        return parseInt(vnt, 10);\n    };\n\n    var $img = null;\n    var data = null;\n    var vars = null;\n    var width = null;\n    var variant = null;\n    var source = null;\n    var i = null;\n    var filename = null;\n    var extention = null;\n\n    // Normalize the handler\n    handler = handler || isElementLoadable;\n\n    // Normalize the images\n    images = images || (0, _properjsHobo2.default)(_config2.default.lazyImageSelector);\n\n    // Hook here to determine image variant sizes to load ?\n\n    i = images.length;\n\n    for (i; i--;) {\n        $img = images.eq(i);\n        data = $img.data();\n\n        if (data.variants) {\n            width = window.innerWidth;\n            source = data.imgSrc.replace(rQuery, "");\n\n            filename = source.replace(/\\.[^.$]+$/, "").replace(/_.*$/, "");\n            extention = source.substring(source.lastIndexOf(".") + 1, source.length) || source;\n\n            vars = data.variants.split(",").map(map);\n            variant = getClosestValue(vars, width);\n\n            $img[0].setAttribute(_config2.default.lazyImageAttr, filename + "_" + variant + "." + extention);\n        }\n    }\n\n    return new _properjsImageloader2.default({\n        elements: images,\n        property: _config2.default.lazyImageAttr,\n        executor: handler\n    });\n};\n\n/**\n *\n * @description Update images that have already been loaded\n * @method updateImages\n * @param {Hobo} images The optional argument passed collection to reload\n * @memberof util\n *\n */\nvar updateImages = function updateImages(images) {\n    images = images || (0, _properjsHobo2.default)("[" + _config2.default.imageLoaderAttr + "]");\n\n    if (images.length) {\n        images.attr(_config2.default.imageLoaderAttr, "");\n\n        loadImages(images, noop);\n    }\n};\n\n/**\n *\n * @description All true all the time\n * @method noop\n * @memberof core.util\n * @returns {boolean}\n *\n */\nvar noop = function noop() {\n    return true;\n};\n\n/**\n *\n * @method getElementsInView\n * @memberof core.util\n * @param {Hobo} $nodes The collection to process\n * @param {function} executor Optional method to determin `in view`\n * @description Get elements within a loadable position on the page\n * @returns {Hobo}\n *\n */\nvar getElementsInView = function getElementsInView($nodes, executor) {\n    var i = $nodes.length;\n    var ret = [];\n\n    executor = executor || isElementVisible;\n\n    for (i; i--;) {\n        if (executor($nodes[i])) {\n            ret.push($nodes[i]);\n        }\n    }\n\n    return (0, _properjsHobo2.default)(ret);\n};\n\n/**\n *\n * @description Get the applied transition duration from CSS\n * @method getTransitionDuration\n * @param {object} el The DOMElement\n * @memberof util\n * @returns {number}\n *\n */\nvar getTransitionDuration = function getTransitionDuration(el) {\n    var ret = 0;\n    var duration = null;\n    var isSeconds = false;\n    var multiplyBy = 1000;\n\n    if (el) {\n        duration = getComputedStyle(el)[_detect2.default.getPrefixed("transition-duration")];\n        isSeconds = duration.indexOf("ms") === -1;\n        multiplyBy = isSeconds ? 1000 : 1;\n\n        ret = parseFloat(duration) * multiplyBy;\n    }\n\n    return ret;\n};\n\n/**\n *\n * @method getClosestValue\n * @memberof util\n * @param {array} arr The array to process\n * @param {number} closestTo The number to get close to\n * @description Get closest number value without going under\n * @returns {number}\n *\n */\nvar getClosestValue = function getClosestValue(arr, closestTo) {\n    // Get the highest number in arr in case it matches nothing.\n    var close = Math.max.apply(null, arr);\n    var i = arr.length;\n\n    for (i; i--;) {\n        // Check if it\'s higher than your number, but lower than your closest value\n        if (arr[i] >= closestTo && arr[i] < close) {\n            close = arr[i];\n        }\n    }\n\n    return close;\n};\n\n/**\n *\n * @description Fade Header on scroll up or down\n * @method headerFade\n * @param {object} el The DOMElement\n * @memberof util\n * @returns {headerFade}\n *\n */\n\nvar lastScrollTop = 0;\nvar threshold = 20;\n\nvar headerFade = function headerFade() {\n    var scrollPosY = _scroller2.default.getScrollY();\n    var st = scrollPosY;\n\n    if (Math.abs(lastScrollTop - st) <= threshold) {\n        return;\n    }\n\n    if (st < lastScrollTop) {\n        _dom2.default.navi.removeClass("hide-nav");\n    } else {\n        _dom2.default.navi.addClass("hide-nav");\n    }\n\n    lastScrollTop = st;\n\n    // Apply start class to fix negative scrolling issue\n\n    if (scrollPosY > 20) {\n        _dom2.default.navi.removeClass("show-nav");\n    } else {\n        _dom2.default.navi.addClass("show-nav");\n    }\n};\n\n/**\n *\n * @description Fade Header on scroll up or down on Detail pages\n * @method headerFadeDetail\n * @param {object} el The DOMElement\n * @memberof util\n * @returns {headerFadeDetail}\n *\n */\n\nvar headerFadeDetail = function headerFadeDetail() {\n    var scrollPosY = _scroller2.default.getScrollY();\n    var st = scrollPosY;\n\n    if (Math.abs(lastScrollTop - st) <= threshold) {\n        return;\n    }\n\n    if (st < lastScrollTop) {\n        _dom2.default.navi.removeClass("hide-nav");\n    } else {\n        _dom2.default.navi.addClass("hide-nav");\n    }\n\n    lastScrollTop = st;\n\n    // Apply start class to fix negative scrolling issue\n\n    if (scrollPosY > 20) {\n        _dom2.default.navi.removeClass("show-nav");\n    } else {\n        _dom2.default.navi.addClass("show-nav");\n    }\n\n    if (scrollPosY > window.innerHeight && scrollPosY > _config2.default.scrollDistance) {\n\n        _dom2.default.navi.addClass("reverse");\n    } else {\n\n        _dom2.default.navi.removeClass("reverse");\n    }\n};\n\n/**\n *\n * @description Create new height for scroll container in cart\n * @method updateCartItemContainer\n * @param {object} el The DOMElement\n * @memberof util\n * @returns {updateCartItemContainer}\n *\n */\n\nvar updateCartItemContainer = function updateCartItemContainer() {\n\n    var controlHeight = _dom2.default.cartContainer.nextElementSibling.clientHeight;\n    var headerHeight = _dom2.default.cartContainer.previousElementSibling.clientHeight;\n    var height = window.innerHeight - controlHeight - headerHeight;\n\n    _dom2.default.cartContainer.style.height = height + "px";\n};\n\n/**\n *\n * @description Create new dropdown based on Shopify Data\n * @method recalculateHero\n * @param {object} el The DOMElement\n * @memberof util\n * @returns {createSelectDropDown}\n *\n */\n\nvar createSelectDropDown = function createSelectDropDown($select, $price, $addToCart) {\n\n    // Get select dropdown element\n    var $this = $select;\n\n    var $price = $price;\n\n    // Get Length and optiosn from select dropdown element\n    var numberOfOptions = $this[0].options.length;\n    var $children = $this[0].options;\n\n    // Hide original select dropdown element\n    $this.addClass("select-hidden");\n\n    // Create new (styled) select dropdown\n    var styledWrapper = document.createElement("div");\n\n    styledWrapper.className = "select-styled";\n\n    // Add to Dom\n    $this[0].parentNode.insertBefore(styledWrapper, $this[0].nextSibling);\n\n    // Create styled UL\n    var $styledSelect = $this[0].nextSibling;\n    var ul = document.createElement("ul");\n\n    ul.classList.add("select-options");\n\n    // Add it after styled select dropdown\n    $this[0].parentNode.insertBefore(ul, $styledSelect.nextSibling);\n\n    // Add Li to UL\n    for (var i = 0; i < numberOfOptions; i++) {\n\n        var li = document.createElement("li");\n\n        li.innerHTML = $this[0].options[i].value;\n        li.setAttribute("rel", $this[0].options[i].value);\n        li.setAttribute("data-price", $this[0].options[i].dataset.price);\n        li.setAttribute("data-id", $this[0].options[i].dataset.id);\n\n        ul.appendChild(li);\n\n        if (i == 0) {\n            $price[0].innerHTML = $this[0].options[i].dataset.price;\n            $addToCart.attr("data-id", $this[0].options[i].dataset.id);\n        }\n\n        // Last Loop\n\n        if (i + 1 == numberOfOptions) {\n\n            // Retrieve finished Li appended to dom\n            var $listItems = ul.getElementsByTagName("li");\n\n            // Find first Li and add active class\n            var $firstListItem = (0, _properjsHobo2.default)($listItems[0]);\n\n            $firstListItem.addClass("active");\n\n            // Loop through finished Li â€” Apply click states\n            for (var i = 0; i < numberOfOptions; i++) {\n\n                // Click Event\n                $listItems[i].addEventListener("click", function (e) {\n\n                    e.stopPropagation();\n\n                    // Get attribute to match to hidden select dropdown\n                    var format = this.getAttribute("rel");\n\n                    // Change class to active\n                    this.classList.add("active");\n\n                    // Update price in button\n                    $price[0].innerHTML = this.getAttribute("data-price");\n\n                    $addToCart.attr("data-id", this.getAttribute("data-id"));\n\n                    // Loop through list items to remove sibling active classes\n                    for (var _i = 0; _i < numberOfOptions; _i++) {\n\n                        // If the link is the one clicked, skip it\n                        if ($listItems[_i] === event.target) {\n                            continue;\n                        }\n\n                        // Remove the .active class\n                        $listItems[_i].classList.remove("active");\n                    }\n\n                    // Remove selected attr and apply it to hidden selected option\n                    $this[0].options[$this[0].selectedIndex].removeAttribute("selected");\n                    (0, _properjsHobo2.default)(".select-hidden option[value=\\"" + format + "\\"]").attr("selected", "selected");\n                }, false);\n            }\n        }\n    }\n};\n\n/**\n *\n * @description rescroll Loop Hero\n * @method recalculateHero\n * @param {object} el The DOMElement\n * @memberof util\n * @returns {recalculateHero}\n *\n */\n\nvar recalculateHero = function recalculateHero() {\n    /* Recalculate Hero */\n\n    var $plates = (0, _properjsHobo2.default)(_config2.default.plateSelector);\n\n    var i = $plates.length;\n\n    for (i; i--;) {\n        var $plate = $plates.eq(i);\n\n        var off = $plate.offsetTop;\n\n        var scrollValue = window.innerHeight * i;\n\n        $plate.attr("orig-offset", off);\n        $plate.attr("data-scroll", scrollValue);\n    }\n};\n\n/**\n *\n * @description check if class is present (Jquery Module )\n * @method recalculateHero\n * @param {object} el The DOMElement\n * @memberof util\n * @returns {recalculateHero}\n *\n */\n\nvar hasClass = function hasClass(element, className) {\n    return (" " + element.className + " ").indexOf(" " + className + " ") > -1;\n};\n\n/**\n *\n * @description get Siblings  (Jquery Module )\n * @method recalculateHero\n * @param {object} el The DOMElement\n * @memberof util\n * @returns {recalculateHero}\n *\n */\n\nvar getChildren = function getChildren(n, skipMe) {\n    var r = [];\n\n    for (; n; n = n.nextSibling) {\n        if (n.nodeType == 1 && n != skipMe) {\n            r.push(n);\n        }\n    }\n    return r;\n};\n\nvar getSiblings = function getSiblings(n) {\n    return getChildren(n.parentNode.firstChild, n);\n};\n\n/**\n *\n * @description Calculates data-scroll attribute for scrollTo animations\n * @method calculateImageScrolls\n * @param {object} el The DOMElement\n * @memberof util\n * @returns {calculateImageScrolls}\n *\n */\n\nvar calculateImageScrolls = function calculateImageScrolls() {\n\n    // Calculate Scroll Distances for touch screen on after load\n\n    var $plates = _dom2.default.plates;\n\n    if (_config2.default.isTouch == true) {\n\n        var firstPlate = _dom2.default.loop.find(".figure-container:first-child a");\n\n        var lastPlate = _dom2.default.loop.find(".figure-container:last-child a");\n\n        var $heroItem = firstPlate;\n\n        var $lastItem = firstPlate.find(":nth-last-child(2)");\n\n        var heroHeight = $heroItem.clientHeight;\n\n        var lastItemHeight = $lastItem.clientHeight;\n\n        // Run through each piece and calculate data-scroll positions\n\n        var i = 0;\n        var scrollValue = 0;\n        var plateHeights = [];\n        var collectivePlateHeights = [];\n        var detail = false;\n\n        if (window.location.pathname != "/") {\n            detail = true;\n        }\n\n        this.reducer = function (accumulator, currentValue) {\n            return accumulator + currentValue;\n        };\n\n        for (i = 0; i < $plates.length; i++) {\n\n            if (detail == true) {\n\n                _dom2.default.loop[0].classList.remove("hidden");\n                $plates[i].closest(".figure-container").style.position = "absolute";\n                $plates[i].closest(".figure-container").style.opacity = 1;\n                var plateHeight = $plates[i].closest(".figure-container").clientHeight;\n\n                plateHeight = parseInt(plateHeight);\n\n                //Reset images\n\n                _dom2.default.loop[0].classList.add("hidden");\n                $plates[i].closest(".figure-container").style.position = null;\n                $plates[i].closest(".figure-container").style.opacity = null;\n            } else {\n\n                var plateHeight = $plates[i].closest(".figure-container").clientHeight;\n\n                plateHeight = parseInt(plateHeight);\n            }\n\n            var middle = window.innerHeight / 2 - plateHeight / 2;\n\n            if (i === 0) {\n                $plates[i].setAttribute("data-scroll", 0);\n            } else {\n                $plates[i].setAttribute("data-scroll", scrollValue - middle);\n            }\n\n            var scrollValue = scrollValue + plateHeight;\n        }\n    } else {\n\n        var i = $plates.length;\n\n        for (i; i--;) {\n            var $plate = $plates.eq(i);\n            // this.off = this.$plate.closest(\'.figure-container\').offset().top;\n            // this.$plate.attr(\'orig-offset\', this.off);\n            var scrollValue = window.innerHeight * i;\n\n            if (i == 0) {\n                scrollValue = 1;\n            }\n\n            if (i == $plates.length - 1) {\n                scrollValue -= 2;\n            }\n\n            $plate.attr("data-scroll", scrollValue);\n        }\n    }\n};\n\n/******************************************************************************\n * Export\n *******************************************************************************/\nexports.noop = noop;\nexports.loadImages = loadImages;\nexports.updateImages = updateImages;\nexports.isElementLoadable = isElementLoadable;\nexports.isElementVisible = isElementVisible;\nexports.isTitleVisible = isTitleVisible;\nexports.recalculateHero = recalculateHero;\nexports.scrollToElement = scrollToElement;\nexports.getElementsInView = getElementsInView;\nexports.headerFade = headerFade;\nexports.hasClass = hasClass;\nexports.headerFadeDetail = headerFadeDetail;\nexports.getClosestValue = getClosestValue;\nexports.getTransitionDuration = getTransitionDuration;\nexports.updateCartItemContainer = updateCartItemContainer;\nexports.createSelectDropDown = createSelectDropDown;\nexports.getChildren = getChildren;\nexports.getSiblings = getSiblings;\nexports.calculateImageScrolls = calculateImageScrolls;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc291cmNlL2pzL2NvcmUvdXRpbC5qcz9mNmJiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICpcbiAqIEBwdWJsaWNcbiAqIEBuYW1lc3BhY2UgdXRpbFxuICogQG1lbWJlcm9mIGNvcmVcbiAqIEBkZXNjcmlwdGlvbiBIb3VzZXMgYXBwLXdpZGUgdXRpbGl0eSBtZXRob2RzLlxuICpcbiAqL1xuaW1wb3J0ICQgZnJvbSBcInByb3BlcmpzLWhvYm9cIjtcbmltcG9ydCBJbWFnZUxvYWRlciBmcm9tIFwicHJvcGVyanMtaW1hZ2Vsb2FkZXJcIjtcbmltcG9ydCBjb25maWcgZnJvbSBcIi4vY29uZmlnXCI7XG5pbXBvcnQgZG9tIGZyb20gXCIuL2RvbVwiO1xuaW1wb3J0IGRldGVjdCBmcm9tIFwiLi9kZXRlY3RcIjtcbmltcG9ydCBzY3JvbGxlciBmcm9tIFwiLi4vY29yZS9zY3JvbGxlclwiO1xuaW1wb3J0IENTU1BsdWdpbiBmcm9tIFwiZ3NhcC9DU1NQbHVnaW5cIjtcbmltcG9ydCBUd2VlbkxpdGUgZnJvbSBcImdzYXAvVHdlZW5MaXRlXCI7XG5pbXBvcnQgRWFzZVBhY2sgZnJvbSBcImdzYXAvRWFzZVBhY2tcIjtcbmltcG9ydCBTY3JvbGxUb1BsdWdpbiBmcm9tIFwiZ3NhcC9TY3JvbGxUb1BsdWdpblwiO1xuLyoqXG4gKlxuICogQGRlc2NyaXB0aW9uIEdsb2JhbCBFYXNpbmcgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZGFucm8vZWFzaW5nLWpzL2Jsb2IvbWFzdGVyL2Vhc2luZy5qc1xuICogQGNvbnN0IGVhc2luZ0VxdWF0aW9uc1xuICogQG1lbWJlcm9mIGNvcmUudXRpbFxuICogQHJldHVybnMge2Vhc2V9XG4gKlxuICovXG5cbi8vIGVhc2luZyBlcXVhdGlvbnNcblxuY29uc3QgZWFzaW5nRXF1YXRpb25zID0ge1xuICAgIGVhc2VPdXRTaW5lIChwb3MpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc2luKHBvcyAqIChNYXRoLlBJIC8gMikpO1xuICAgIH0sXG4gICAgZWFzZUluT3V0U2luZSAocG9zKSB7XG4gICAgICAgIHJldHVybiAtMC41ICogKE1hdGguY29zKE1hdGguUEkgKiBwb3MpIC0gMSk7XG4gICAgfSxcbiAgICBlYXNlSW5PdXRRdWludCAocG9zKSB7XG4gICAgICAgIGlmICgocG9zIC89IDAuNSkgPCAxKSB7XG4gICAgICAgICAgICByZXR1cm4gMC41ICogTWF0aC5wb3cocG9zLCA1KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMC41ICogKE1hdGgucG93KHBvcyAtIDIsIDUpICsgMik7XG4gICAgfSxcbiAgICBlYXNlSW5DaXJjIChwb3MpIHtcbiAgICAgICAgcmV0dXJuIC0oTWF0aC5zcXJ0KDEgLSBwb3MgKiBwb3MpIC0gMSk7XG4gICAgfSxcblxuICAgIGVhc2VPdXRDaXJjIChwb3MpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCgxIC0gTWF0aC5wb3cocG9zIC0gMSwgMikpO1xuICAgIH0sXG5cbiAgICBlYXNlSW5PdXRRdWFydCAocG9zKSB7XG4gICAgICAgIGlmICgocG9zIC89IDAuNSkgPCAxKSB7XG4gICAgICAgICAgICByZXR1cm4gMC41ICogTWF0aC5wb3cocG9zLCA0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTAuNSAqICgocG9zIC09IDIpICogTWF0aC5wb3cocG9zLCAzKSAtIDIpO1xuICAgIH0sXG5cbiAgICBlYXNlSW5PdXRDaXJjIChwb3MpIHtcbiAgICAgICAgaWYgKChwb3MgLz0gMC41KSA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybiAtMC41ICogKE1hdGguc3FydCgxIC0gcG9zICogcG9zKSAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwLjUgKiAoTWF0aC5zcXJ0KDEgLSAocG9zIC09IDIpICogcG9zKSArIDEpO1xuICAgIH1cbn07XG5cbi8qKlxuICpcbiAqIEBkZXNjcmlwdGlvbiBNb2R1bGUgc2Nyb2xsVG9lbGVtZW50IG1ldGhvZCwgaGFuZGxlcyBtYW51YWwgc2Nyb2xsaW5nIHRvIGVsZW1lbnQgYm91bmRhcmllc1xuICogQG1ldGhvZCBzY3JvbGxUb0VsZW1lbnRcbiAqIEBwYXJhbSB7b2JqZWN0fSBhIFRoZSBET01FbGVtZW50IHRvIGNoZWNrIHRvIHNjcm9sbCB0b1xuICogQG1lbWJlcm9mIGNvcmUudXRpbFxuICpcbiAqL1xuXG5jb25zdCBzY3JvbGxUb0VsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbWVudCwgb2Zmc2V0VmFsKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtbG9jYXRpb25cIik7XG5cblxuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudCk7XG5cblxuICAgICAgICB2YXIgc2Nyb2xsVmFsdWUgPSAwO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnQpO1xuXG5cbiAgICAgICAgdmFyIHNjcm9sbFZhbHVlID0gMDtcbiAgICB9XG5cbiAgICAvLyBWYXJpYWJsZSBPZmZzZXRcblxuICAgIGlmICh0eXBlb2Ygb2Zmc2V0VmFsID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGVsZW1lbnQubGVuZ3RoICYmIChzY3JvbGxWYWx1ZSA9IGRpdi5vZmZzZXRUb3ApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQubGVuZ3RoICYmIChzY3JvbGxWYWx1ZSA9IGRpdi5vZmZzZXRUb3AgLSBvZmZzZXRWYWwpO1xuICAgIH1cblxuXG4gICAgLy8gQW5pbWF0ZVxuXG4gICAgVHdlZW5MaXRlLnRvKGNvbmZpZy5zY3JvbGxDb250YWluZXIsIDEuNCwgeyBzY3JvbGxUbzogeyB5OiBzY3JvbGxWYWx1ZSB9LCBlYXNlOiBFeHBvLmVhc2VJbk91dCB9KTtcbn07XG5cbi8qKlxuICpcbiAqIEBkZXNjcmlwdGlvbiBNb2R1bGUgb25JbWFnZUxvYWRIYW5kZXIgbWV0aG9kLCBoYW5kbGVzIGV2ZW50XG4gKiBAbWV0aG9kIGlzRWxlbWVudExvYWRhYmxlXG4gKiBAcGFyYW0ge29iamVjdH0gZWwgVGhlIERPTUVsZW1lbnQgdG8gY2hlY2sgdGhlIG9mZnNldCBvZlxuICogQG1lbWJlcm9mIGNvcmUudXRpbFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKlxuICovXG5jb25zdCBpc0VsZW1lbnRMb2FkYWJsZSA9IGZ1bmN0aW9uIChlbCkge1xuICAgIGxldCByZXQgPSBmYWxzZTtcblxuICAgIGlmIChlbCkge1xuICAgICAgICBjb25zdCBib3VuZHMgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICByZXQgPSBib3VuZHMudG9wIDwgd2luZG93LmlubmVySGVpZ2h0ICogMjtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xufTtcblxuXG5cblxuXG4vKipcbiAqXG4gKiBAZGVzY3JpcHRpb24gTW9kdWxlIGlzRWxlbWVudFZpc2libGUgbWV0aG9kLCBoYW5kbGVzIGVsZW1lbnQgYm91bmRhcmllc1xuICogQG1ldGhvZCBpc0VsZW1lbnRWaXNpYmxlXG4gKiBAcGFyYW0ge29iamVjdH0gZWwgVGhlIERPTUVsZW1lbnQgdG8gY2hlY2sgdGhlIG9mZnNldHMgb2ZcbiAqIEBtZW1iZXJvZiBjb3JlLnV0aWxcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICpcbiAqL1xuY29uc3QgaXNFbGVtZW50VmlzaWJsZSA9IGZ1bmN0aW9uIChlbCkge1xuICAgIGxldCByZXQgPSBmYWxzZTtcblxuICAgIGlmIChlbCkge1xuICAgICAgICBjb25zdCBib3VuZHMgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICByZXQgPSBib3VuZHMudG9wIDwgd2luZG93LmlubmVySGVpZ2h0ICYmIGJvdW5kcy5ib3R0b20gPiAwO1xuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG59O1xuXG5cblxuXG4vKipcbiAqXG4gKiBAZGVzY3JpcHRpb24gTW9kdWxlIGlzVGl0bGVWaXNpYmxlIG1ldGhvZCwgaGFuZGxlcyBUaXRsZSBlbGVtZW50IGJvdW5kYXJpZXNcbiAqIEBtZXRob2QgaXNUaXRsZVZpc2libGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBlbCBUaGUgRE9NRWxlbWVudCB0byBjaGVjayB0aGUgb2Zmc2V0cyBvZlxuICogQG1lbWJlcm9mIGNvcmUudXRpbFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKlxuICovXG5jb25zdCBpc1RpdGxlVmlzaWJsZSA9IGZ1bmN0aW9uIChlbCkge1xuICAgIGxldCByZXQgPSBmYWxzZTtcblxuICAgIGlmIChlbCkge1xuICAgICAgICBjb25zdCBib3VuZHMgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICBjb25zdCBib3R0b20gPSBib3VuZHMuYm90dG9tIC0gNTA7XG5cbiAgICAgICAgY29uc3QgdG9wID0gYm91bmRzLnRvcCArIDUwO1xuXG4gICAgICAgIHJldCA9IHRvcCA8IHdpbmRvdy5pbm5lckhlaWdodCAmJiBib3R0b20gPiAwO1xuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG59O1xuXG5cblxuXG4vKipcbiAqXG4gKiBAZGVzY3JpcHRpb24gRnJlc2ggcXVlcnkgdG8gbGF6eWxvYWQgaW1hZ2VzIG9uIHBhZ2VcbiAqIEBtZXRob2QgbG9hZEltYWdlc1xuICogQHBhcmFtIHtvYmplY3R9IGltYWdlcyBPcHRpb25hbCBjb2xsZWN0aW9uIG9mIGltYWdlcyB0byBsb2FkXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBoYW5kbGVyIE9wdGlvbmFsIGhhbmRsZXIgZm9yIGxvYWQgY29uZGl0aW9uc1xuICogQG1lbWJlcm9mIGNvcmUudXRpbFxuICogQHJldHVybnMge0ltYWdlTG9hZGVyfVxuICpcbiAqL1xuY29uc3QgbG9hZEltYWdlcyA9IGZ1bmN0aW9uIChpbWFnZXMsIGhhbmRsZXIpIHtcbiAgICBjb25zdCByUXVlcnkgPSAvXFw/KC4qKSQvO1xuICAgIGNvbnN0IG1hcCA9IGZ1bmN0aW9uICh2bnQpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KHZudCwgMTApO1xuICAgIH07XG5cbiAgICBsZXQgJGltZyA9IG51bGw7XG4gICAgbGV0IGRhdGEgPSBudWxsO1xuICAgIGxldCB2YXJzID0gbnVsbDtcbiAgICBsZXQgd2lkdGggPSBudWxsO1xuICAgIGxldCB2YXJpYW50ID0gbnVsbDtcbiAgICBsZXQgc291cmNlID0gbnVsbDtcbiAgICBsZXQgaSA9IG51bGw7XG4gICAgbGV0IGZpbGVuYW1lID0gbnVsbDtcbiAgICBsZXQgZXh0ZW50aW9uID0gbnVsbDtcblxuICAgIC8vIE5vcm1hbGl6ZSB0aGUgaGFuZGxlclxuICAgIGhhbmRsZXIgPSBoYW5kbGVyIHx8IGlzRWxlbWVudExvYWRhYmxlO1xuXG4gICAgLy8gTm9ybWFsaXplIHRoZSBpbWFnZXNcbiAgICBpbWFnZXMgPSBpbWFnZXMgfHwgJChjb25maWcubGF6eUltYWdlU2VsZWN0b3IpO1xuXG4gICAgLy8gSG9vayBoZXJlIHRvIGRldGVybWluZSBpbWFnZSB2YXJpYW50IHNpemVzIHRvIGxvYWQgP1xuXG4gICAgaSA9IGltYWdlcy5sZW5ndGg7XG5cbiAgICBmb3IgKGk7IGktLTsgKSB7XG4gICAgICAgICRpbWcgPSBpbWFnZXMuZXEoaSk7XG4gICAgICAgIGRhdGEgPSAkaW1nLmRhdGEoKTtcblxuICAgICAgICBpZiAoZGF0YS52YXJpYW50cykge1xuICAgICAgICAgICAgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgICAgIHNvdXJjZSA9IGRhdGEuaW1nU3JjLnJlcGxhY2UoclF1ZXJ5LCBcIlwiKTtcblxuICAgICAgICAgICAgZmlsZW5hbWUgPSBzb3VyY2UucmVwbGFjZSgvXFwuW14uJF0rJC8sIFwiXCIpLnJlcGxhY2UoL18uKiQvLCBcIlwiKTtcbiAgICAgICAgICAgIGV4dGVudGlvbiA9IHNvdXJjZS5zdWJzdHJpbmcoc291cmNlLmxhc3RJbmRleE9mKFwiLlwiKSArIDEsIHNvdXJjZS5sZW5ndGgpIHx8IHNvdXJjZTtcblxuICAgICAgICAgICAgdmFycyA9IGRhdGEudmFyaWFudHMuc3BsaXQoXCIsXCIpLm1hcChtYXApO1xuICAgICAgICAgICAgdmFyaWFudCA9IGdldENsb3Nlc3RWYWx1ZSh2YXJzLCB3aWR0aCk7XG5cbiAgICAgICAgICAgICRpbWdbIDAgXS5zZXRBdHRyaWJ1dGUoY29uZmlnLmxhenlJbWFnZUF0dHIsIGAke2ZpbGVuYW1lfV8ke3ZhcmlhbnR9LiR7ZXh0ZW50aW9ufWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBJbWFnZUxvYWRlcih7XG4gICAgICAgIGVsZW1lbnRzOiBpbWFnZXMsXG4gICAgICAgIHByb3BlcnR5OiBjb25maWcubGF6eUltYWdlQXR0cixcbiAgICAgICAgZXhlY3V0b3I6IGhhbmRsZXJcbiAgICB9KTtcbn07XG5cblxuXG5cblxuXG5cblxuLyoqXG4gKlxuICogQGRlc2NyaXB0aW9uIFVwZGF0ZSBpbWFnZXMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiBsb2FkZWRcbiAqIEBtZXRob2QgdXBkYXRlSW1hZ2VzXG4gKiBAcGFyYW0ge0hvYm99IGltYWdlcyBUaGUgb3B0aW9uYWwgYXJndW1lbnQgcGFzc2VkIGNvbGxlY3Rpb24gdG8gcmVsb2FkXG4gKiBAbWVtYmVyb2YgdXRpbFxuICpcbiAqL1xuY29uc3QgdXBkYXRlSW1hZ2VzID0gZnVuY3Rpb24gKGltYWdlcykge1xuICAgIGltYWdlcyA9IGltYWdlcyB8fCAkKGBbJHtjb25maWcuaW1hZ2VMb2FkZXJBdHRyfV1gKTtcblxuICAgIGlmIChpbWFnZXMubGVuZ3RoKSB7XG4gICAgICAgIGltYWdlcy5hdHRyKGNvbmZpZy5pbWFnZUxvYWRlckF0dHIsIFwiXCIpO1xuXG4gICAgICAgIGxvYWRJbWFnZXMoaW1hZ2VzLCBub29wKTtcbiAgICB9XG59O1xuXG4vKipcbiAqXG4gKiBAZGVzY3JpcHRpb24gQWxsIHRydWUgYWxsIHRoZSB0aW1lXG4gKiBAbWV0aG9kIG5vb3BcbiAqIEBtZW1iZXJvZiBjb3JlLnV0aWxcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICpcbiAqL1xuY29uc3Qgbm9vcCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cblxuXG5cblxuXG5cbi8qKlxuICpcbiAqIEBtZXRob2QgZ2V0RWxlbWVudHNJblZpZXdcbiAqIEBtZW1iZXJvZiBjb3JlLnV0aWxcbiAqIEBwYXJhbSB7SG9ib30gJG5vZGVzIFRoZSBjb2xsZWN0aW9uIHRvIHByb2Nlc3NcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGV4ZWN1dG9yIE9wdGlvbmFsIG1ldGhvZCB0byBkZXRlcm1pbiBgaW4gdmlld2BcbiAqIEBkZXNjcmlwdGlvbiBHZXQgZWxlbWVudHMgd2l0aGluIGEgbG9hZGFibGUgcG9zaXRpb24gb24gdGhlIHBhZ2VcbiAqIEByZXR1cm5zIHtIb2JvfVxuICpcbiAqL1xuY29uc3QgZ2V0RWxlbWVudHNJblZpZXcgPSBmdW5jdGlvbiAoJG5vZGVzLCBleGVjdXRvcikge1xuICAgIGxldCBpID0gJG5vZGVzLmxlbmd0aDtcbiAgICBjb25zdCByZXQgPSBbXTtcblxuICAgIGV4ZWN1dG9yID0gZXhlY3V0b3IgfHwgaXNFbGVtZW50VmlzaWJsZTtcblxuICAgIGZvciAoaTsgaS0tOyApIHtcbiAgICAgICAgaWYgKGV4ZWN1dG9yKCRub2Rlc1sgaSBdKSkge1xuICAgICAgICAgICAgcmV0LnB1c2goJG5vZGVzWyBpIF0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICQocmV0KTtcbn07XG5cblxuXG5cblxuXG5cbi8qKlxuICpcbiAqIEBkZXNjcmlwdGlvbiBHZXQgdGhlIGFwcGxpZWQgdHJhbnNpdGlvbiBkdXJhdGlvbiBmcm9tIENTU1xuICogQG1ldGhvZCBnZXRUcmFuc2l0aW9uRHVyYXRpb25cbiAqIEBwYXJhbSB7b2JqZWN0fSBlbCBUaGUgRE9NRWxlbWVudFxuICogQG1lbWJlcm9mIHV0aWxcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKlxuICovXG5jb25zdCBnZXRUcmFuc2l0aW9uRHVyYXRpb24gPSBmdW5jdGlvbiAoZWwpIHtcbiAgICBsZXQgcmV0ID0gMDtcbiAgICBsZXQgZHVyYXRpb24gPSBudWxsO1xuICAgIGxldCBpc1NlY29uZHMgPSBmYWxzZTtcbiAgICBsZXQgbXVsdGlwbHlCeSA9IDEwMDA7XG5cbiAgICBpZiAoZWwpIHtcbiAgICAgICAgZHVyYXRpb24gPSBnZXRDb21wdXRlZFN0eWxlKGVsKVsgZGV0ZWN0LmdldFByZWZpeGVkKFwidHJhbnNpdGlvbi1kdXJhdGlvblwiKSBdO1xuICAgICAgICBpc1NlY29uZHMgPSBkdXJhdGlvbi5pbmRleE9mKFwibXNcIikgPT09IC0xO1xuICAgICAgICBtdWx0aXBseUJ5ID0gaXNTZWNvbmRzID8gMTAwMCA6IDE7XG5cbiAgICAgICAgcmV0ID0gcGFyc2VGbG9hdChkdXJhdGlvbikgKiBtdWx0aXBseUJ5O1xuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG59O1xuXG5cblxuXG5cblxuLyoqXG4gKlxuICogQG1ldGhvZCBnZXRDbG9zZXN0VmFsdWVcbiAqIEBtZW1iZXJvZiB1dGlsXG4gKiBAcGFyYW0ge2FycmF5fSBhcnIgVGhlIGFycmF5IHRvIHByb2Nlc3NcbiAqIEBwYXJhbSB7bnVtYmVyfSBjbG9zZXN0VG8gVGhlIG51bWJlciB0byBnZXQgY2xvc2UgdG9cbiAqIEBkZXNjcmlwdGlvbiBHZXQgY2xvc2VzdCBudW1iZXIgdmFsdWUgd2l0aG91dCBnb2luZyB1bmRlclxuICogQHJldHVybnMge251bWJlcn1cbiAqXG4gKi9cbmNvbnN0IGdldENsb3Nlc3RWYWx1ZSA9IGZ1bmN0aW9uIChhcnIsIGNsb3Nlc3RUbykge1xuICAgIC8vIEdldCB0aGUgaGlnaGVzdCBudW1iZXIgaW4gYXJyIGluIGNhc2UgaXQgbWF0Y2hlcyBub3RoaW5nLlxuICAgIGxldCBjbG9zZSA9IE1hdGgubWF4LmFwcGx5KG51bGwsIGFycik7XG4gICAgbGV0IGkgPSBhcnIubGVuZ3RoO1xuXG4gICAgZm9yIChpOyBpLS07ICkge1xuICAgICAgICAvLyBDaGVjayBpZiBpdCdzIGhpZ2hlciB0aGFuIHlvdXIgbnVtYmVyLCBidXQgbG93ZXIgdGhhbiB5b3VyIGNsb3Nlc3QgdmFsdWVcbiAgICAgICAgaWYgKGFyclsgaSBdID49IGNsb3Nlc3RUbyAmJiBhcnJbIGkgXSA8IGNsb3NlKSB7XG4gICAgICAgICAgICBjbG9zZSA9IGFyclsgaSBdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNsb3NlO1xufTtcblxuXG5cblxuXG4vKipcbiAqXG4gKiBAZGVzY3JpcHRpb24gRmFkZSBIZWFkZXIgb24gc2Nyb2xsIHVwIG9yIGRvd25cbiAqIEBtZXRob2QgaGVhZGVyRmFkZVxuICogQHBhcmFtIHtvYmplY3R9IGVsIFRoZSBET01FbGVtZW50XG4gKiBAbWVtYmVyb2YgdXRpbFxuICogQHJldHVybnMge2hlYWRlckZhZGV9XG4gKlxuICovXG5cbmxldCBsYXN0U2Nyb2xsVG9wID0gMDtcbmNvbnN0IHRocmVzaG9sZCA9IDIwO1xuXG5jb25zdCBoZWFkZXJGYWRlID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHNjcm9sbFBvc1kgPSBzY3JvbGxlci5nZXRTY3JvbGxZKCk7XG4gICAgY29uc3Qgc3QgPSBzY3JvbGxQb3NZO1xuXG4gICAgaWYgKE1hdGguYWJzKGxhc3RTY3JvbGxUb3AgLSBzdCkgPD0gdGhyZXNob2xkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc3QgPCBsYXN0U2Nyb2xsVG9wKSB7XG4gICAgICAgIGRvbS5uYXZpLnJlbW92ZUNsYXNzKFwiaGlkZS1uYXZcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZG9tLm5hdmkuYWRkQ2xhc3MoXCJoaWRlLW5hdlwiKTtcbiAgICB9XG5cbiAgICBsYXN0U2Nyb2xsVG9wID0gc3Q7XG5cbiAgICAvLyBBcHBseSBzdGFydCBjbGFzcyB0byBmaXggbmVnYXRpdmUgc2Nyb2xsaW5nIGlzc3VlXG5cbiAgICBpZiAoc2Nyb2xsUG9zWSA+IDIwKSB7XG4gICAgICAgIGRvbS5uYXZpLnJlbW92ZUNsYXNzKFwic2hvdy1uYXZcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZG9tLm5hdmkuYWRkQ2xhc3MoXCJzaG93LW5hdlwiKTtcbiAgICB9XG5cblxufTtcblxuXG5cblxuXG5cblxuXG4vKipcbiAqXG4gKiBAZGVzY3JpcHRpb24gRmFkZSBIZWFkZXIgb24gc2Nyb2xsIHVwIG9yIGRvd24gb24gRGV0YWlsIHBhZ2VzXG4gKiBAbWV0aG9kIGhlYWRlckZhZGVEZXRhaWxcbiAqIEBwYXJhbSB7b2JqZWN0fSBlbCBUaGUgRE9NRWxlbWVudFxuICogQG1lbWJlcm9mIHV0aWxcbiAqIEByZXR1cm5zIHtoZWFkZXJGYWRlRGV0YWlsfVxuICpcbiAqL1xuXG5jb25zdCBoZWFkZXJGYWRlRGV0YWlsID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHNjcm9sbFBvc1kgPSBzY3JvbGxlci5nZXRTY3JvbGxZKCk7XG4gICAgY29uc3Qgc3QgPSBzY3JvbGxQb3NZO1xuXG4gICAgaWYgKE1hdGguYWJzKGxhc3RTY3JvbGxUb3AgLSBzdCkgPD0gdGhyZXNob2xkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc3QgPCBsYXN0U2Nyb2xsVG9wKSB7XG4gICAgICAgIGRvbS5uYXZpLnJlbW92ZUNsYXNzKFwiaGlkZS1uYXZcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZG9tLm5hdmkuYWRkQ2xhc3MoXCJoaWRlLW5hdlwiKTtcbiAgICB9XG5cbiAgICBsYXN0U2Nyb2xsVG9wID0gc3Q7XG5cbiAgICAvLyBBcHBseSBzdGFydCBjbGFzcyB0byBmaXggbmVnYXRpdmUgc2Nyb2xsaW5nIGlzc3VlXG5cbiAgICBpZiAoc2Nyb2xsUG9zWSA+IDIwKSB7XG4gICAgICAgIGRvbS5uYXZpLnJlbW92ZUNsYXNzKFwic2hvdy1uYXZcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZG9tLm5hdmkuYWRkQ2xhc3MoXCJzaG93LW5hdlwiKTtcbiAgICB9XG5cblxuICAgIGlmIChzY3JvbGxQb3NZID4gd2luZG93LmlubmVySGVpZ2h0ICYmIHNjcm9sbFBvc1kgPiBjb25maWcuc2Nyb2xsRGlzdGFuY2UpIHtcblxuICAgICAgICBkb20ubmF2aS5hZGRDbGFzcyhcInJldmVyc2VcIik7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIGRvbS5uYXZpLnJlbW92ZUNsYXNzKFwicmV2ZXJzZVwiKTtcblxuICAgIH1cblxufTtcblxuXG5cblxuXG4vKipcbiAqXG4gKiBAZGVzY3JpcHRpb24gQ3JlYXRlIG5ldyBoZWlnaHQgZm9yIHNjcm9sbCBjb250YWluZXIgaW4gY2FydFxuICogQG1ldGhvZCB1cGRhdGVDYXJ0SXRlbUNvbnRhaW5lclxuICogQHBhcmFtIHtvYmplY3R9IGVsIFRoZSBET01FbGVtZW50XG4gKiBAbWVtYmVyb2YgdXRpbFxuICogQHJldHVybnMge3VwZGF0ZUNhcnRJdGVtQ29udGFpbmVyfVxuICpcbiAqL1xuXG5jb25zdCB1cGRhdGVDYXJ0SXRlbUNvbnRhaW5lciA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGNvbnN0IGNvbnRyb2xIZWlnaHQgPSBkb20uY2FydENvbnRhaW5lci5uZXh0RWxlbWVudFNpYmxpbmcuY2xpZW50SGVpZ2h0O1xuICAgIGNvbnN0IGhlYWRlckhlaWdodCA9IGRvbS5jYXJ0Q29udGFpbmVyLnByZXZpb3VzRWxlbWVudFNpYmxpbmcuY2xpZW50SGVpZ2h0O1xuICAgIGNvbnN0IGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAtIGNvbnRyb2xIZWlnaHQgLSBoZWFkZXJIZWlnaHQ7XG5cbiAgICBkb20uY2FydENvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHQgfXB4YDtcblxufTtcblxuXG5cblxuLyoqXG4gKlxuICogQGRlc2NyaXB0aW9uIENyZWF0ZSBuZXcgZHJvcGRvd24gYmFzZWQgb24gU2hvcGlmeSBEYXRhXG4gKiBAbWV0aG9kIHJlY2FsY3VsYXRlSGVyb1xuICogQHBhcmFtIHtvYmplY3R9IGVsIFRoZSBET01FbGVtZW50XG4gKiBAbWVtYmVyb2YgdXRpbFxuICogQHJldHVybnMge2NyZWF0ZVNlbGVjdERyb3BEb3dufVxuICpcbiAqL1xuXG5jb25zdCBjcmVhdGVTZWxlY3REcm9wRG93biA9IGZ1bmN0aW9uICgkc2VsZWN0LCAkcHJpY2UsICRhZGRUb0NhcnQpIHtcblxuICAgIC8vIEdldCBzZWxlY3QgZHJvcGRvd24gZWxlbWVudFxuICAgIGNvbnN0ICR0aGlzID0gJHNlbGVjdDtcblxuICAgIHZhciAkcHJpY2UgPSAkcHJpY2U7XG5cbiAgICAvLyBHZXQgTGVuZ3RoIGFuZCBvcHRpb3NuIGZyb20gc2VsZWN0IGRyb3Bkb3duIGVsZW1lbnRcbiAgICBjb25zdCBudW1iZXJPZk9wdGlvbnMgPSAkdGhpc1sgMCBdLm9wdGlvbnMubGVuZ3RoO1xuICAgIGNvbnN0ICRjaGlsZHJlbiA9ICR0aGlzWyAwIF0ub3B0aW9ucztcblxuICAgIC8vIEhpZGUgb3JpZ2luYWwgc2VsZWN0IGRyb3Bkb3duIGVsZW1lbnRcbiAgICAkdGhpcy5hZGRDbGFzcyhcInNlbGVjdC1oaWRkZW5cIik7XG5cbiAgICAvLyBDcmVhdGUgbmV3IChzdHlsZWQpIHNlbGVjdCBkcm9wZG93blxuICAgIGNvbnN0XG4gICAgICAgIHN0eWxlZFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgc3R5bGVkV3JhcHBlci5jbGFzc05hbWUgPSBcInNlbGVjdC1zdHlsZWRcIjtcblxuICAgIC8vIEFkZCB0byBEb21cbiAgICAkdGhpc1sgMCBdLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHN0eWxlZFdyYXBwZXIsICR0aGlzWyAwIF0ubmV4dFNpYmxpbmcpO1xuXG4gICAgLy8gQ3JlYXRlIHN0eWxlZCBVTFxuICAgIGNvbnN0ICRzdHlsZWRTZWxlY3QgPSAkdGhpc1sgMCBdLm5leHRTaWJsaW5nO1xuICAgIGNvbnN0IHVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpO1xuXG4gICAgdWwuY2xhc3NMaXN0LmFkZChcInNlbGVjdC1vcHRpb25zXCIpO1xuXG4gICAgLy8gQWRkIGl0IGFmdGVyIHN0eWxlZCBzZWxlY3QgZHJvcGRvd25cbiAgICAkdGhpc1sgMCBdLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHVsLCAkc3R5bGVkU2VsZWN0Lm5leHRTaWJsaW5nKTtcblxuICAgIC8vIEFkZCBMaSB0byBVTFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtYmVyT2ZPcHRpb25zOyBpKyspIHtcblxuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcblxuICAgICAgICBsaS5pbm5lckhUTUwgPSAkdGhpc1sgMCBdLm9wdGlvbnNbIGkgXS52YWx1ZTtcbiAgICAgICAgbGkuc2V0QXR0cmlidXRlKFwicmVsXCIsICR0aGlzWyAwIF0ub3B0aW9uc1sgaSBdLnZhbHVlKTtcbiAgICAgICAgbGkuc2V0QXR0cmlidXRlKFwiZGF0YS1wcmljZVwiLCAkdGhpc1sgMCBdLm9wdGlvbnNbIGkgXS5kYXRhc2V0LnByaWNlKTtcbiAgICAgICAgbGkuc2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiLCAkdGhpc1sgMCBdLm9wdGlvbnNbIGkgXS5kYXRhc2V0LmlkKTtcblxuICAgICAgICB1bC5hcHBlbmRDaGlsZCggbGkgKTtcblxuICAgICAgICBpZiAoaSA9PSAwKSB7XG4gICAgICAgICAgICAkcHJpY2VbIDAgXS5pbm5lckhUTUwgPSAkdGhpc1sgMCBdLm9wdGlvbnNbIGkgXS5kYXRhc2V0LnByaWNlO1xuICAgICAgICAgICAgJGFkZFRvQ2FydC5hdHRyKFwiZGF0YS1pZFwiLCAkdGhpc1sgMCBdLm9wdGlvbnNbIGkgXS5kYXRhc2V0LmlkICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMYXN0IExvb3BcblxuICAgICAgICBpZiAoKGkgKyAxKSA9PSAobnVtYmVyT2ZPcHRpb25zKSkge1xuXG4gICAgICAgICAgICAvLyBSZXRyaWV2ZSBmaW5pc2hlZCBMaSBhcHBlbmRlZCB0byBkb21cbiAgICAgICAgICAgIHZhciAkbGlzdEl0ZW1zID0gdWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJsaVwiKTtcblxuICAgICAgICAgICAgLy8gRmluZCBmaXJzdCBMaSBhbmQgYWRkIGFjdGl2ZSBjbGFzc1xuICAgICAgICAgICAgY29uc3QgJGZpcnN0TGlzdEl0ZW0gPSAkKCRsaXN0SXRlbXNbIDAgXSk7XG5cbiAgICAgICAgICAgICRmaXJzdExpc3RJdGVtLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuXG4gICAgICAgICAgICAvLyBMb29wIHRocm91Z2ggZmluaXNoZWQgTGkg4oCUIEFwcGx5IGNsaWNrIHN0YXRlc1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1iZXJPZk9wdGlvbnM7IGkrKykge1xuXG5cbiAgICAgICAgICAgICAgICAvLyBDbGljayBFdmVudFxuICAgICAgICAgICAgICAgICRsaXN0SXRlbXNbIGkgXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCBhdHRyaWJ1dGUgdG8gbWF0Y2ggdG8gaGlkZGVuIHNlbGVjdCBkcm9wZG93blxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtYXQgPSB0aGlzLmdldEF0dHJpYnV0ZShcInJlbFwiKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGFuZ2UgY2xhc3MgdG8gYWN0aXZlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgcHJpY2UgaW4gYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICRwcmljZVsgMCBdLmlubmVySFRNTCA9IHRoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1wcmljZVwiKTtcblxuICAgICAgICAgICAgICAgICAgICAkYWRkVG9DYXJ0LmF0dHIoXCJkYXRhLWlkXCIsIHRoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiKSApO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIExvb3AgdGhyb3VnaCBsaXN0IGl0ZW1zIHRvIHJlbW92ZSBzaWJsaW5nIGFjdGl2ZSBjbGFzc2VzXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyT2ZPcHRpb25zOyBpKyspIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGxpbmsgaXMgdGhlIG9uZSBjbGlja2VkLCBza2lwIGl0XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGxpc3RJdGVtc1sgaSBdID09PSBldmVudC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSAuYWN0aXZlIGNsYXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAkbGlzdEl0ZW1zWyBpIF0uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHNlbGVjdGVkIGF0dHIgYW5kIGFwcGx5IGl0IHRvIGhpZGRlbiBzZWxlY3RlZCBvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgJHRoaXNbIDAgXS5vcHRpb25zWyAkdGhpc1sgMCBdLnNlbGVjdGVkSW5kZXggXS5yZW1vdmVBdHRyaWJ1dGUoXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgJChgLnNlbGVjdC1oaWRkZW4gb3B0aW9uW3ZhbHVlPVwiJHsgZm9ybWF0IH1cIl1gKS5hdHRyKFwic2VsZWN0ZWRcIiwgXCJzZWxlY3RlZFwiKTtcblxuXG4gICAgICAgICAgICAgICAgfSwgZmFsc2UpO1xuXG4gICAgICAgICAgICB9XG5cblxuICAgICAgICB9XG5cblxuICAgIH1cblxuXG59O1xuXG5cblxuXG5cblxuLyoqXG4gKlxuICogQGRlc2NyaXB0aW9uIHJlc2Nyb2xsIExvb3AgSGVyb1xuICogQG1ldGhvZCByZWNhbGN1bGF0ZUhlcm9cbiAqIEBwYXJhbSB7b2JqZWN0fSBlbCBUaGUgRE9NRWxlbWVudFxuICogQG1lbWJlcm9mIHV0aWxcbiAqIEByZXR1cm5zIHtyZWNhbGN1bGF0ZUhlcm99XG4gKlxuICovXG5cbmNvbnN0IHJlY2FsY3VsYXRlSGVybyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKiBSZWNhbGN1bGF0ZSBIZXJvICovXG5cbiAgICBjb25zdCAkcGxhdGVzID0gJChjb25maWcucGxhdGVTZWxlY3Rvcik7XG5cbiAgICBsZXQgaSA9ICRwbGF0ZXMubGVuZ3RoO1xuXG4gICAgZm9yIChpOyBpLS07ICkge1xuICAgICAgICBjb25zdCAkcGxhdGUgPSAkcGxhdGVzLmVxKGkpO1xuXG4gICAgICAgIGNvbnN0IG9mZiA9ICRwbGF0ZS5vZmZzZXRUb3A7XG5cbiAgICAgICAgY29uc3Qgc2Nyb2xsVmFsdWUgPSB3aW5kb3cuaW5uZXJIZWlnaHQgKiBpO1xuXG4gICAgICAgICRwbGF0ZS5hdHRyKFwib3JpZy1vZmZzZXRcIiwgb2ZmKTtcbiAgICAgICAgJHBsYXRlLmF0dHIoXCJkYXRhLXNjcm9sbFwiLCBzY3JvbGxWYWx1ZSk7XG4gICAgfVxufTtcblxuXG5cblxuXG4vKipcbiAqXG4gKiBAZGVzY3JpcHRpb24gY2hlY2sgaWYgY2xhc3MgaXMgcHJlc2VudCAoSnF1ZXJ5IE1vZHVsZSApXG4gKiBAbWV0aG9kIHJlY2FsY3VsYXRlSGVyb1xuICogQHBhcmFtIHtvYmplY3R9IGVsIFRoZSBET01FbGVtZW50XG4gKiBAbWVtYmVyb2YgdXRpbFxuICogQHJldHVybnMge3JlY2FsY3VsYXRlSGVyb31cbiAqXG4gKi9cblxuXG5jb25zdCBoYXNDbGFzcyA9IGZ1bmN0aW9uIChlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgICByZXR1cm4gKGAgJHsgZWxlbWVudC5jbGFzc05hbWUgfSBgKS5pbmRleE9mKGAgJHsgY2xhc3NOYW1lIH0gYCkgPiAtMTtcbn07XG5cblxuXG5cblxuLyoqXG4gKlxuICogQGRlc2NyaXB0aW9uIGdldCBTaWJsaW5ncyAgKEpxdWVyeSBNb2R1bGUgKVxuICogQG1ldGhvZCByZWNhbGN1bGF0ZUhlcm9cbiAqIEBwYXJhbSB7b2JqZWN0fSBlbCBUaGUgRE9NRWxlbWVudFxuICogQG1lbWJlcm9mIHV0aWxcbiAqIEByZXR1cm5zIHtyZWNhbGN1bGF0ZUhlcm99XG4gKlxuICovXG5cblxuXG5jb25zdCBnZXRDaGlsZHJlbiA9IGZ1bmN0aW9uIChuLCBza2lwTWUpIHtcbiAgICBjb25zdCByID0gW107XG5cbiAgICBmb3IgKCA7IG47IG4gPSBuLm5leHRTaWJsaW5nICkge1xuICAgICAgICBpZiAoIG4ubm9kZVR5cGUgPT0gMSAmJiBuICE9IHNraXBNZSkge1xuICAgICAgICAgICAgci5wdXNoKCBuICk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHI7XG59O1xuXG5jb25zdCBnZXRTaWJsaW5ncyA9IGZ1bmN0aW9uIChuKSB7XG4gICAgcmV0dXJuIGdldENoaWxkcmVuKG4ucGFyZW50Tm9kZS5maXJzdENoaWxkLCBuKTtcbn07XG5cblxuXG5cblxuLyoqXG4gKlxuICogQGRlc2NyaXB0aW9uIENhbGN1bGF0ZXMgZGF0YS1zY3JvbGwgYXR0cmlidXRlIGZvciBzY3JvbGxUbyBhbmltYXRpb25zXG4gKiBAbWV0aG9kIGNhbGN1bGF0ZUltYWdlU2Nyb2xsc1xuICogQHBhcmFtIHtvYmplY3R9IGVsIFRoZSBET01FbGVtZW50XG4gKiBAbWVtYmVyb2YgdXRpbFxuICogQHJldHVybnMge2NhbGN1bGF0ZUltYWdlU2Nyb2xsc31cbiAqXG4gKi9cblxuXG5jb25zdCBjYWxjdWxhdGVJbWFnZVNjcm9sbHMgPSBmdW5jdGlvbiAoKSB7XG5cblxuICAgIC8vIENhbGN1bGF0ZSBTY3JvbGwgRGlzdGFuY2VzIGZvciB0b3VjaCBzY3JlZW4gb24gYWZ0ZXIgbG9hZFxuXG4gICAgY29uc3QgJHBsYXRlcyA9IGRvbS5wbGF0ZXM7XG5cblxuICAgIGlmIChjb25maWcuaXNUb3VjaCA9PSB0cnVlKSB7XG5cblxuICAgICAgICBjb25zdCBmaXJzdFBsYXRlID0gZG9tLmxvb3AuZmluZChcIi5maWd1cmUtY29udGFpbmVyOmZpcnN0LWNoaWxkIGFcIik7XG5cbiAgICAgICAgY29uc3QgbGFzdFBsYXRlID0gZG9tLmxvb3AuZmluZChcIi5maWd1cmUtY29udGFpbmVyOmxhc3QtY2hpbGQgYVwiKTtcblxuXG4gICAgICAgIGNvbnN0ICRoZXJvSXRlbSA9IGZpcnN0UGxhdGU7XG5cbiAgICAgICAgY29uc3QgJGxhc3RJdGVtID0gZmlyc3RQbGF0ZS5maW5kKFwiOm50aC1sYXN0LWNoaWxkKDIpXCIpO1xuXG4gICAgICAgIGNvbnN0IGhlcm9IZWlnaHQgPSAkaGVyb0l0ZW0uY2xpZW50SGVpZ2h0O1xuXG4gICAgICAgIGNvbnN0IGxhc3RJdGVtSGVpZ2h0ID0gJGxhc3RJdGVtLmNsaWVudEhlaWdodDtcblxuXG4gICAgICAgIC8vIFJ1biB0aHJvdWdoIGVhY2ggcGllY2UgYW5kIGNhbGN1bGF0ZSBkYXRhLXNjcm9sbCBwb3NpdGlvbnNcblxuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHZhciBzY3JvbGxWYWx1ZSA9IDA7XG4gICAgICAgIGNvbnN0IHBsYXRlSGVpZ2h0cyA9IFtdO1xuICAgICAgICBjb25zdCBjb2xsZWN0aXZlUGxhdGVIZWlnaHRzID0gW107XG4gICAgICAgIGxldCBkZXRhaWwgPSBmYWxzZTtcblxuICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICE9IFwiL1wiKSB7XG4gICAgICAgICAgICBkZXRhaWwgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWR1Y2VyID0gKGFjY3VtdWxhdG9yLCBjdXJyZW50VmFsdWUpID0+IGFjY3VtdWxhdG9yICsgY3VycmVudFZhbHVlO1xuXG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8ICRwbGF0ZXMubGVuZ3RoOyBpKyspIHtcblxuXG4gICAgICAgICAgICBpZiAoZGV0YWlsID09IHRydWUpIHtcblxuICAgICAgICAgICAgICAgIGRvbS5sb29wWyAwIF0uY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcbiAgICAgICAgICAgICAgICAkcGxhdGVzWyBpIF0uY2xvc2VzdChcIi5maWd1cmUtY29udGFpbmVyXCIpLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICAgICAgICAgICRwbGF0ZXNbIGkgXS5jbG9zZXN0KFwiLmZpZ3VyZS1jb250YWluZXJcIikuc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICAgICAgICAgICAgdmFyIHBsYXRlSGVpZ2h0ID0gJHBsYXRlc1sgaSBdLmNsb3Nlc3QoXCIuZmlndXJlLWNvbnRhaW5lclwiKS5jbGllbnRIZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICBwbGF0ZUhlaWdodCA9IHBhcnNlSW50KHBsYXRlSGVpZ2h0KTtcblxuICAgICAgICAgICAgICAgIC8vUmVzZXQgaW1hZ2VzXG5cbiAgICAgICAgICAgICAgICBkb20ubG9vcFsgMCBdLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgJHBsYXRlc1sgaSBdLmNsb3Nlc3QoXCIuZmlndXJlLWNvbnRhaW5lclwiKS5zdHlsZS5wb3NpdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgJHBsYXRlc1sgaSBdLmNsb3Nlc3QoXCIuZmlndXJlLWNvbnRhaW5lclwiKS5zdHlsZS5vcGFjaXR5ID0gbnVsbDtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHZhciBwbGF0ZUhlaWdodCA9ICRwbGF0ZXNbIGkgXS5jbG9zZXN0KFwiLmZpZ3VyZS1jb250YWluZXJcIikuY2xpZW50SGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgcGxhdGVIZWlnaHQgPSBwYXJzZUludChwbGF0ZUhlaWdodCk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbWlkZGxlID0gKCB3aW5kb3cuaW5uZXJIZWlnaHQgLyAyKSAtIChwbGF0ZUhlaWdodCAvIDIpO1xuXG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICRwbGF0ZXNbIGkgXS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXNjcm9sbFwiLCAwKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJHBsYXRlc1sgaSBdLnNldEF0dHJpYnV0ZShcImRhdGEtc2Nyb2xsXCIsIHNjcm9sbFZhbHVlIC0gbWlkZGxlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHNjcm9sbFZhbHVlID0gc2Nyb2xsVmFsdWUgKyBwbGF0ZUhlaWdodDtcblxuICAgICAgICB9XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIHZhciBpID0gJHBsYXRlcy5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChpOyBpLS07ICkge1xuICAgICAgICAgICAgY29uc3QgJHBsYXRlID0gJHBsYXRlcy5lcShpKTtcbiAgICAgICAgICAgIC8vIHRoaXMub2ZmID0gdGhpcy4kcGxhdGUuY2xvc2VzdCgnLmZpZ3VyZS1jb250YWluZXInKS5vZmZzZXQoKS50b3A7XG4gICAgICAgICAgICAvLyB0aGlzLiRwbGF0ZS5hdHRyKCdvcmlnLW9mZnNldCcsIHRoaXMub2ZmKTtcbiAgICAgICAgICAgIHZhciBzY3JvbGxWYWx1ZSA9IHdpbmRvdy5pbm5lckhlaWdodCAqIGk7XG5cbiAgICAgICAgICAgIGlmIChpID09IDApIHtcbiAgICAgICAgICAgICAgICBzY3JvbGxWYWx1ZSA9IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpID09ICRwbGF0ZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIHNjcm9sbFZhbHVlIC09IDI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRwbGF0ZS5hdHRyKFwiZGF0YS1zY3JvbGxcIiwgc2Nyb2xsVmFsdWUpO1xuICAgICAgICB9XG5cbiAgICB9XG5cblxufTtcblxuXG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogRXhwb3J0XG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmV4cG9ydCB7IG5vb3AsIGxvYWRJbWFnZXMsIHVwZGF0ZUltYWdlcywgaXNFbGVtZW50TG9hZGFibGUsIGlzRWxlbWVudFZpc2libGUsIGlzVGl0bGVWaXNpYmxlLCByZWNhbGN1bGF0ZUhlcm8sIHNjcm9sbFRvRWxlbWVudCwgZ2V0RWxlbWVudHNJblZpZXcsIGhlYWRlckZhZGUsIGhhc0NsYXNzLCBoZWFkZXJGYWRlRGV0YWlsLCBnZXRDbG9zZXN0VmFsdWUsIGdldFRyYW5zaXRpb25EdXJhdGlvbiwgdXBkYXRlQ2FydEl0ZW1Db250YWluZXIsIGNyZWF0ZVNlbGVjdERyb3BEb3duLCBnZXRDaGlsZHJlbiwgZ2V0U2libGluZ3MsIGNhbGN1bGF0ZUltYWdlU2Nyb2xscyB9O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNvdXJjZS9qcy9jb3JlL3V0aWwuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFRQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7OztBQUFBOzs7Ozs7Ozs7QUFTQTtBQUNBO0FBNUJBOzs7Ozs7OztBQTZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWpDQTtBQUNBO0FBbUNBOzs7Ozs7Ozs7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7OztBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBOzs7Ozs7Ozs7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTs7Ozs7Ozs7O0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTs7Ozs7Ozs7OztBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQVFBOzs7Ozs7OztBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTs7Ozs7Ozs7OztBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BOzs7Ozs7Ozs7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7Ozs7Ozs7Ozs7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTs7Ozs7Ozs7OztBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBUUE7Ozs7Ozs7Ozs7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFLQTs7Ozs7Ozs7OztBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBOzs7Ozs7Ozs7O0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBR0E7QUFHQTtBQUdBO0FBQ0E7QUFNQTs7Ozs7Ozs7OztBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7Ozs7Ozs7Ozs7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUtBOzs7Ozs7Ozs7O0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7Ozs7Ozs7Ozs7QUFXQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBSUE7OztBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///13\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n\t\t\tvalue: true\n});\n\nvar _properjsHobo = __webpack_require__(/*! properjs-hobo */ 11);\n\nvar _properjsHobo2 = _interopRequireDefault(_properjsHobo);\n\nvar _config = __webpack_require__(/*! ./config */ 4);\n\nvar _config2 = _interopRequireDefault(_config);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n *\n * @public\n * @namespace dom\n * @memberof core\n * @description Holds high-level cached Nodes.\n *\n */\nvar dom = {\n\t\t\t/**\n   *\n   * @public\n   * @member doc\n   * @memberof core.dom\n   * @description The cached document.\n   *\n   */\n\t\t\tdoc: (0, _properjsHobo2.default)(document),\n\n\t\t\t/**\n   *\n   * @public\n   * @member html\n   * @memberof core.dom\n   * @description The cached documentElement node.\n   *\n   */\n\t\t\thtml: (0, _properjsHobo2.default)(document.documentElement),\n\n\t\t\t/**\n   *\n   * @public\n   * @member html, body\n   * @memberof core.dom\n   * @description The cached html & body node.\n   *\n   */\n\t\t\thtmlBody: document.querySelector("html,body"),\n\n\t\t\t/**\n   *\n   * @public\n   * @member body\n   * @memberof core.dom\n   * @description The cached body node.\n   *\n   */\n\t\t\tbody: (0, _properjsHobo2.default)(document.body),\n\n\t\t\t/**\n   *\n   * @public\n   * @member html, body\n   * @memberof core.dom\n   * @description The cached html & body node.\n   *\n   */\n\t\t\tapp: document.querySelector(".app"),\n\n\t\t\t/**\n   *\n   * @public\n   * @member views\n   * @memberof core.dom\n   * @description The cached view nodes.\n   *\n   */\n\t\t\tviews: (0, _properjsHobo2.default)(_config2.default.viewSelector),\n\n\t\t\t/**\n   *\n   * @public\n   * @member intro\n   * @memberof core.dom\n   * @description The cached intro node.\n   *\n   */\n\t\t\tintro: (0, _properjsHobo2.default)(_config2.default.introSelector),\n\n\t\t\t/**\n   *\n   * @public\n   * @member main\n   * @memberof core.dom\n   * @description The cached main node.\n   *\n   */\n\t\t\tmain: (0, _properjsHobo2.default)(_config2.default.pageSelector),\n\n\t\t\t/**\n   *\n   * @public\n   * @member navi\n   * @memberof core.dom\n   * @description The cached <nav> nodes.\n   *\n   */\n\t\t\tnavi: (0, _properjsHobo2.default)(_config2.default.naviSelector),\n\n\t\t\t/**\n   *\n   * @public\n   * @member navi\n   * @memberof core.dom\n   * @description The cached <nav> nodes.\n   *\n   */\n\t\t\tnav: (0, _properjsHobo2.default)(_config2.default.navSelector),\n\n\t\t\t/**\n   *\n   * @public\n   * @member openNav\n   * @memberof core.dom\n   * @description The cached <nav> nodes.\n   *\n   */\n\t\t\topenNav: (0, _properjsHobo2.default)(".js-menu"),\n\n\t\t\t/**\n   *\n   * @public\n   * @member closeNav\n   * @memberof core.dom\n   * @description The cached <nav> nodes.\n   *\n   */\n\t\t\tcloseNav: (0, _properjsHobo2.default)(".js-menu-close"),\n\n\t\t\t/**\n   *\n   * @public\n   * @member closeDetail\n   * @memberof core.dom\n   * @description The cached <nav> nodes.\n   *\n   */\n\t\t\tcloseDetail: (0, _properjsHobo2.default)(".js-close"),\n\n\t\t\t/**\n   *\n   * @public\n   * @member navi\n   * @memberof core.dom\n   * @description The cached <nav> nodes.\n   *\n   */\n\t\t\tfullHeight: document.querySelectorAll(_config2.default.fullHeight),\n\n\t\t\t/**\n   *\n   * @public\n   * @member navi\n   * @memberof core.dom\n   * @description The cached <nav> nodes.\n   *\n   */\n\t\t\tmenuContainer: (0, _properjsHobo2.default)(_config2.default.navSelector).find(".menu-container"),\n\n\t\t\t/**\n   *\n   * @public\n   * @member navi\n   * @memberof core.dom\n   * @description The cached <nav> nodes.\n   *\n   */\n\t\t\tmenuContainerLinks: (0, _properjsHobo2.default)(_config2.default.navSelector).find(".js-menu-container"),\n\n\t\t\t/**\n   *\n   * @public\n   * @member navContainer\n   * @memberof core.dom\n   * @description The cached <nav> nodes.\n   *\n   */\n\t\t\tnavContainer: (0, _properjsHobo2.default)(_config2.default.navContainer),\n\n\t\t\t/**\n   *\n   * @public\n   * @member workSelector\n   * @memberof core.dom\n   * @description The cached work nodes.\n   *\n   */\n\t\t\twork: (0, _properjsHobo2.default)(_config2.default.workSelector),\n\n\t\t\t/**\n   *\n   * @public\n   * @member canvasSelector\n   * @memberof core.dom\n   * @description The cached <canvas> nodes.\n   *\n   */\n\t\t\tcanvas: (0, _properjsHobo2.default)(_config2.default.canvasSelector),\n\n\t\t\t/**\n   *\n   * @public\n   * @member loopSelector\n   * @memberof core.dom\n   * @description The cached work nodes.\n   *\n   */\n\t\t\tloop: (0, _properjsHobo2.default)(".js-infinite-loop"),\n\n\t\t\t/**\n   *\n   * @public\n   * @member plateSelector\n   * @memberof core.dom\n   * @description The cached plate nodes.\n   *\n   */\n\t\t\tplates: (0, _properjsHobo2.default)(_config2.default.platesSelector),\n\n\t\t\t/**\n   *\n   * @public\n   * @member plateSelector\n   * @memberof core.dom\n   * @description The cached plate nodes.\n   *\n   */\n\t\t\tplate: (0, _properjsHobo2.default)(_config2.default.plateSelector),\n\n\t\t\t/**\n   *\n   * @public\n   * @member main\n   * @memberof core.dom\n   * @description The cached documentElement node.\n   *\n   */\n\t\t\troot: (0, _properjsHobo2.default)(_config2.default.mainSelector),\n\n\t\t\t/**\n   *\n   * @public\n   * @member overlay\n   * @memberof core.dom\n   * @description The cached work nodes.\n   *\n   */\n\t\t\toverlay: (0, _properjsHobo2.default)(".overlay"),\n\n\t\t\t/**\n   *\n   * @public\n   * @member overlay\n   * @memberof core.dom\n   * @description The cached work nodes.\n   *\n   */\n\t\t\tdetailOverlay: (0, _properjsHobo2.default)(".detail-overlay"),\n\n\t\t\t/**\n   *\n   * @public\n   * @member overlay\n   * @memberof core.dom\n   * @description The cached work nodes.\n   *\n   */\n\t\t\tdetailContainer: (0, _properjsHobo2.default)(".detail-container"),\n\n\t\t\t/**\n   *\n   * @public\n   * @member overlay\n   * @memberof core.dom\n   * @description The cached work nodes.\n   *\n   */\n\t\t\tfixedNavigation: (0, _properjsHobo2.default)(".fixed-right-item, .fixed-left-item"),\n\n\t\t\t/**\n   *\n   * @public\n   * @member itemCounter Selector\n   * @memberof core.dom\n   * @description The cached work nodes.\n   *\n   */\n\t\t\titemCounter: (0, _properjsHobo2.default)(".item-counter"),\n\n\t\t\t/**\n   *\n   * @public\n   * @member cart selector for number\n   * @memberof core.dom\n   * @description The cached work nodes.\n   *\n   */\n\t\t\tcartBadge: (0, _properjsHobo2.default)(".js-cart"),\n\n\t\t\t/**\n   *\n   * @public\n   * @member cart selector for number\n   * @memberof core.dom\n   * @description The cached work nodes.\n   *\n   */\n\t\t\tcartNumber: (0, _properjsHobo2.default)(".js-cart").find(".item-count"),\n\n\t\t\t/**\n   *\n   * @public\n   * @member cart selector for itemContainer\n   * @memberof core.dom\n   * @description The cached work nodes.\n   *\n   */\n\t\t\tcartContainer: document.getElementsByClassName("js-item-container")[0],\n\n\t\t\t/**\n   *\n   * @public\n   * @member cart selector for itemContainer\n   * @memberof core.dom\n   * @description The cached work nodes.\n   *\n   */\n\t\t\tfromPrice: document.getElementsByClassName("js-from-price")[0],\n\n\t\t\t/**\n   *\n   * @public\n   * @member selector for getting Nav Height\n   * @memberof core.dom\n   * @description The cached work nodes.\n   *\n   */\n\t\t\tnaviHeight: document.getElementsByClassName("js-cart-badge")[0],\n\n\t\t\t/**\n   *\n   * @public\n   * @member Hero Item\n   * @memberof core.dom\n   * @description The cached work nodes.\n   *\n   */\n\t\t\thero: document.getElementById("item-1")\n\n};\n\n/******************************************************************************\n * Export\n *******************************************************************************/\nexports.default = dom;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc291cmNlL2pzL2NvcmUvZG9tLmpzPzNlODMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICQgZnJvbSBcInByb3BlcmpzLWhvYm9cIjtcbmltcG9ydCBjb25maWcgZnJvbSBcIi4vY29uZmlnXCI7XG5cblxuLyoqXG4gKlxuICogQHB1YmxpY1xuICogQG5hbWVzcGFjZSBkb21cbiAqIEBtZW1iZXJvZiBjb3JlXG4gKiBAZGVzY3JpcHRpb24gSG9sZHMgaGlnaC1sZXZlbCBjYWNoZWQgTm9kZXMuXG4gKlxuICovXG5jb25zdCBkb20gPSB7XG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciBkb2Ncblx0ICogQG1lbWJlcm9mIGNvcmUuZG9tXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgY2FjaGVkIGRvY3VtZW50LlxuXHQgKlxuXHQgKi9cbiAgICBkb2M6ICQoZG9jdW1lbnQpLFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciBodG1sXG5cdCAqIEBtZW1iZXJvZiBjb3JlLmRvbVxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGNhY2hlZCBkb2N1bWVudEVsZW1lbnQgbm9kZS5cblx0ICpcblx0ICovXG4gICAgaHRtbDogJChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciBodG1sLCBib2R5XG5cdCAqIEBtZW1iZXJvZiBjb3JlLmRvbVxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGNhY2hlZCBodG1sICYgYm9keSBub2RlLlxuXHQgKlxuXHQgKi9cbiAgICBodG1sQm9keTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImh0bWwsYm9keVwiKSxcblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZW1iZXIgYm9keVxuXHQgKiBAbWVtYmVyb2YgY29yZS5kb21cblx0ICogQGRlc2NyaXB0aW9uIFRoZSBjYWNoZWQgYm9keSBub2RlLlxuXHQgKlxuXHQgKi9cbiAgICBib2R5OiAkKGRvY3VtZW50LmJvZHkpLFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciBodG1sLCBib2R5XG5cdCAqIEBtZW1iZXJvZiBjb3JlLmRvbVxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGNhY2hlZCBodG1sICYgYm9keSBub2RlLlxuXHQgKlxuXHQgKi9cbiAgICBhcHA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXBwXCIpLFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciB2aWV3c1xuXHQgKiBAbWVtYmVyb2YgY29yZS5kb21cblx0ICogQGRlc2NyaXB0aW9uIFRoZSBjYWNoZWQgdmlldyBub2Rlcy5cblx0ICpcblx0ICovXG4gICAgdmlld3M6ICQoY29uZmlnLnZpZXdTZWxlY3RvciksXG5cbiAgICAvKipcblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKiBAbWVtYmVyIGludHJvXG5cdCAqIEBtZW1iZXJvZiBjb3JlLmRvbVxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGNhY2hlZCBpbnRybyBub2RlLlxuXHQgKlxuXHQgKi9cbiAgICBpbnRybzogJChjb25maWcuaW50cm9TZWxlY3RvciksXG5cbiAgICAvKipcblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKiBAbWVtYmVyIG1haW5cblx0ICogQG1lbWJlcm9mIGNvcmUuZG9tXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgY2FjaGVkIG1haW4gbm9kZS5cblx0ICpcblx0ICovXG4gICAgbWFpbjogJChjb25maWcucGFnZVNlbGVjdG9yKSxcblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZW1iZXIgbmF2aVxuXHQgKiBAbWVtYmVyb2YgY29yZS5kb21cblx0ICogQGRlc2NyaXB0aW9uIFRoZSBjYWNoZWQgPG5hdj4gbm9kZXMuXG5cdCAqXG5cdCAqL1xuICAgIG5hdmk6ICQoY29uZmlnLm5hdmlTZWxlY3RvciksXG5cblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZW1iZXIgbmF2aVxuXHQgKiBAbWVtYmVyb2YgY29yZS5kb21cblx0ICogQGRlc2NyaXB0aW9uIFRoZSBjYWNoZWQgPG5hdj4gbm9kZXMuXG5cdCAqXG5cdCAqL1xuICAgIG5hdjogJChjb25maWcubmF2U2VsZWN0b3IpLFxuXG5cbiAgICAvKipcblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKiBAbWVtYmVyIG9wZW5OYXZcblx0ICogQG1lbWJlcm9mIGNvcmUuZG9tXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgY2FjaGVkIDxuYXY+IG5vZGVzLlxuXHQgKlxuXHQgKi9cbiAgICBvcGVuTmF2OiAkKFwiLmpzLW1lbnVcIiksXG5cbiAgICAvKipcblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKiBAbWVtYmVyIGNsb3NlTmF2XG5cdCAqIEBtZW1iZXJvZiBjb3JlLmRvbVxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGNhY2hlZCA8bmF2PiBub2Rlcy5cblx0ICpcblx0ICovXG4gICAgY2xvc2VOYXY6ICQoXCIuanMtbWVudS1jbG9zZVwiKSxcblxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciBjbG9zZURldGFpbFxuXHQgKiBAbWVtYmVyb2YgY29yZS5kb21cblx0ICogQGRlc2NyaXB0aW9uIFRoZSBjYWNoZWQgPG5hdj4gbm9kZXMuXG5cdCAqXG5cdCAqL1xuICAgIGNsb3NlRGV0YWlsOiAkKFwiLmpzLWNsb3NlXCIpLFxuXG5cbiAgICAvKipcblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKiBAbWVtYmVyIG5hdmlcblx0ICogQG1lbWJlcm9mIGNvcmUuZG9tXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgY2FjaGVkIDxuYXY+IG5vZGVzLlxuXHQgKlxuXHQgKi9cbiAgICBmdWxsSGVpZ2h0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mdWxsSGVpZ2h0KSxcblxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciBuYXZpXG5cdCAqIEBtZW1iZXJvZiBjb3JlLmRvbVxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGNhY2hlZCA8bmF2PiBub2Rlcy5cblx0ICpcblx0ICovXG4gICAgbWVudUNvbnRhaW5lcjogJChjb25maWcubmF2U2VsZWN0b3IpLmZpbmQoXCIubWVudS1jb250YWluZXJcIiksXG5cblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZW1iZXIgbmF2aVxuXHQgKiBAbWVtYmVyb2YgY29yZS5kb21cblx0ICogQGRlc2NyaXB0aW9uIFRoZSBjYWNoZWQgPG5hdj4gbm9kZXMuXG5cdCAqXG5cdCAqL1xuICAgIG1lbnVDb250YWluZXJMaW5rczogJChjb25maWcubmF2U2VsZWN0b3IpLmZpbmQoXCIuanMtbWVudS1jb250YWluZXJcIiksXG5cblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZW1iZXIgbmF2Q29udGFpbmVyXG5cdCAqIEBtZW1iZXJvZiBjb3JlLmRvbVxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGNhY2hlZCA8bmF2PiBub2Rlcy5cblx0ICpcblx0ICovXG4gICAgbmF2Q29udGFpbmVyOiAkKGNvbmZpZy5uYXZDb250YWluZXIpLFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciB3b3JrU2VsZWN0b3Jcblx0ICogQG1lbWJlcm9mIGNvcmUuZG9tXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgY2FjaGVkIHdvcmsgbm9kZXMuXG5cdCAqXG5cdCAqL1xuICAgIHdvcms6ICQoY29uZmlnLndvcmtTZWxlY3RvciksXG5cbiAgICAvKipcblx0XHQgKlxuXHRcdCAqIEBwdWJsaWNcblx0XHQgKiBAbWVtYmVyIGNhbnZhc1NlbGVjdG9yXG5cdFx0ICogQG1lbWJlcm9mIGNvcmUuZG9tXG5cdFx0ICogQGRlc2NyaXB0aW9uIFRoZSBjYWNoZWQgPGNhbnZhcz4gbm9kZXMuXG5cdFx0ICpcblx0XHQgKi9cbiAgICBjYW52YXM6ICQoY29uZmlnLmNhbnZhc1NlbGVjdG9yKSxcblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZW1iZXIgbG9vcFNlbGVjdG9yXG5cdCAqIEBtZW1iZXJvZiBjb3JlLmRvbVxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGNhY2hlZCB3b3JrIG5vZGVzLlxuXHQgKlxuXHQgKi9cbiAgICBsb29wOiAkKFwiLmpzLWluZmluaXRlLWxvb3BcIiksXG5cbiAgICAvKipcblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKiBAbWVtYmVyIHBsYXRlU2VsZWN0b3Jcblx0ICogQG1lbWJlcm9mIGNvcmUuZG9tXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgY2FjaGVkIHBsYXRlIG5vZGVzLlxuXHQgKlxuXHQgKi9cbiAgICBwbGF0ZXM6ICQoY29uZmlnLnBsYXRlc1NlbGVjdG9yKSxcblxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciBwbGF0ZVNlbGVjdG9yXG5cdCAqIEBtZW1iZXJvZiBjb3JlLmRvbVxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGNhY2hlZCBwbGF0ZSBub2Rlcy5cblx0ICpcblx0ICovXG4gICAgcGxhdGU6ICQoY29uZmlnLnBsYXRlU2VsZWN0b3IpLFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciBtYWluXG5cdCAqIEBtZW1iZXJvZiBjb3JlLmRvbVxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGNhY2hlZCBkb2N1bWVudEVsZW1lbnQgbm9kZS5cblx0ICpcblx0ICovXG4gICAgcm9vdDogJChjb25maWcubWFpblNlbGVjdG9yKSxcblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZW1iZXIgb3ZlcmxheVxuXHQgKiBAbWVtYmVyb2YgY29yZS5kb21cblx0ICogQGRlc2NyaXB0aW9uIFRoZSBjYWNoZWQgd29yayBub2Rlcy5cblx0ICpcblx0ICovXG4gICAgb3ZlcmxheTogJChcIi5vdmVybGF5XCIpLFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciBvdmVybGF5XG5cdCAqIEBtZW1iZXJvZiBjb3JlLmRvbVxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGNhY2hlZCB3b3JrIG5vZGVzLlxuXHQgKlxuXHQgKi9cbiAgICBkZXRhaWxPdmVybGF5OiAkKFwiLmRldGFpbC1vdmVybGF5XCIpLFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciBvdmVybGF5XG5cdCAqIEBtZW1iZXJvZiBjb3JlLmRvbVxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGNhY2hlZCB3b3JrIG5vZGVzLlxuXHQgKlxuXHQgKi9cbiAgICBkZXRhaWxDb250YWluZXI6ICQoXCIuZGV0YWlsLWNvbnRhaW5lclwiKSxcblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZW1iZXIgb3ZlcmxheVxuXHQgKiBAbWVtYmVyb2YgY29yZS5kb21cblx0ICogQGRlc2NyaXB0aW9uIFRoZSBjYWNoZWQgd29yayBub2Rlcy5cblx0ICpcblx0ICovXG4gICAgZml4ZWROYXZpZ2F0aW9uOiAkKFwiLmZpeGVkLXJpZ2h0LWl0ZW0sIC5maXhlZC1sZWZ0LWl0ZW1cIiksXG5cbiAgICAvKipcblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKiBAbWVtYmVyIGl0ZW1Db3VudGVyIFNlbGVjdG9yXG5cdCAqIEBtZW1iZXJvZiBjb3JlLmRvbVxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGNhY2hlZCB3b3JrIG5vZGVzLlxuXHQgKlxuXHQgKi9cbiAgICBpdGVtQ291bnRlcjogJChcIi5pdGVtLWNvdW50ZXJcIiksXG5cblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZW1iZXIgY2FydCBzZWxlY3RvciBmb3IgbnVtYmVyXG5cdCAqIEBtZW1iZXJvZiBjb3JlLmRvbVxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGNhY2hlZCB3b3JrIG5vZGVzLlxuXHQgKlxuXHQgKi9cbiAgICBjYXJ0QmFkZ2U6ICQoXCIuanMtY2FydFwiKSxcblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZW1iZXIgY2FydCBzZWxlY3RvciBmb3IgbnVtYmVyXG5cdCAqIEBtZW1iZXJvZiBjb3JlLmRvbVxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGNhY2hlZCB3b3JrIG5vZGVzLlxuXHQgKlxuXHQgKi9cbiAgICBjYXJ0TnVtYmVyOiAkKFwiLmpzLWNhcnRcIikuZmluZChcIi5pdGVtLWNvdW50XCIpLFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciBjYXJ0IHNlbGVjdG9yIGZvciBpdGVtQ29udGFpbmVyXG5cdCAqIEBtZW1iZXJvZiBjb3JlLmRvbVxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGNhY2hlZCB3b3JrIG5vZGVzLlxuXHQgKlxuXHQgKi9cbiAgICBjYXJ0Q29udGFpbmVyOiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwianMtaXRlbS1jb250YWluZXJcIilbIDAgXSxcblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZW1iZXIgY2FydCBzZWxlY3RvciBmb3IgaXRlbUNvbnRhaW5lclxuXHQgKiBAbWVtYmVyb2YgY29yZS5kb21cblx0ICogQGRlc2NyaXB0aW9uIFRoZSBjYWNoZWQgd29yayBub2Rlcy5cblx0ICpcblx0ICovXG4gICAgZnJvbVByaWNlOiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwianMtZnJvbS1wcmljZVwiKVsgMCBdLFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1lbWJlciBzZWxlY3RvciBmb3IgZ2V0dGluZyBOYXYgSGVpZ2h0XG5cdCAqIEBtZW1iZXJvZiBjb3JlLmRvbVxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGNhY2hlZCB3b3JrIG5vZGVzLlxuXHQgKlxuXHQgKi9cbiAgICBuYXZpSGVpZ2h0OiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwianMtY2FydC1iYWRnZVwiKVsgMCBdLFxuXG5cbiAgICAvKipcblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKiBAbWVtYmVyIEhlcm8gSXRlbVxuXHQgKiBAbWVtYmVyb2YgY29yZS5kb21cblx0ICogQGRlc2NyaXB0aW9uIFRoZSBjYWNoZWQgd29yayBub2Rlcy5cblx0ICpcblx0ICovXG4gICAgaGVybzogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpdGVtLTFcIilcblxufTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogRXhwb3J0XG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmV4cG9ydCBkZWZhdWx0IGRvbTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzb3VyY2UvanMvY29yZS9kb20uanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBRUE7Ozs7Ozs7O0FBUUE7QUFDQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFFQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBRUE7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFFQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBRUE7Ozs7Ozs7O0FBUUE7QUFDQTtBQUVBOzs7Ozs7OztBQVFBO0FBQ0E7QUFFQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBRUE7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFFQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBRUE7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFFQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBOVZBO0FBQ0E7QUFnV0E7OztBQUdBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///14\n')},,,,,,,,,,function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _env = __webpack_require__(/*! ./env */ 31);\n\nvar _env2 = _interopRequireDefault(_env);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n *\n * @public\n * @method log\n * @memberof core\n * @description Normalized app console logger.\n *              If you want to use another console method like `info` or `warn`\n *              you can pass it as the first argument to the `log` method here.\n *              The default method that will be assumed is `console.log`.\n *\n *              Examples:\n *              log( "info", ...args )\n *              log( "warn", ...args )\n *              log( "trace", ...args )\n *              log( "debug", ...args )\n *\n */\nvar log = function log() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n    }\n\n    // Only log for development environments\n    if (!_env2.default.isDev() || !("console" in window)) {\n        return;\n    }\n\n    var method = "log";\n\n    // First arg can be another `console` method to call ?\n    if (typeof console[args[0]] === "function") {\n        method = args[0];\n        args = args.slice(1, args.length);\n    }\n\n    window.console[method](args);\n};\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexports.default = log;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc291cmNlL2pzL2NvcmUvbG9nLmpzP2Y0YTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGVudiBmcm9tIFwiLi9lbnZcIjtcblxuXG4vKipcbiAqXG4gKiBAcHVibGljXG4gKiBAbWV0aG9kIGxvZ1xuICogQG1lbWJlcm9mIGNvcmVcbiAqIEBkZXNjcmlwdGlvbiBOb3JtYWxpemVkIGFwcCBjb25zb2xlIGxvZ2dlci5cbiAqICAgICAgICAgICAgICBJZiB5b3Ugd2FudCB0byB1c2UgYW5vdGhlciBjb25zb2xlIG1ldGhvZCBsaWtlIGBpbmZvYCBvciBgd2FybmBcbiAqICAgICAgICAgICAgICB5b3UgY2FuIHBhc3MgaXQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBgbG9nYCBtZXRob2QgaGVyZS5cbiAqICAgICAgICAgICAgICBUaGUgZGVmYXVsdCBtZXRob2QgdGhhdCB3aWxsIGJlIGFzc3VtZWQgaXMgYGNvbnNvbGUubG9nYC5cbiAqXG4gKiAgICAgICAgICAgICAgRXhhbXBsZXM6XG4gKiAgICAgICAgICAgICAgbG9nKCBcImluZm9cIiwgLi4uYXJncyApXG4gKiAgICAgICAgICAgICAgbG9nKCBcIndhcm5cIiwgLi4uYXJncyApXG4gKiAgICAgICAgICAgICAgbG9nKCBcInRyYWNlXCIsIC4uLmFyZ3MgKVxuICogICAgICAgICAgICAgIGxvZyggXCJkZWJ1Z1wiLCAuLi5hcmdzIClcbiAqXG4gKi9cbmNvbnN0IGxvZyA9IGZ1bmN0aW9uICggLi4uYXJncyApIHtcbiAgICAvLyBPbmx5IGxvZyBmb3IgZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzXG4gICAgaWYgKCAhZW52LmlzRGV2KCkgfHwgIShcImNvbnNvbGVcIiBpbiB3aW5kb3cpICkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IG1ldGhvZCA9IFwibG9nXCI7XG5cbiAgICAvLyBGaXJzdCBhcmcgY2FuIGJlIGFub3RoZXIgYGNvbnNvbGVgIG1ldGhvZCB0byBjYWxsID9cbiAgICBpZiAoIHR5cGVvZiBjb25zb2xlWyBhcmdzWyAwIF0gXSA9PT0gXCJmdW5jdGlvblwiICkge1xuICAgICAgICBtZXRob2QgPSBhcmdzWyAwIF07XG4gICAgICAgIGFyZ3MgPSBhcmdzLnNsaWNlKCAxLCBhcmdzLmxlbmd0aCApO1xuICAgIH1cblxuICAgIHdpbmRvdy5jb25zb2xlWyBtZXRob2QgXSggYXJncyApO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIEV4cG9ydFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmV4cG9ydCBkZWZhdWx0IGxvZztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc291cmNlL2pzL2NvcmUvbG9nLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBOzs7OztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7OztBQWlCQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7O0FBR0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///24\n')},,,,,,function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _properjsController = __webpack_require__(/*! properjs-controller */ 17);\n\nvar _properjsController2 = _interopRequireDefault(_properjsController);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n *\n * @description Single app instanceof [Controller]{@link https://github.com/ProperJS/Controller} for arbitrary event emitting\n * @member emitter\n * @memberof core\n *\n */\nvar emitter = new _properjsController2.default();\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexports.default = emitter;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc291cmNlL2pzL2NvcmUvZW1pdHRlci5qcz8zMGRiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb250cm9sbGVyIGZyb20gXCJwcm9wZXJqcy1jb250cm9sbGVyXCI7XG5cblxuLyoqXG4gKlxuICogQGRlc2NyaXB0aW9uIFNpbmdsZSBhcHAgaW5zdGFuY2VvZiBbQ29udHJvbGxlcl17QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL1Byb3BlckpTL0NvbnRyb2xsZXJ9IGZvciBhcmJpdHJhcnkgZXZlbnQgZW1pdHRpbmdcbiAqIEBtZW1iZXIgZW1pdHRlclxuICogQG1lbWJlcm9mIGNvcmVcbiAqXG4gKi9cbmNvbnN0IGVtaXR0ZXIgPSBuZXcgQ29udHJvbGxlcigpO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogRXhwb3J0XG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuZXhwb3J0IGRlZmF1bHQgZW1pdHRlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc291cmNlL2pzL2NvcmUvZW1pdHRlci5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTs7Ozs7QUFFQTs7Ozs7OztBQU9BO0FBQ0E7QUFHQTs7O0FBR0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///30\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nvar DEV = "development";\nvar PROD = "production";\n\n/**\n *\n * @public\n * @namespace env\n * @memberof core\n * @description Set the app environment.\n *\n */\nvar env = {\n  /**\n   *\n   * @member ENV\n   * @memberof core.env\n   * @description The applied environment ref.\n   *              Looks at IP, localhost and staging for DEV, otherwise PROD\n   *\n   */\n  ENV: /^localhost|^[0-9]{0,3}\\.[0-9]{0,3}\\.[0-9]{0,3}\\.[0-9]{0,3}/g.test(document.domain) ? DEV : PROD,\n\n  /**\n   *\n   * @method get\n   * @memberof core.isDev\n   * @description Returns true for dev / staging.\n   * @returns {boolean}\n   *\n   */\n  isDev: function isDev() {\n    return this.ENV === DEV;\n  },\n\n\n  /**\n   *\n   * @method get\n   * @memberof core.isProd\n   * @description Returns true for production.\n   * @returns {boolean}\n   *\n   */\n  isProd: function isProd() {\n    return this.ENV === PROD;\n  }\n};\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexports.default = env;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc291cmNlL2pzL2NvcmUvZW52LmpzPzk2ZjEiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgREVWID0gXCJkZXZlbG9wbWVudFwiO1xuY29uc3QgUFJPRCA9IFwicHJvZHVjdGlvblwiO1xuXG5cbi8qKlxuICpcbiAqIEBwdWJsaWNcbiAqIEBuYW1lc3BhY2UgZW52XG4gKiBAbWVtYmVyb2YgY29yZVxuICogQGRlc2NyaXB0aW9uIFNldCB0aGUgYXBwIGVudmlyb25tZW50LlxuICpcbiAqL1xuY29uc3QgZW52ID0ge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQG1lbWJlciBFTlZcbiAgICAgKiBAbWVtYmVyb2YgY29yZS5lbnZcbiAgICAgKiBAZGVzY3JpcHRpb24gVGhlIGFwcGxpZWQgZW52aXJvbm1lbnQgcmVmLlxuICAgICAqICAgICAgICAgICAgICBMb29rcyBhdCBJUCwgbG9jYWxob3N0IGFuZCBzdGFnaW5nIGZvciBERVYsIG90aGVyd2lzZSBQUk9EXG4gICAgICpcbiAgICAgKi9cbiAgICBFTlY6ICgvXmxvY2FsaG9zdHxeWzAtOV17MCwzfVxcLlswLTldezAsM31cXC5bMC05XXswLDN9XFwuWzAtOV17MCwzfS9nLnRlc3QoIGRvY3VtZW50LmRvbWFpbiApID8gREVWIDogUFJPRCksXG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQG1ldGhvZCBnZXRcbiAgICAgKiBAbWVtYmVyb2YgY29yZS5pc0RldlxuICAgICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIHRydWUgZm9yIGRldiAvIHN0YWdpbmcuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICpcbiAgICAgKi9cbiAgICBpc0RldiAoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5FTlYgPT09IERFVik7XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIGdldFxuICAgICAqIEBtZW1iZXJvZiBjb3JlLmlzUHJvZFxuICAgICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIHRydWUgZm9yIHByb2R1Y3Rpb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICpcbiAgICAgKi9cbiAgICBpc1Byb2QgKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuRU5WID09PSBQUk9EKTtcbiAgICB9XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogRXhwb3J0XG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuZXhwb3J0IGRlZmF1bHQgZW52O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNvdXJjZS9qcy9jb3JlL2Vudi5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7Ozs7QUFRQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFFQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBO0FBbkNBO0FBQ0E7QUF1Q0E7OztBQUdBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///31\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _properjsScrollcontroller = __webpack_require__(/*! properjs-scrollcontroller */ 194);\n\nvar _properjsScrollcontroller2 = _interopRequireDefault(_properjsScrollcontroller);\n\nvar _config = __webpack_require__(/*! ./config */ 4);\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _dom = __webpack_require__(/*! ./dom */ 14);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _properjsHobo = __webpack_require__(/*! properjs-hobo */ 11);\n\nvar _properjsHobo2 = _interopRequireDefault(_properjsHobo);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Detect if IOS to determine the scroll container to watch\n\nvar ua = window.navigator.userAgent;\nvar iOS = Boolean(ua.match(/iPad/i)) || Boolean(ua.match(/iPhone/i));\nvar webkit = Boolean(ua.match(/WebKit/i));\nvar isIos = iOS && webkit && !ua.match(/CriOS/i);\n\nif (isIos) {\n    _dom2.default.html.addClass("ios");\n\n    var $fullHeight = document.getElementsByClassName("-full-height");\n\n    for (var i = 0; i < $fullHeight.length; i++) {\n        $fullHeight[i].style.height = window.innerHeight + "px";\n    }\n\n    var $lockedViewport = document.getElementsByClassName("scrollstop");\n\n    for (var i = 0; i < $lockedViewport.length; i++) {\n\n        $lockedViewport[i].style.height = window.innerHeight + "px";\n    }\n\n    _config2.default.isIos = true;\n    _config2.default.scrollContainer = _dom2.default.app;\n} else {\n    _config2.default.scrollContainer = window;\n}\n\n/**\n *\n * @description Single app instanceof [ScrollController]{@link https://github.com/ProperJS/ScrollController} for raf scroll handling\n * @member scroller\n * @memberof core\n *\n */\n\nvar scroller = " ";\n\nif (isIos) {\n    var scroller = new _properjsScrollcontroller2.default(_config2.default.scrollContainer);\n\n    console.log(scroller);\n} else {\n    var scroller = new _properjsScrollcontroller2.default();\n}\n\n/******************************************************************************\n * Export\n *******************************************************************************/\nexports.default = scroller;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc291cmNlL2pzL2NvcmUvc2Nyb2xsZXIuanM/NzAyNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU2Nyb2xsQ29udHJvbGxlciBmcm9tIFwicHJvcGVyanMtc2Nyb2xsY29udHJvbGxlclwiO1xuaW1wb3J0IGNvbmZpZyBmcm9tIFwiLi9jb25maWdcIjtcbmltcG9ydCBkb20gZnJvbSBcIi4vZG9tXCI7XG5pbXBvcnQgJCBmcm9tIFwicHJvcGVyanMtaG9ib1wiO1xuXG4vLyBEZXRlY3QgaWYgSU9TIHRvIGRldGVybWluZSB0aGUgc2Nyb2xsIGNvbnRhaW5lciB0byB3YXRjaFxuXG5jb25zdCB1YSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuY29uc3QgaU9TID0gQm9vbGVhbih1YS5tYXRjaCgvaVBhZC9pKSkgfHwgQm9vbGVhbih1YS5tYXRjaCgvaVBob25lL2kpKTtcbmNvbnN0IHdlYmtpdCA9IEJvb2xlYW4odWEubWF0Y2goL1dlYktpdC9pKSk7XG5jb25zdCBpc0lvcyA9IGlPUyAmJiB3ZWJraXQgJiYgIXVhLm1hdGNoKC9DcmlPUy9pKTtcblxuaWYgKGlzSW9zKSB7XG4gICAgZG9tLmh0bWwuYWRkQ2xhc3MoXCJpb3NcIik7XG5cbiAgICBjb25zdCAkZnVsbEhlaWdodCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCItZnVsbC1oZWlnaHRcIik7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRmdWxsSGVpZ2h0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICRmdWxsSGVpZ2h0WyBpIF0uc3R5bGUuaGVpZ2h0ID0gYCR7d2luZG93LmlubmVySGVpZ2h0IH1weGA7XG4gICAgfVxuXG5cbiAgICBjb25zdCAkbG9ja2VkVmlld3BvcnQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwic2Nyb2xsc3RvcFwiKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJGxvY2tlZFZpZXdwb3J0Lmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgJGxvY2tlZFZpZXdwb3J0WyBpIF0uc3R5bGUuaGVpZ2h0ID0gYCR7d2luZG93LmlubmVySGVpZ2h0IH1weGA7XG4gICAgfVxuXG5cblxuICAgIGNvbmZpZy5pc0lvcyA9IHRydWU7XG4gICAgY29uZmlnLnNjcm9sbENvbnRhaW5lciA9IGRvbS5hcHA7XG59IGVsc2Uge1xuICAgIGNvbmZpZy5zY3JvbGxDb250YWluZXIgPSB3aW5kb3c7XG59XG5cbi8qKlxuICpcbiAqIEBkZXNjcmlwdGlvbiBTaW5nbGUgYXBwIGluc3RhbmNlb2YgW1Njcm9sbENvbnRyb2xsZXJde0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9Qcm9wZXJKUy9TY3JvbGxDb250cm9sbGVyfSBmb3IgcmFmIHNjcm9sbCBoYW5kbGluZ1xuICogQG1lbWJlciBzY3JvbGxlclxuICogQG1lbWJlcm9mIGNvcmVcbiAqXG4gKi9cblxudmFyIHNjcm9sbGVyID0gXCIgXCI7XG5cbmlmIChpc0lvcykge1xuICAgIHZhciBzY3JvbGxlciA9IG5ldyBTY3JvbGxDb250cm9sbGVyKGNvbmZpZy5zY3JvbGxDb250YWluZXIpO1xuXG4gICAgY29uc29sZS5sb2coc2Nyb2xsZXIpO1xufSBlbHNlIHtcbiAgICB2YXIgc2Nyb2xsZXIgPSBuZXcgU2Nyb2xsQ29udHJvbGxlcigpO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIEV4cG9ydFxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5leHBvcnQgZGVmYXVsdCBzY3JvbGxlcjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzb3VyY2UvanMvY29yZS9zY3JvbGxlci5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///32\n')},,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _config = __webpack_require__(/*! ./core/config */ 4);\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _core = __webpack_require__(/*! ./core */ 10);\n\nvar core = _interopRequireWildcard(_core);\n\nvar _util = __webpack_require__(/*! ./core/util */ 13);\n\nvar util = _interopRequireWildcard(_util);\n\nvar _properjsHobo = __webpack_require__(/*! properjs-hobo */ 11);\n\nvar _properjsHobo2 = _interopRequireDefault(_properjsHobo);\n\nvar _CSSPlugin = __webpack_require__(/*! gsap/CSSPlugin */ 49);\n\nvar _CSSPlugin2 = _interopRequireDefault(_CSSPlugin);\n\nvar _TimelineLite = __webpack_require__(/*! gsap/TimelineLite */ 106);\n\nvar _TimelineLite2 = _interopRequireDefault(_TimelineLite);\n\nvar _TweenLite = __webpack_require__(/*! gsap/TweenLite */ 6);\n\nvar _TweenLite2 = _interopRequireDefault(_TweenLite);\n\nvar _EasePack = __webpack_require__(/*! gsap/EasePack */ 50);\n\nvar _EasePack2 = _interopRequireDefault(_EasePack);\n\nvar _ScrollToPlugin = __webpack_require__(/*! gsap/ScrollToPlugin */ 51);\n\nvar _ScrollToPlugin2 = _interopRequireDefault(_ScrollToPlugin);\n\nvar _Mousemove = __webpack_require__(/*! ./class/Mousemove */ 45);\n\nvar _Mousemove2 = _interopRequireDefault(_Mousemove);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//import { TimelineLite , sdfsd,} from \'gsap\';\n\n\nvar actions = {\n\n    /**\n    *\n    * @public\n    * @method init\n    * @memberof menus.intro\n    * @description Method initializes intro node in DOM.\n    *\n    */\n\n    init: function init() {\n\n        // Block image drags\n\n        (0, _properjsHobo2.default)("img").on("dragstart", function (event) {\n            event.preventDefault();\n        });\n\n        if (window.location.pathname !== "/") {\n\n            // Gather height to determine headerFade color change distance\n\n            this.overlayHeight = core.dom.detailOverlay[0].clientHeight;\n\n            this.navHeight = core.dom.naviHeight.getBoundingClientRect().top + window.scrollY;\n\n            _config2.default.scrollDistance = this.overlayHeight - 2 - this.navHeight * 1.75 + window.innerHeight;\n        }\n\n        //\n        // if (config.isTouch = true) {\n        //\n        // \tvar $heroItem = $("#item-1");\n        //\n        // \tvar $lastItem = $(dom.loop).find(".figure-container:nth-last-child(2)");\n        //\n        // \tvar heroHeight = $heroItem.outerHeight();\n        //\n        // \tvar lastItemHeight = $lastItem.outerHeight();\n        //\n        // \t$(dom.loop).css("padding-top", ((window.innerHeight - heroHeight) / 2 )  );\n        // \t$(dom.loop).css("padding-bottom", ((window.innerHeight - lastItemHeight) / 2 )  );\n        //\n        // }\n\n\n        // Initialize Mouse Move on Titles on Home Page\n\n        if (_config2.default.textTransform && window.location.pathname === "/" && _config2.default.isTouch !== true) {\n\n            this.mouseMove = new _Mousemove2.default();\n        }\n\n        // Initiate\n\n        core.dom.detailOverlay.removeClass("transition-out");\n\n        core.dom.main.removeClass("hidden");\n\n        /**\n        *\n        * @description Action for click-through on work\n        * @method click\n        * @param {object}\n        * @memberof actions\n        * @returns {event}\n        *\n        */\n\n        core.dom.work.on("click", function (e) {\n\n            _config2.default.activePiece = this;\n\n            // Deactivate click if on detail page\n\n            if (!document.documentElement.classList.contains("is-home-page")) {\n                return;\n            }\n        });\n\n        /**\n        *\n        * @description Apply class for seamless hovering css\n        * @method click\n        * @param {object}\n        * @memberof actions\n        * @returns {event}\n        *\n        */\n\n        var $cloneHoverItems = core.dom.loop.find(".clone-hover");\n\n        $cloneHoverItems.on("mouseenter", function (e) {\n            $cloneHoverItems.addClass("clone-hovering");\n        });\n\n        $cloneHoverItems.on("mouseleave", function (e) {\n            $cloneHoverItems.removeClass("clone-hovering");\n        });\n\n        /**\n        *\n        * @description Say Hello Links\n        * @method click\n        * @param {object}\n        * @memberof actions\n        * @returns {event}\n        *\n        */\n\n        if (_config2.default.isTouch) {\n\n            // Home: Touch Only Events\n\n            var $sayHello = (0, _properjsHobo2.default)(_config2.default.mainSelector).find(".js-sayhello");\n\n            $sayHello.on("click", function () {\n\n                (0, _properjsHobo2.default)(this).parent().addClass("show-links");\n            });\n        }\n\n        /**\n        *\n        * @description Main Menu Navigation\n        * @method click\n        * @param {object}\n        * @memberof actions\n        * @returns {event}\n        *\n        */\n\n        core.dom.openNav.on("click", function (e) {\n\n            core.dom.nav.addClass("nav-active");\n\n            var tl = new _TimelineLite2.default();\n\n            tl.to(core.dom.menuContainer, 0, { opacity: "1" }).from(core.dom.nav, 0, { y: "-100%" }).call(function () {\n                core.dom.body.addClass("scrollstop");\n            }).to(core.dom.nav, 0.8, { y: "0%", ease: Circ.easeInOut }).to(core.dom.loop, 1, { y: ".4%", ease: Circ.easeInOut }, "-=.8").from(core.dom.menuContainerLinks, 1.75, { y: "3%", ease: Power1.easeOut }, "-=1").from(core.dom.menuContainer, 1, { opacity: "0", ease: Power1.easeOut }, "-=1");\n        });\n\n        /**\n        *\n        * @description Closing Main Menu Navigation\n        * @method click\n        * @param {object}\n        * @memberof actions\n        * @returns {event}\n        *\n        */\n\n        core.dom.closeNav.on("click", function (e) {\n\n            var tl = new _TimelineLite2.default();\n\n            core.dom.body.removeClass("scrollstop");\n\n            tl.to(core.dom.menuContainer, 0.6, { opacity: "0", ease: Power1.easeOut }).to(core.dom.nav, 0.8, { y: "-100%", ease: Circ.easeInOut }, "-=.1").call(function () {\n\n                core.dom.nav.removeClass("nav-active");\n            }).to(core.dom.loop, 1, { y: "0%", ease: Circ.easeInOut }, "-=1").to(core.dom.menuContainerLinks, 0, { y: "0%" });\n        });\n\n        /**\n        *\n        * @description Action for scorlling to\n        * @method click\n        * @param {object}\n        * @memberof actions\n        * @returns {event}\n        *\n        */\n\n        (0, _properjsHobo2.default)(".js-buy").on("click", function (e) {\n\n            if (document.documentElement.classList.contains("is-home-page")) {\n                return;\n            }\n\n            util.scrollToElement("purchase");\n        });\n\n        /**\n        *\n        * @description Append Product Information from Shopify on Detail Pages\n        * @method click\n        * @param {object}\n        * @memberof actions\n        * @returns {event}\n        *\n        */\n\n        if (window.location.pathname !== "/" && _config2.default.shopifySync == true) {\n\n            var productId = core.dom.main.find("[data-product-id]").attr("data-product-id");\n\n            app.shopify.appendProduct(productId);\n        }\n\n        /**\n        *\n        * @description Keyboard actions for detail page actions\n        * @method initializes\n        * @param {object}\n        * @memberof actions\n        * @returns {event}\n        *\n        */\n\n        if (!document.documentElement.classList.contains("is-home-page")) {}\n\n        // var $current = dom.loop.find(\'.active\');\n        //\n        // $(document).keyup(function(e) {\n        //   if (e.keyCode === 27) $(\'.js-close\').click();   // esc\n        //\n        // \tvar href = \'/\'\n        //\n        //  \tapp.router.route(href)\n        //\n        // });\n\n        /**\n        *\n        * @description Action for closing work detail\n        * @method click\n        * @param {object}\n        * @memberof actions\n        * @returns {event}\n        *\n        */\n\n        core.dom.closeDetail.on("click", function (e) {});\n    },\n    close: function close(pathname) {\n\n        if (document.documentElement.classList.contains("is-home-page")) {\n\n            /**\n            *\n            * @description Event for navigating to work detail\n            * @method click\n            * @param {object}\n            * @memberof actions\n            * @returns {event}\n            *\n            */\n\n            // Scroll to work\n\n            var $activePiece = (0, _properjsHobo2.default)(_config2.default.activePiece);\n\n            var currentDataScroll = $activePiece.attr("data-scroll");\n\n            var targetDataScroll = currentDataScroll;\n            var scrollDuration;\n\n            scrollDuration = 8;\n\n            if (_config2.default.isTouch == true) {\n                var offset = function offset(el) {\n                    var rect = el.getBoundingClientRect();\n\n                    return rect.top;\n                };\n\n                var elHeight = $activePiece[0].clientHeight;\n                var elOffset = offset($activePiece[0]);\n                var elOffset = _config2.default.currentScrollPosition + elOffset;\n\n                targetDataScroll = elOffset - (window.innerHeight / 2 - elHeight / 2);\n            }\n\n            core.dom.body.addClass("show-overlay");\n            core.dom.body.addClass("is-transitioning");\n\n            // Remove style overwritten for x icon on previous page click\n            core.dom.navi.find(".js-close")[0].style.display = null;\n\n            // Get selected ordernumber for item counter nav\n\n            var itemCount = $activePiece.attr("data-location");\n\n            var $itemCountSelector = core.dom.itemCounter.find("li");\n\n            var $currentItemCountSelector = $itemCountSelector.find("*[data-item=\\"#" + itemCount + "\\"]");\n\n            // Gather Current URL data\n\n            var backgroundColor = $activePiece.attr("data-color");\n\n            var name = $activePiece.attr("data-name");\n\n            var price = $activePiece.attr("data-price");\n\n            var heroOrientation = $activePiece.attr("data-orientation");\n\n            var backgroundColor = $activePiece.attr("data-color");\n\n            var origDataScroll = $activePiece.attr("orig-offset");\n\n            var imgSrc = $activePiece.find(".js-image-src").attr("src");\n\n            // Append Current URL Data\n\n\n            core.dom.detailOverlay[0].style.backgroundColor = backgroundColor;\n\n            var $activeImg = core.dom.detailOverlay.find(".js-active-img");\n            var $activeName = core.dom.detailOverlay.find(".js-active-name");\n            var $activePrice = core.dom.detailOverlay.find(".js-active-price");\n            var $activeOrientation = core.dom.detailOverlay.find(".hero-detail");\n\n            $activeImg[0].innerHTML = "";\n\n            var sourceImage = document.createElement("img");\n\n            sourceImage.src = imgSrc;\n            $activeImg.append(sourceImage);\n\n            // $activeName.innerText = "";\n            $activeName[0].innerText = name;\n\n            // $activePrice.innerText = "";\n            $activePrice[0].innerText = price;\n\n            $activeOrientation.removeClass("landscape-hero").removeClass("portrait-hero").addClass(heroOrientation + "-hero");\n\n            // Apply inactive and active classes to works\n\n            var $activeParentContainer = $activePiece.closest(".figure-container");\n\n            var $siblings = $activeParentContainer.parent().children();\n\n            $siblings.addClass("is-inactive");\n\n            $activeParentContainer.addClass("active").removeClass("is-inactive");\n\n            //Preform Animation\n\n            var tl = new _TimelineLite2.default();\n\n            console.log(targetDataScroll + "targetData");\n\n            tl.to(core.dom.overlay, 0, { y: "-100%" }).to(_config2.default.scrollContainer, scrollDuration, { scrollTo: { y: targetDataScroll }, ease: Circ.easeInOut }).call(function () {\n\n                core.dom.body.addClass("scrollstop");\n\n                core.dom.loop.addClass("fade-loop");\n\n                document.body.style.backgroundColor = backgroundColor; // Set background to body\n\n                //$(config.scrollContainer).scrollTop(0)\n\n                if (_config2.default.scrollContainer == window) {\n                    _config2.default.scrollContainer.scroll(0, 0);\n                } else {\n                    _config2.default.scrollContainer.scrollTop = 0;\n                }\n\n                core.dom.navi.removeClass("hide-nav");\n\n                core.dom.navi.find(".info-link")[0].style.display = "none";\n\n                $itemCountSelector.find(".active").removeClass("active");\n\n                $currentItemCountSelector.addClass("active");\n\n                // Close Global Menu if clicked back button on router\n\n                if (core.dom.nav[0].classList.contains("nav-active")) {\n\n                    var tlMenu = new _TimelineLite2.default();\n\n                    tlMenu.to(core.dom.nav, 0.8, { y: "-100%", ease: Circ.easeInOut }).call(function () {\n\n                        core.dom.nav.removeClass("nav-active");\n                    });\n                }\n            }).to(core.dom.navi, 0, { opacity: "0", ease: Power1.easeOut }, "-=1").to(core.dom.fixedNavigation, 0, { opacity: "0", ease: Power1.easeOut }, "-=1").from(core.dom.overlay, 2.4, { y: "100%", ease: Circ.easeInOut }, "-=1.5").from(core.dom.detailOverlay, 1.8, { y: "100%", ease: Circ.easeInOut }, "-=1.95").call(function () {\n                core.dom.html.addClass("is-detail-page");\n                core.dom.body.removeClass("scrollstop");\n            }).to(core.dom.detailContainer, 2, { opacity: "1", ease: Power1.easeOut }, "-=.8").call(function () {\n                // Post Animation Events\n                core.dom.loop.addClass("hidden");\n                _config2.default.disableLoop = true;\n\n                core.dom.body.removeClass("show-overlay");\n            }).to(core.dom.detailContainer, 1.75, { y: "0", ease: Power1.easeOut }, "-=2").call(function () {\n                core.dom.body.addClass("init-page");\n            }).to(core.dom.fixedNavigation, 0.1, { opacity: "1", ease: Power1.easeOut }, "-=1.1").to(core.dom.navi, 0.6, { opacity: "1", ease: Power1.easeOut }, "-=1.2").call(function () {\n\n                core.dom.navi.removeAttr("style");\n\n                core.dom.body.removeClass("is-transitioning");\n\n                core.dom.loop.removeClass("fade-loop");\n            });\n        } else {\n\n            /**\n            *\n            * @description Event for closing work detail\n            * @method click\n            * @param {object}\n            * @memberof actions\n            * @returns {event}\n            *\n            */\n\n            // Get Active Project\n\n            var $current = core.dom.loop.find(".active");\n\n            var $currentLink = $current.find("a");\n\n            var currentDataScroll = $currentLink.attr("data-scroll");\n\n            // Remove Active and Inactive Classes\n\n            var $figures = core.dom.loop.find(".figure-container");\n\n            $figures.removeClass("active").removeClass("is-inactive");\n\n            // Init Animations\n\n            var scrollDuration;\n\n            if (scrollY == 0) {\n\n                scrollDuration = 0;\n            } else {\n\n                scrollDuration = 1;\n            }\n\n            core.dom.body.addClass("show-overlay");\n\n            app.router.controller._options.transitionTime = 1200;\n\n            var tl = new _TimelineLite2.default();\n\n            var scrollToVal = window.scrollY / 1.4;\n\n            if (_config2.default.isTouch == true) {\n                scrollToVal = _config2.default.currentScrollPosition - window.innerHeight / 4;\n            }\n\n            tl.to(_config2.default.scrollContainer, 1, { scrollTo: { y: scrollToVal }, ease: Circ.easeInOut }).to(core.dom.detailContainer, 1, { y: "40px", ease: Circ.easeInOut }, "-=1").to(core.dom.overlay, 0, { y: "-100%", ease: Circ.easeInOut }, "-=1").call(function () {\n\n                core.dom.overlay[0].style.height = 100 + "%";\n\n                core.dom.main.addClass("hidden");\n\n                core.dom.body.removeClass("init-page");\n\n                core.dom.navi.find(".js-close")[0].style.display = "none";\n            }).to(core.dom.overlay, 1, { y: "0%", ease: Circ.easeInOut }, "-=1").call(function () {\n\n                document.body.style.backgroundColor = "";\n\n                core.dom.detailOverlay.removeAttr("style").addClass("transition-out");\n\n                core.dom.body.addClass("scrollstop");\n\n                $currentLink.removeClass("hide");\n\n                core.dom.loop.removeClass("hidden");\n\n                if (_config2.default.scrollContainer == window) {\n                    _config2.default.scrollContainer.scroll(0, currentDataScroll);\n                } else {\n                    _config2.default.scrollContainer.scrollTop = currentDataScroll;\n                }\n\n                //$(config.scrollContainer).scrollTop(currentDataScroll);\n\n                core.dom.loop.scrollTop = currentDataScroll;\n\n                //$(dom.loop).scrollTop(currentDataScroll)\n\n                core.dom.loop.removeClass("scrollstop");\n\n                core.dom.loop.scrollTop = currentDataScroll;\n\n                //$(dom.loop).scrollTop(0).removeClass("scrollstop");\n\n                if (_config2.default.scrollContainer == window) {\n                    _config2.default.scrollContainer.scroll(0, currentDataScroll);\n                } else {\n                    _config2.default.scrollContainer.scrollTop = currentDataScroll;\n                }\n\n                _config2.default.disableLoop = false;\n\n                core.dom.body.removeClass("scrollstop");\n\n                core.dom.navi.removeClass("reverse");\n            }).to(core.dom.fixedNavigation, 0, { opacity: "0", ease: Power1.easeOut }).to(core.dom.overlay, 1, { y: "100%", ease: Circ.easeInOut }).call(function () {\n\n                // Resets\n\n\n                core.dom.overlay.removeAttr("style");\n\n                core.dom.html.removeClass("is-detail-page");\n\n                core.dom.body.removeClass("show-overlay");\n\n                app.router.controller._options.transitionTime = _config2.default.pageDuration;\n\n                core.dom.detailContainer.removeAttr("style");\n\n                core.dom.navi.find(".info-link").removeAttr("style");\n            }).from(core.dom.loop, 1.4, { y: ".3%", ease: Power1.easeOut }, "-=1").to(core.dom.fixedNavigation, 0.1, { opacity: "1", ease: Power1.easeOut }, "-=.65").from(core.dom.navi, 0.1, { opacity: "0", ease: Power1.easeOut }, "-=.4").call(function () {\n                core.dom.navi.removeAttr("style");\n            });\n        }\n    },\n    teardown: function teardown() {\n\n        core.dom.work.off();\n\n        if (this.mouseMove) {\n            this.mouseMove.destroy();\n        }\n\n        core.dom.openNav.off();\n\n        core.dom.closeNav.off();\n\n        (0, _properjsHobo2.default)(".js-buy").off();\n\n        (0, _properjsHobo2.default)(".js-cart").off();\n\n        core.dom.closeDetail.off();\n    }\n};\n\n/******************************************************************************\n * Export\n *******************************************************************************/\nexports.default = actions;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc291cmNlL2pzL2FjdGlvbnMuanM/OWY3NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY29uZmlnIGZyb20gXCIuL2NvcmUvY29uZmlnXCI7XG5pbXBvcnQgKiBhcyBjb3JlIGZyb20gXCIuL2NvcmVcIjtcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4vY29yZS91dGlsXCI7XG5pbXBvcnQgJCBmcm9tIFwicHJvcGVyanMtaG9ib1wiO1xuaW1wb3J0IENTU1BsdWdpbiBmcm9tIFwiZ3NhcC9DU1NQbHVnaW5cIjtcbmltcG9ydCBUaW1lbGluZUxpdGUgZnJvbSBcImdzYXAvVGltZWxpbmVMaXRlXCI7XG5pbXBvcnQgVHdlZW5MaXRlIGZyb20gXCJnc2FwL1R3ZWVuTGl0ZVwiO1xuaW1wb3J0IEVhc2VQYWNrIGZyb20gXCJnc2FwL0Vhc2VQYWNrXCI7XG5pbXBvcnQgU2Nyb2xsVG9QbHVnaW4gZnJvbSBcImdzYXAvU2Nyb2xsVG9QbHVnaW5cIjtcbmltcG9ydCBNb3VzZW1vdmUgZnJvbSBcIi4vY2xhc3MvTW91c2Vtb3ZlXCI7XG5cbi8vaW1wb3J0IHsgVGltZWxpbmVMaXRlICwgc2Rmc2QsfSBmcm9tICdnc2FwJztcblxuXG5jb25zdCBhY3Rpb25zID0ge1xuXG5cbiAgICAvKipcblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKiBAbWV0aG9kIGluaXRcblx0ICogQG1lbWJlcm9mIG1lbnVzLmludHJvXG5cdCAqIEBkZXNjcmlwdGlvbiBNZXRob2QgaW5pdGlhbGl6ZXMgaW50cm8gbm9kZSBpbiBET00uXG5cdCAqXG5cdCAqL1xuXG4gICAgaW5pdCAoKSB7XG5cblxuXG4gICAgICAgIC8vIEJsb2NrIGltYWdlIGRyYWdzXG5cbiAgICAgICAgJChcImltZ1wiKS5vbihcImRyYWdzdGFydFwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSAhPT0gXCIvXCIpIHtcblxuICAgICAgICAgICAgLy8gR2F0aGVyIGhlaWdodCB0byBkZXRlcm1pbmUgaGVhZGVyRmFkZSBjb2xvciBjaGFuZ2UgZGlzdGFuY2VcblxuICAgICAgICAgICAgdGhpcy5vdmVybGF5SGVpZ2h0ID0gY29yZS5kb20uZGV0YWlsT3ZlcmxheVsgMCBdLmNsaWVudEhlaWdodDtcblxuICAgICAgICAgICAgdGhpcy5uYXZIZWlnaHQgPSBjb3JlLmRvbS5uYXZpSGVpZ2h0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIHdpbmRvdy5zY3JvbGxZO1xuXG4gICAgICAgICAgICBjb25maWcuc2Nyb2xsRGlzdGFuY2UgPSAoICh0aGlzLm92ZXJsYXlIZWlnaHQgLSAyKSAtICggdGhpcy5uYXZIZWlnaHQgKiAxLjc1KSApICsgd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICB9XG5cblxuICAgICAgICAvL1xuICAgICAgICAvLyBpZiAoY29uZmlnLmlzVG91Y2ggPSB0cnVlKSB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vIFx0dmFyICRoZXJvSXRlbSA9ICQoXCIjaXRlbS0xXCIpO1xuICAgICAgICAvL1xuICAgICAgICAvLyBcdHZhciAkbGFzdEl0ZW0gPSAkKGRvbS5sb29wKS5maW5kKFwiLmZpZ3VyZS1jb250YWluZXI6bnRoLWxhc3QtY2hpbGQoMilcIik7XG4gICAgICAgIC8vXG4gICAgICAgIC8vIFx0dmFyIGhlcm9IZWlnaHQgPSAkaGVyb0l0ZW0ub3V0ZXJIZWlnaHQoKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gXHR2YXIgbGFzdEl0ZW1IZWlnaHQgPSAkbGFzdEl0ZW0ub3V0ZXJIZWlnaHQoKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gXHQkKGRvbS5sb29wKS5jc3MoXCJwYWRkaW5nLXRvcFwiLCAoKHdpbmRvdy5pbm5lckhlaWdodCAtIGhlcm9IZWlnaHQpIC8gMiApICApO1xuICAgICAgICAvLyBcdCQoZG9tLmxvb3ApLmNzcyhcInBhZGRpbmctYm90dG9tXCIsICgod2luZG93LmlubmVySGVpZ2h0IC0gbGFzdEl0ZW1IZWlnaHQpIC8gMiApICApO1xuICAgICAgICAvL1xuICAgICAgICAvLyB9XG5cblxuXG4gICAgICAgIC8vIEluaXRpYWxpemUgTW91c2UgTW92ZSBvbiBUaXRsZXMgb24gSG9tZSBQYWdlXG5cbiAgICAgICAgaWYgKGNvbmZpZy50ZXh0VHJhbnNmb3JtICYmIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSA9PT0gXCIvXCIgJiYgY29uZmlnLmlzVG91Y2ggIT09IHRydWUgKSB7XG5cbiAgICAgICAgICAgIHRoaXMubW91c2VNb3ZlID0gbmV3IE1vdXNlbW92ZSgpO1xuXG4gICAgICAgIH1cblxuXG5cblxuICAgICAgICAvLyBJbml0aWF0ZVxuXG4gICAgICAgIGNvcmUuZG9tLmRldGFpbE92ZXJsYXkucmVtb3ZlQ2xhc3MoXCJ0cmFuc2l0aW9uLW91dFwiKTtcblxuICAgICAgICBjb3JlLmRvbS5tYWluLnJlbW92ZUNsYXNzKFwiaGlkZGVuXCIpO1xuXG5cblxuXG5cblxuXG5cblxuICAgICAgICAvKipcblx0XHRcdCAqXG5cdFx0XHQgKiBAZGVzY3JpcHRpb24gQWN0aW9uIGZvciBjbGljay10aHJvdWdoIG9uIHdvcmtcblx0XHRcdCAqIEBtZXRob2QgY2xpY2tcblx0XHRcdCAqIEBwYXJhbSB7b2JqZWN0fVxuXHRcdFx0ICogQG1lbWJlcm9mIGFjdGlvbnNcblx0XHRcdCAqIEByZXR1cm5zIHtldmVudH1cblx0XHRcdCAqXG5cdFx0XHQgKi9cblxuXHRcdFx0IGNvcmUuZG9tLndvcmsub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuXG5cdFx0XHRcdCBjb25maWcuYWN0aXZlUGllY2UgPSB0aGlzO1xuXG4gICAgICAgICAgICAvLyBEZWFjdGl2YXRlIGNsaWNrIGlmIG9uIGRldGFpbCBwYWdlXG5cbiAgICAgICAgICAgIGlmICggIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJpcy1ob21lLXBhZ2VcIikgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG5cblxuXG5cbiAgICAgICAgLyoqXG5cdFx0XHQgKlxuXHRcdFx0ICogQGRlc2NyaXB0aW9uIEFwcGx5IGNsYXNzIGZvciBzZWFtbGVzcyBob3ZlcmluZyBjc3Ncblx0XHRcdCAqIEBtZXRob2QgY2xpY2tcblx0XHRcdCAqIEBwYXJhbSB7b2JqZWN0fVxuXHRcdFx0ICogQG1lbWJlcm9mIGFjdGlvbnNcblx0XHRcdCAqIEByZXR1cm5zIHtldmVudH1cblx0XHRcdCAqXG5cdFx0XHQgKi9cblxuICAgICAgICBjb25zdCAkY2xvbmVIb3Zlckl0ZW1zID0gY29yZS5kb20ubG9vcC5maW5kKFwiLmNsb25lLWhvdmVyXCIpO1xuXG4gICAgICAgICRjbG9uZUhvdmVySXRlbXMub24oXCJtb3VzZWVudGVyXCIsIChlKSA9PiB7XG4gICAgICAgICAgICAkY2xvbmVIb3Zlckl0ZW1zLmFkZENsYXNzKFwiY2xvbmUtaG92ZXJpbmdcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRjbG9uZUhvdmVySXRlbXMub24oXCJtb3VzZWxlYXZlXCIsIChlKSA9PiB7XG4gICAgICAgICAgICAkY2xvbmVIb3Zlckl0ZW1zLnJlbW92ZUNsYXNzKFwiY2xvbmUtaG92ZXJpbmdcIik7XG4gICAgICAgIH0pO1xuXG5cblxuXG5cblxuICAgICAgICAvKipcblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQGRlc2NyaXB0aW9uIFNheSBIZWxsbyBMaW5rc1xuXHRcdFx0XHQgKiBAbWV0aG9kIGNsaWNrXG5cdFx0XHRcdCAqIEBwYXJhbSB7b2JqZWN0fVxuXHRcdFx0XHQgKiBAbWVtYmVyb2YgYWN0aW9uc1xuXHRcdFx0XHQgKiBAcmV0dXJucyB7ZXZlbnR9XG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqL1xuXG4gICAgICAgIGlmIChjb25maWcuaXNUb3VjaCkge1xuXG4gICAgICAgICAgICAvLyBIb21lOiBUb3VjaCBPbmx5IEV2ZW50c1xuXG4gICAgICAgICAgICBjb25zdCAkc2F5SGVsbG8gPSAkKGNvbmZpZy5tYWluU2VsZWN0b3IpLmZpbmQoXCIuanMtc2F5aGVsbG9cIik7XG5cbiAgICAgICAgICAgICRzYXlIZWxsby5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICQodGhpcykucGFyZW50KCkuYWRkQ2xhc3MoXCJzaG93LWxpbmtzXCIpO1xuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG5cdFx0XHQgKlxuXHRcdFx0ICogQGRlc2NyaXB0aW9uIE1haW4gTWVudSBOYXZpZ2F0aW9uXG5cdFx0XHQgKiBAbWV0aG9kIGNsaWNrXG5cdFx0XHQgKiBAcGFyYW0ge29iamVjdH1cblx0XHRcdCAqIEBtZW1iZXJvZiBhY3Rpb25zXG5cdFx0XHQgKiBAcmV0dXJucyB7ZXZlbnR9XG5cdFx0XHQgKlxuXHRcdFx0ICovXG5cblxuXHRcdFx0IGNvcmUuZG9tLm9wZW5OYXYub24oXCJjbGlja1wiLCAoZSkgPT4ge1xuXG4gICAgICAgICAgICBjb3JlLmRvbS5uYXYuYWRkQ2xhc3MoXCJuYXYtYWN0aXZlXCIpO1xuXG4gICAgICAgICAgICBjb25zdCB0bCA9IG5ldyBUaW1lbGluZUxpdGUoKTtcblxuICAgICAgICAgICAgdGwudG8oY29yZS5kb20ubWVudUNvbnRhaW5lciwgMCwgeyBvcGFjaXR5OiBcIjFcIiB9KVxuICAgICAgICAgICAgICAgIC5mcm9tKGNvcmUuZG9tLm5hdiwgMCwgeyB5OiBcIi0xMDAlXCIgfSkuY2FsbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvcmUuZG9tLmJvZHkuYWRkQ2xhc3MoXCJzY3JvbGxzdG9wXCIpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRvKGNvcmUuZG9tLm5hdiwgMC44LCB7IHk6IFwiMCVcIiwgZWFzZTogQ2lyYy5lYXNlSW5PdXQgfSlcbiAgICAgICAgICAgICAgICAudG8oY29yZS5kb20ubG9vcCwgMSwgeyB5OiBcIi40JVwiLCBlYXNlOiBDaXJjLmVhc2VJbk91dCB9LCBcIi09LjhcIilcbiAgICAgICAgICAgICAgICAuZnJvbShjb3JlLmRvbS5tZW51Q29udGFpbmVyTGlua3MsIDEuNzUsIHsgeTogXCIzJVwiLCBlYXNlOiBQb3dlcjEuZWFzZU91dCB9LCBcIi09MVwiKVxuICAgICAgICAgICAgICAgIC5mcm9tKGNvcmUuZG9tLm1lbnVDb250YWluZXIsIDEsIHsgb3BhY2l0eTogXCIwXCIsIGVhc2U6IFBvd2VyMS5lYXNlT3V0IH0sIFwiLT0xXCIpO1xuXG4gICAgICAgIH0pO1xuXG5cblxuXG5cbiAgICAgICAgLyoqXG5cdFx0XHQgKlxuXHRcdFx0ICogQGRlc2NyaXB0aW9uIENsb3NpbmcgTWFpbiBNZW51IE5hdmlnYXRpb25cblx0XHRcdCAqIEBtZXRob2QgY2xpY2tcblx0XHRcdCAqIEBwYXJhbSB7b2JqZWN0fVxuXHRcdFx0ICogQG1lbWJlcm9mIGFjdGlvbnNcblx0XHRcdCAqIEByZXR1cm5zIHtldmVudH1cblx0XHRcdCAqXG5cdFx0XHQgKi9cblxuXHRcdFx0IGNvcmUuZG9tLmNsb3NlTmF2Lm9uKFwiY2xpY2tcIiwgKGUpID0+IHtcblxuICAgICAgICAgICAgY29uc3QgdGwgPSBuZXcgVGltZWxpbmVMaXRlKCk7XG5cbiAgICAgICAgICAgIGNvcmUuZG9tLmJvZHkucmVtb3ZlQ2xhc3MoXCJzY3JvbGxzdG9wXCIpO1xuXG4gICAgICAgICAgICB0bFxuICAgICAgICAgICAgICAgIC50byhjb3JlLmRvbS5tZW51Q29udGFpbmVyLCAwLjYsIHsgb3BhY2l0eTogXCIwXCIsIGVhc2U6IFBvd2VyMS5lYXNlT3V0IH0pXG4gICAgICAgICAgICAgICAgLnRvKGNvcmUuZG9tLm5hdiwgMC44LCB7IHk6IFwiLTEwMCVcIiwgZWFzZTogQ2lyYy5lYXNlSW5PdXQgfSwgXCItPS4xXCIpLmNhbGwoKCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvcmUuZG9tLm5hdi5yZW1vdmVDbGFzcyhcIm5hdi1hY3RpdmVcIik7XG5cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50byhjb3JlLmRvbS5sb29wLCAxLCB7IHk6IFwiMCVcIiwgZWFzZTogQ2lyYy5lYXNlSW5PdXQgfSwgXCItPTFcIilcbiAgICAgICAgICAgICAgICAudG8oY29yZS5kb20ubWVudUNvbnRhaW5lckxpbmtzLCAwLCB7IHk6IFwiMCVcIiB9KTtcblxuICAgICAgICB9KTtcblxuXG5cblxuICAgICAgICAvKipcblx0XHRcdCAqXG5cdFx0XHQgKiBAZGVzY3JpcHRpb24gQWN0aW9uIGZvciBzY29ybGxpbmcgdG9cblx0XHRcdCAqIEBtZXRob2QgY2xpY2tcblx0XHRcdCAqIEBwYXJhbSB7b2JqZWN0fVxuXHRcdFx0ICogQG1lbWJlcm9mIGFjdGlvbnNcblx0XHRcdCAqIEByZXR1cm5zIHtldmVudH1cblx0XHRcdCAqXG5cdFx0XHQgKi9cblxuXHRcdFx0ICQoXCIuanMtYnV5XCIpLm9uKFwiY2xpY2tcIiwgKGUpID0+IHtcblxuICAgICAgICAgICAgaWYgKCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaXMtaG9tZS1wYWdlXCIpICkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdXRpbC5zY3JvbGxUb0VsZW1lbnQoXCJwdXJjaGFzZVwiKTtcblxuICAgICAgICB9KTtcblxuXG5cblxuXG5cbiAgICAgICAgLyoqXG5cdFx0XHQgKlxuXHRcdFx0ICogQGRlc2NyaXB0aW9uIEFwcGVuZCBQcm9kdWN0IEluZm9ybWF0aW9uIGZyb20gU2hvcGlmeSBvbiBEZXRhaWwgUGFnZXNcblx0XHRcdCAqIEBtZXRob2QgY2xpY2tcblx0XHRcdCAqIEBwYXJhbSB7b2JqZWN0fVxuXHRcdFx0ICogQG1lbWJlcm9mIGFjdGlvbnNcblx0XHRcdCAqIEByZXR1cm5zIHtldmVudH1cblx0XHRcdCAqXG5cdFx0XHQgKi9cblxuICAgICAgICBpZiAoIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSAhPT0gXCIvXCIgJiYgY29uZmlnLnNob3BpZnlTeW5jID09IHRydWUpIHtcblxuICAgICAgICAgICAgY29uc3QgcHJvZHVjdElkID0gY29yZS5kb20ubWFpbi5maW5kKFwiW2RhdGEtcHJvZHVjdC1pZF1cIikuYXR0cihcImRhdGEtcHJvZHVjdC1pZFwiKTtcblxuICAgICAgICAgICAgYXBwLnNob3BpZnkuYXBwZW5kUHJvZHVjdChwcm9kdWN0SWQpO1xuICAgICAgICB9XG5cblxuXG5cblxuXG5cbiAgICAgICAgLyoqXG5cdFx0XHQgKlxuXHRcdFx0ICogQGRlc2NyaXB0aW9uIEtleWJvYXJkIGFjdGlvbnMgZm9yIGRldGFpbCBwYWdlIGFjdGlvbnNcblx0XHRcdCAqIEBtZXRob2QgaW5pdGlhbGl6ZXNcblx0XHRcdCAqIEBwYXJhbSB7b2JqZWN0fVxuXHRcdFx0ICogQG1lbWJlcm9mIGFjdGlvbnNcblx0XHRcdCAqIEByZXR1cm5zIHtldmVudH1cblx0XHRcdCAqXG5cdFx0XHQgKi9cblxuICAgICAgICBpZiAoICFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaXMtaG9tZS1wYWdlXCIpICkge1xuXG4gICAgICAgICAgICAvLyB2YXIgJGN1cnJlbnQgPSBkb20ubG9vcC5maW5kKCcuYWN0aXZlJyk7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gJChkb2N1bWVudCkua2V5dXAoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgLy8gICBpZiAoZS5rZXlDb2RlID09PSAyNykgJCgnLmpzLWNsb3NlJykuY2xpY2soKTsgICAvLyBlc2NcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBcdHZhciBocmVmID0gJy8nXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gIFx0YXBwLnJvdXRlci5yb3V0ZShocmVmKVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIH0pO1xuXG4gICAgICAgIH1cblxuXG5cblxuXG4gICAgICAgIC8qKlxuXHRcdCAqXG5cdFx0ICogQGRlc2NyaXB0aW9uIEFjdGlvbiBmb3IgY2xvc2luZyB3b3JrIGRldGFpbFxuXHRcdCAqIEBtZXRob2QgY2xpY2tcblx0XHQgKiBAcGFyYW0ge29iamVjdH1cblx0XHQgKiBAbWVtYmVyb2YgYWN0aW9uc1xuXHRcdCAqIEByZXR1cm5zIHtldmVudH1cblx0XHQgKlxuXHRcdCAqL1xuXG4gICAgICAgIGNvcmUuZG9tLmNsb3NlRGV0YWlsLm9uKFwiY2xpY2tcIiwgKGUpID0+IHtcblxuXG4gICAgICAgIH0pO1xuXG5cblxuICAgIH0sXG5cblxuICAgIGNsb3NlIChwYXRobmFtZSkge1xuXG5cbiAgICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJpcy1ob21lLXBhZ2VcIikpIHtcblxuXG5cbiAgICAgICAgICAgIC8qKlxuXHRcdFx0KlxuXHRcdFx0KiBAZGVzY3JpcHRpb24gRXZlbnQgZm9yIG5hdmlnYXRpbmcgdG8gd29yayBkZXRhaWxcblx0XHRcdCogQG1ldGhvZCBjbGlja1xuXHRcdFx0KiBAcGFyYW0ge29iamVjdH1cblx0XHRcdCogQG1lbWJlcm9mIGFjdGlvbnNcblx0XHRcdCogQHJldHVybnMge2V2ZW50fVxuXHRcdFx0KlxuXHRcdFx0Ki9cblxuXG4gICAgICAgICAgICAvLyBTY3JvbGwgdG8gd29ya1xuXG4gICAgICAgICAgICBjb25zdCAkYWN0aXZlUGllY2UgPSAkKGNvbmZpZy5hY3RpdmVQaWVjZSk7XG5cbiAgICAgICAgICAgIHZhciBjdXJyZW50RGF0YVNjcm9sbCA9ICRhY3RpdmVQaWVjZS5hdHRyKFwiZGF0YS1zY3JvbGxcIik7XG5cbiAgICAgICAgICAgIGxldCB0YXJnZXREYXRhU2Nyb2xsID0gY3VycmVudERhdGFTY3JvbGw7XG4gICAgICAgICAgICB2YXIgc2Nyb2xsRHVyYXRpb247XG5cbiAgICAgICAgICAgIHNjcm9sbER1cmF0aW9uID0gMC44O1xuXG5cbiAgICAgICAgICAgIGlmIChjb25maWcuaXNUb3VjaCA9PSB0cnVlKSB7XG5cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG9mZnNldCAoZWwpIHtcbiAgICBcdFx0XHQgICAgICAgICAgIGNvbnN0IHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIFx0XHRcdCAgICAgICAgICAgICAgcmV0dXJuIChyZWN0LnRvcCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgZWxIZWlnaHQgPSAkYWN0aXZlUGllY2VbIDAgXS5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgdmFyIGVsT2Zmc2V0ID0gb2Zmc2V0KCRhY3RpdmVQaWVjZVsgMCBdKTtcbiAgICAgICAgICAgICAgICB2YXIgZWxPZmZzZXQgPSBjb25maWcuY3VycmVudFNjcm9sbFBvc2l0aW9uICsgZWxPZmZzZXQ7XG5cbiAgICAgICAgICAgICAgICB0YXJnZXREYXRhU2Nyb2xsID0gZWxPZmZzZXQgLSAoKHdpbmRvdy5pbm5lckhlaWdodCAvIDIpIC0gKGVsSGVpZ2h0IC8gMikgKTtcblxuXG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgY29yZS5kb20uYm9keS5hZGRDbGFzcyhcInNob3ctb3ZlcmxheVwiKTtcbiAgICAgICAgICAgIGNvcmUuZG9tLmJvZHkuYWRkQ2xhc3MoXCJpcy10cmFuc2l0aW9uaW5nXCIpO1xuXG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSBzdHlsZSBvdmVyd3JpdHRlbiBmb3IgeCBpY29uIG9uIHByZXZpb3VzIHBhZ2UgY2xpY2tcbiAgICAgICAgICAgIGNvcmUuZG9tLm5hdmkuZmluZChcIi5qcy1jbG9zZVwiKVsgMCBdLnN0eWxlLmRpc3BsYXkgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBHZXQgc2VsZWN0ZWQgb3JkZXJudW1iZXIgZm9yIGl0ZW0gY291bnRlciBuYXZcblxuICAgICAgICAgICAgY29uc3QgaXRlbUNvdW50ID0gJGFjdGl2ZVBpZWNlLmF0dHIoXCJkYXRhLWxvY2F0aW9uXCIpO1xuXG4gICAgICAgICAgICBjb25zdCAkaXRlbUNvdW50U2VsZWN0b3IgPSBjb3JlLmRvbS5pdGVtQ291bnRlci5maW5kKFwibGlcIik7XG5cbiAgICAgICAgICAgIGNvbnN0ICRjdXJyZW50SXRlbUNvdW50U2VsZWN0b3IgPSAkaXRlbUNvdW50U2VsZWN0b3IuZmluZChgKltkYXRhLWl0ZW09XCIjJHsgaXRlbUNvdW50IH1cIl1gKTtcblxuXG5cbiAgICAgICAgICAgIC8vIEdhdGhlciBDdXJyZW50IFVSTCBkYXRhXG5cbiAgICAgICAgICAgIHZhciBiYWNrZ3JvdW5kQ29sb3IgPSAkYWN0aXZlUGllY2UuYXR0cihcImRhdGEtY29sb3JcIik7XG5cbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSAkYWN0aXZlUGllY2UuYXR0cihcImRhdGEtbmFtZVwiKTtcblxuICAgICAgICAgICAgY29uc3QgcHJpY2UgPSAkYWN0aXZlUGllY2UuYXR0cihcImRhdGEtcHJpY2VcIik7XG5cbiAgICAgICAgICAgIGNvbnN0IGhlcm9PcmllbnRhdGlvbiA9ICRhY3RpdmVQaWVjZS5hdHRyKFwiZGF0YS1vcmllbnRhdGlvblwiKTtcblxuICAgICAgICAgICAgdmFyIGJhY2tncm91bmRDb2xvciA9ICRhY3RpdmVQaWVjZS5hdHRyKFwiZGF0YS1jb2xvclwiKTtcblxuICAgICAgICAgICAgY29uc3Qgb3JpZ0RhdGFTY3JvbGwgPSAkYWN0aXZlUGllY2UuYXR0cihcIm9yaWctb2Zmc2V0XCIpO1xuXG4gICAgICAgICAgICBjb25zdCBpbWdTcmMgPSAkYWN0aXZlUGllY2UuZmluZChcIi5qcy1pbWFnZS1zcmNcIikuYXR0cihcInNyY1wiKTtcblxuXG5cblxuXG5cblxuICAgICAgICAgICAgLy8gQXBwZW5kIEN1cnJlbnQgVVJMIERhdGFcblxuXG4gICAgICAgICAgICBjb3JlLmRvbS5kZXRhaWxPdmVybGF5WyAwIF0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYmFja2dyb3VuZENvbG9yO1xuXG4gICAgICAgICAgICBjb25zdCAkYWN0aXZlSW1nID0gY29yZS5kb20uZGV0YWlsT3ZlcmxheS5maW5kKFwiLmpzLWFjdGl2ZS1pbWdcIik7XG4gICAgICAgICAgICBjb25zdCAkYWN0aXZlTmFtZSA9IGNvcmUuZG9tLmRldGFpbE92ZXJsYXkuZmluZChcIi5qcy1hY3RpdmUtbmFtZVwiKTtcbiAgICAgICAgICAgIGNvbnN0ICRhY3RpdmVQcmljZSA9IGNvcmUuZG9tLmRldGFpbE92ZXJsYXkuZmluZChcIi5qcy1hY3RpdmUtcHJpY2VcIik7XG4gICAgICAgICAgICBjb25zdCAkYWN0aXZlT3JpZW50YXRpb24gPSBjb3JlLmRvbS5kZXRhaWxPdmVybGF5LmZpbmQoXCIuaGVyby1kZXRhaWxcIik7XG5cbiAgICAgICAgICAgICRhY3RpdmVJbWdbIDAgXS5pbm5lckhUTUwgPSBcIlwiO1xuXG4gICAgICAgICAgICBjb25zdCBzb3VyY2VJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG5cbiAgICAgICAgICAgIHNvdXJjZUltYWdlLnNyYyA9IGltZ1NyYztcbiAgICAgICAgICAgICRhY3RpdmVJbWcuYXBwZW5kKHNvdXJjZUltYWdlKTtcblxuICAgICAgICAgICAgLy8gJGFjdGl2ZU5hbWUuaW5uZXJUZXh0ID0gXCJcIjtcbiAgICAgICAgICAgICRhY3RpdmVOYW1lWyAwIF0uaW5uZXJUZXh0ID0gbmFtZTtcblxuICAgICAgICAgICAgLy8gJGFjdGl2ZVByaWNlLmlubmVyVGV4dCA9IFwiXCI7XG4gICAgICAgICAgICAkYWN0aXZlUHJpY2VbIDAgXS5pbm5lclRleHQgPSBwcmljZTtcblxuICAgICAgICAgICAgJGFjdGl2ZU9yaWVudGF0aW9uLnJlbW92ZUNsYXNzKFwibGFuZHNjYXBlLWhlcm9cIikucmVtb3ZlQ2xhc3MoXCJwb3J0cmFpdC1oZXJvXCIpLmFkZENsYXNzKGAke2hlcm9PcmllbnRhdGlvbiB9LWhlcm9gKTtcblxuXG5cbiAgICAgICAgICAgIC8vIEFwcGx5IGluYWN0aXZlIGFuZCBhY3RpdmUgY2xhc3NlcyB0byB3b3Jrc1xuXG4gICAgICAgICAgICBjb25zdCAkYWN0aXZlUGFyZW50Q29udGFpbmVyID0gJGFjdGl2ZVBpZWNlLmNsb3Nlc3QoXCIuZmlndXJlLWNvbnRhaW5lclwiKTtcblxuICAgICAgICAgICAgY29uc3QgJHNpYmxpbmdzID0gJGFjdGl2ZVBhcmVudENvbnRhaW5lci5wYXJlbnQoKS5jaGlsZHJlbigpO1xuXG4gICAgICAgICAgICAkc2libGluZ3MuYWRkQ2xhc3MoXCJpcy1pbmFjdGl2ZVwiKTtcblxuICAgICAgICAgICAgJGFjdGl2ZVBhcmVudENvbnRhaW5lci5hZGRDbGFzcyhcImFjdGl2ZVwiKS5yZW1vdmVDbGFzcyhcImlzLWluYWN0aXZlXCIpO1xuXG5cblxuICAgICAgICAgICAgLy9QcmVmb3JtIEFuaW1hdGlvblxuXG4gICAgICAgICAgICB2YXIgdGwgPSBuZXcgVGltZWxpbmVMaXRlKCk7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke3RhcmdldERhdGFTY3JvbGwgfXRhcmdldERhdGFgKTtcblxuICAgICAgICAgICAgdGxcbiAgICAgICAgICAgICAgICAudG8oY29yZS5kb20ub3ZlcmxheSwgMCwgeyB5OiBcIi0xMDAlXCIgfSlcbiAgICAgICAgICAgICAgICAudG8oY29uZmlnLnNjcm9sbENvbnRhaW5lciwgc2Nyb2xsRHVyYXRpb24sIHsgc2Nyb2xsVG86IHsgeTogdGFyZ2V0RGF0YVNjcm9sbCB9LCBlYXNlOiBDaXJjLmVhc2VJbk91dCB9KS5jYWxsKCgpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICBjb3JlLmRvbS5ib2R5LmFkZENsYXNzKFwic2Nyb2xsc3RvcFwiKTtcblxuICAgICAgICAgICAgICAgICAgICBjb3JlLmRvbS5sb29wLmFkZENsYXNzKFwiZmFkZS1sb29wXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYmFja2dyb3VuZENvbG9yOyAvLyBTZXQgYmFja2dyb3VuZCB0byBib2R5XG5cbiAgICAgICAgICAgICAgICAgICAgLy8kKGNvbmZpZy5zY3JvbGxDb250YWluZXIpLnNjcm9sbFRvcCgwKVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICggY29uZmlnLnNjcm9sbENvbnRhaW5lciA9PSB3aW5kb3cgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuc2Nyb2xsQ29udGFpbmVyLnNjcm9sbCgwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5zY3JvbGxDb250YWluZXIuc2Nyb2xsVG9wID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvcmUuZG9tLm5hdmkucmVtb3ZlQ2xhc3MoXCJoaWRlLW5hdlwiKTtcblxuICAgICAgICAgICAgICAgICAgICBjb3JlLmRvbS5uYXZpLmZpbmQoXCIuaW5mby1saW5rXCIpWyAwIF0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG4gICAgICAgICAgICAgICAgICAgICRpdGVtQ291bnRTZWxlY3Rvci5maW5kKFwiLmFjdGl2ZVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcblxuICAgICAgICAgICAgICAgICAgICAkY3VycmVudEl0ZW1Db3VudFNlbGVjdG9yLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xvc2UgR2xvYmFsIE1lbnUgaWYgY2xpY2tlZCBiYWNrIGJ1dHRvbiBvbiByb3V0ZXJcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIGNvcmUuZG9tLm5hdlsgMCBdLmNsYXNzTGlzdC5jb250YWlucyhcIm5hdi1hY3RpdmVcIikgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRsTWVudSA9IG5ldyBUaW1lbGluZUxpdGUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGxNZW51LnRvKGNvcmUuZG9tLm5hdiwgMC44LCB7IHk6IFwiLTEwMCVcIiwgZWFzZTogQ2lyYy5lYXNlSW5PdXQgfSkuY2FsbCgoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JlLmRvbS5uYXYucmVtb3ZlQ2xhc3MoXCJuYXYtYWN0aXZlXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRvKGNvcmUuZG9tLm5hdmksIDAsIHsgb3BhY2l0eTogXCIwXCIsIGVhc2U6IFBvd2VyMS5lYXNlT3V0IH0sIFwiLT0xXCIpXG4gICAgICAgICAgICAgICAgLnRvKGNvcmUuZG9tLmZpeGVkTmF2aWdhdGlvbiwgMCwgeyBvcGFjaXR5OiBcIjBcIiwgZWFzZTogUG93ZXIxLmVhc2VPdXQgfSwgXCItPTFcIilcbiAgICAgICAgICAgICAgICAuZnJvbShjb3JlLmRvbS5vdmVybGF5LCAyLjQsIHsgeTogXCIxMDAlXCIsIGVhc2U6IENpcmMuZWFzZUluT3V0IH0sIFwiLT0xLjVcIilcbiAgICAgICAgICAgICAgICAuZnJvbShjb3JlLmRvbS5kZXRhaWxPdmVybGF5LCAxLjgsIHsgeTogXCIxMDAlXCIsIGVhc2U6IENpcmMuZWFzZUluT3V0IH0sIFwiLT0xLjk1XCIpLmNhbGwoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb3JlLmRvbS5odG1sLmFkZENsYXNzKFwiaXMtZGV0YWlsLXBhZ2VcIik7XG4gICAgICAgICAgICAgICAgICAgIGNvcmUuZG9tLmJvZHkucmVtb3ZlQ2xhc3MoXCJzY3JvbGxzdG9wXCIpO1xuXG5cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50byhjb3JlLmRvbS5kZXRhaWxDb250YWluZXIsIDIsIHsgb3BhY2l0eTogXCIxXCIsIGVhc2U6IFBvd2VyMS5lYXNlT3V0IH0sIFwiLT0uOFwiKS5jYWxsKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUG9zdCBBbmltYXRpb24gRXZlbnRzXG4gICAgICAgICAgICAgICAgICAgIGNvcmUuZG9tLmxvb3AuYWRkQ2xhc3MoXCJoaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZy5kaXNhYmxlTG9vcCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgY29yZS5kb20uYm9keS5yZW1vdmVDbGFzcyhcInNob3ctb3ZlcmxheVwiKTtcblxuXG4gICAgICAgICAgICAgICAgfSkudG8oY29yZS5kb20uZGV0YWlsQ29udGFpbmVyLCAxLjc1LCB7IHk6IFwiMFwiLCBlYXNlOiBQb3dlcjEuZWFzZU91dCB9LCBcIi09MlwiKS5jYWxsKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29yZS5kb20uYm9keS5hZGRDbGFzcyhcImluaXQtcGFnZVwiKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50byhjb3JlLmRvbS5maXhlZE5hdmlnYXRpb24sIDAuMSwgeyBvcGFjaXR5OiBcIjFcIiwgZWFzZTogUG93ZXIxLmVhc2VPdXQgfSwgXCItPTEuMVwiKVxuICAgICAgICAgICAgICAgIC50byhjb3JlLmRvbS5uYXZpLCAwLjYsIHsgb3BhY2l0eTogXCIxXCIsIGVhc2U6IFBvd2VyMS5lYXNlT3V0IH0sIFwiLT0xLjJcIikuY2FsbCgoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29yZS5kb20ubmF2aS5yZW1vdmVBdHRyKFwic3R5bGVcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgY29yZS5kb20uYm9keS5yZW1vdmVDbGFzcyhcImlzLXRyYW5zaXRpb25pbmdcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgY29yZS5kb20ubG9vcC5yZW1vdmVDbGFzcyhcImZhZGUtbG9vcFwiKTtcblxuXG5cbiAgICAgICAgICAgICAgICB9KTtcblxuXG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgLyoqXG5cdFx0XHRcdFx0KlxuXHRcdFx0XHRcdCogQGRlc2NyaXB0aW9uIEV2ZW50IGZvciBjbG9zaW5nIHdvcmsgZGV0YWlsXG5cdFx0XHRcdFx0KiBAbWV0aG9kIGNsaWNrXG5cdFx0XHRcdFx0KiBAcGFyYW0ge29iamVjdH1cblx0XHRcdFx0XHQqIEBtZW1iZXJvZiBhY3Rpb25zXG5cdFx0XHRcdFx0KiBAcmV0dXJucyB7ZXZlbnR9XG5cdFx0XHRcdFx0KlxuXHRcdFx0XHRcdCovXG5cblxuICAgICAgICAgICAgLy8gR2V0IEFjdGl2ZSBQcm9qZWN0XG5cbiAgICAgICAgICAgIGNvbnN0ICRjdXJyZW50ID0gY29yZS5kb20ubG9vcC5maW5kKFwiLmFjdGl2ZVwiKTtcblxuICAgICAgICAgICAgY29uc3QgJGN1cnJlbnRMaW5rID0gJGN1cnJlbnQuZmluZChcImFcIik7XG5cbiAgICAgICAgICAgIHZhciBjdXJyZW50RGF0YVNjcm9sbCA9ICRjdXJyZW50TGluay5hdHRyKFwiZGF0YS1zY3JvbGxcIik7XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSBBY3RpdmUgYW5kIEluYWN0aXZlIENsYXNzZXNcblxuICAgICAgICAgICAgY29uc3QgJGZpZ3VyZXMgPSBjb3JlLmRvbS5sb29wLmZpbmQoXCIuZmlndXJlLWNvbnRhaW5lclwiKTtcblxuICAgICAgICAgICAgJGZpZ3VyZXMucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIikucmVtb3ZlQ2xhc3MoXCJpcy1pbmFjdGl2ZVwiKTtcblxuXG4gICAgICAgICAgICAvLyBJbml0IEFuaW1hdGlvbnNcblxuICAgICAgICAgICAgdmFyIHNjcm9sbER1cmF0aW9uO1xuXG4gICAgICAgICAgICBpZiAoc2Nyb2xsWSA9PSAwKSB7XG5cbiAgICAgICAgICAgICAgICBzY3JvbGxEdXJhdGlvbiA9IDA7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBzY3JvbGxEdXJhdGlvbiA9IDE7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29yZS5kb20uYm9keS5hZGRDbGFzcyhcInNob3ctb3ZlcmxheVwiKTtcblxuICAgICAgICAgICAgYXBwLnJvdXRlci5jb250cm9sbGVyLl9vcHRpb25zLnRyYW5zaXRpb25UaW1lID0gMTIwMDtcblxuICAgICAgICAgICAgdmFyIHRsID0gbmV3IFRpbWVsaW5lTGl0ZSgpO1xuXG4gICAgICAgICAgICBsZXQgc2Nyb2xsVG9WYWwgPSB3aW5kb3cuc2Nyb2xsWSAvIDEuNDtcblxuICAgICAgICAgICAgaWYgKGNvbmZpZy5pc1RvdWNoID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBzY3JvbGxUb1ZhbCA9IGNvbmZpZy5jdXJyZW50U2Nyb2xsUG9zaXRpb24gLSAod2luZG93LmlubmVySGVpZ2h0IC8gNCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRsLnRvKGNvbmZpZy5zY3JvbGxDb250YWluZXIsIDEsIHsgc2Nyb2xsVG86IHsgeTogc2Nyb2xsVG9WYWwgfSwgZWFzZTogQ2lyYy5lYXNlSW5PdXQgfSlcbiAgICAgICAgICAgICAgICAudG8oY29yZS5kb20uZGV0YWlsQ29udGFpbmVyLCAxLCB7IHk6IFwiNDBweFwiLCBlYXNlOiBDaXJjLmVhc2VJbk91dCB9LCBcIi09MVwiKVxuICAgICAgICAgICAgICAgIC50byhjb3JlLmRvbS5vdmVybGF5LCAwLCB7IHk6IFwiLTEwMCVcIiwgZWFzZTogQ2lyYy5lYXNlSW5PdXQgfSwgXCItPTFcIikuY2FsbCgoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29yZS5kb20ub3ZlcmxheVsgMCBdLnN0eWxlLmhlaWdodCA9IGAkezEwMCB9JWA7XG5cbiAgICAgICAgICAgICAgICAgICAgY29yZS5kb20ubWFpbi5hZGRDbGFzcyhcImhpZGRlblwiKTtcblxuICAgICAgICAgICAgICAgICAgICBjb3JlLmRvbS5ib2R5LnJlbW92ZUNsYXNzKFwiaW5pdC1wYWdlXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvcmUuZG9tLm5hdmkuZmluZChcIi5qcy1jbG9zZVwiKVsgMCBdLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRvKGNvcmUuZG9tLm92ZXJsYXksIDEsIHsgeTogXCIwJVwiLCBlYXNlOiBDaXJjLmVhc2VJbk91dCB9LCBcIi09MVwiKS5jYWxsKCgpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgY29yZS5kb20uZGV0YWlsT3ZlcmxheS5yZW1vdmVBdHRyKFwic3R5bGVcIikuYWRkQ2xhc3MoXCJ0cmFuc2l0aW9uLW91dFwiKTtcblxuICAgICAgICAgICAgICAgICAgICBjb3JlLmRvbS5ib2R5LmFkZENsYXNzKFwic2Nyb2xsc3RvcFwiKTtcblxuICAgICAgICAgICAgICAgICAgICAkY3VycmVudExpbmsucmVtb3ZlQ2xhc3MoXCJoaWRlXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvcmUuZG9tLmxvb3AucmVtb3ZlQ2xhc3MoXCJoaWRkZW5cIik7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBjb25maWcuc2Nyb2xsQ29udGFpbmVyID09IHdpbmRvdyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5zY3JvbGxDb250YWluZXIuc2Nyb2xsKDAsIGN1cnJlbnREYXRhU2Nyb2xsKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5zY3JvbGxDb250YWluZXIuc2Nyb2xsVG9wID0gY3VycmVudERhdGFTY3JvbGw7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyQoY29uZmlnLnNjcm9sbENvbnRhaW5lcikuc2Nyb2xsVG9wKGN1cnJlbnREYXRhU2Nyb2xsKTtcblxuICAgICAgICAgICAgICAgICAgICBjb3JlLmRvbS5sb29wLnNjcm9sbFRvcCA9IGN1cnJlbnREYXRhU2Nyb2xsO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vJChkb20ubG9vcCkuc2Nyb2xsVG9wKGN1cnJlbnREYXRhU2Nyb2xsKVxuXG4gICAgICAgICAgICAgICAgICAgIGNvcmUuZG9tLmxvb3AucmVtb3ZlQ2xhc3MoXCJzY3JvbGxzdG9wXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvcmUuZG9tLmxvb3Auc2Nyb2xsVG9wID0gY3VycmVudERhdGFTY3JvbGw7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8kKGRvbS5sb29wKS5zY3JvbGxUb3AoMCkucmVtb3ZlQ2xhc3MoXCJzY3JvbGxzdG9wXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggY29uZmlnLnNjcm9sbENvbnRhaW5lciA9PSB3aW5kb3cgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuc2Nyb2xsQ29udGFpbmVyLnNjcm9sbCgwLCBjdXJyZW50RGF0YVNjcm9sbCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuc2Nyb2xsQ29udGFpbmVyLnNjcm9sbFRvcCA9IGN1cnJlbnREYXRhU2Nyb2xsO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLmRpc2FibGVMb29wID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgY29yZS5kb20uYm9keS5yZW1vdmVDbGFzcyhcInNjcm9sbHN0b3BcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgY29yZS5kb20ubmF2aS5yZW1vdmVDbGFzcyhcInJldmVyc2VcIik7XG5cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50byhjb3JlLmRvbS5maXhlZE5hdmlnYXRpb24sIDAsIHsgb3BhY2l0eTogXCIwXCIsIGVhc2U6IFBvd2VyMS5lYXNlT3V0IH0pXG4gICAgICAgICAgICAgICAgLnRvKGNvcmUuZG9tLm92ZXJsYXksIDEsIHsgeTogXCIxMDAlXCIsIGVhc2U6IENpcmMuZWFzZUluT3V0IH0pLmNhbGwoKCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlc2V0c1xuXG5cbiAgICAgICAgICAgICAgICAgICAgY29yZS5kb20ub3ZlcmxheS5yZW1vdmVBdHRyKFwic3R5bGVcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgY29yZS5kb20uaHRtbC5yZW1vdmVDbGFzcyhcImlzLWRldGFpbC1wYWdlXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvcmUuZG9tLmJvZHkucmVtb3ZlQ2xhc3MoXCJzaG93LW92ZXJsYXlcIik7XG5cblxuICAgICAgICAgICAgICAgICAgICBhcHAucm91dGVyLmNvbnRyb2xsZXIuX29wdGlvbnMudHJhbnNpdGlvblRpbWUgPSBjb25maWcucGFnZUR1cmF0aW9uO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvcmUuZG9tLmRldGFpbENvbnRhaW5lci5yZW1vdmVBdHRyKFwic3R5bGVcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgY29yZS5kb20ubmF2aS5maW5kKFwiLmluZm8tbGlua1wiKS5yZW1vdmVBdHRyKFwic3R5bGVcIik7XG5cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5mcm9tKGNvcmUuZG9tLmxvb3AsIDEuNCwgeyB5OiBcIi4zJVwiLCBlYXNlOiBQb3dlcjEuZWFzZU91dCB9LCBcIi09MVwiKVxuICAgICAgICAgICAgICAgIC50byhjb3JlLmRvbS5maXhlZE5hdmlnYXRpb24sIDAuMSwgeyBvcGFjaXR5OiBcIjFcIiwgZWFzZTogUG93ZXIxLmVhc2VPdXQgfSwgXCItPS42NVwiKVxuICAgICAgICAgICAgICAgIC5mcm9tKGNvcmUuZG9tLm5hdmksIDAuMSwgeyBvcGFjaXR5OiBcIjBcIiwgZWFzZTogUG93ZXIxLmVhc2VPdXQgfSwgXCItPS40XCIpLmNhbGwoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb3JlLmRvbS5uYXZpLnJlbW92ZUF0dHIoXCJzdHlsZVwiKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuXG4gICAgICAgIH1cblxuICAgIH0sXG5cbiAgICB0ZWFyZG93biAoKSB7XG5cbiAgICAgICAgY29yZS5kb20ud29yay5vZmYoKTtcblxuICAgICAgICBpZiAodGhpcy5tb3VzZU1vdmUpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VNb3ZlLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvcmUuZG9tLm9wZW5OYXYub2ZmKCk7XG5cbiAgICAgICAgY29yZS5kb20uY2xvc2VOYXYub2ZmKCk7XG5cbiAgICAgICAgJChcIi5qcy1idXlcIikub2ZmKCk7XG5cbiAgICAgICAgJChcIi5qcy1jYXJ0XCIpLm9mZigpO1xuXG4gICAgICAgIGNvcmUuZG9tLmNsb3NlRGV0YWlsLm9mZigpO1xuICAgIH1cbn07XG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogRXhwb3J0XG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmV4cG9ydCBkZWZhdWx0IGFjdGlvbnM7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc291cmNlL2pzL2FjdGlvbnMuanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7Ozs7QUFTQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBOzs7Ozs7Ozs7O0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBOzs7Ozs7Ozs7O0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTs7Ozs7Ozs7OztBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBOzs7Ozs7Ozs7O0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUtBOzs7Ozs7Ozs7O0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFJQTtBQUNBO0FBSUE7Ozs7Ozs7Ozs7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFNQTs7Ozs7Ozs7OztBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7Ozs7Ozs7Ozs7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BOzs7Ozs7Ozs7O0FBVUE7QUFPQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7Ozs7Ozs7Ozs7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBR0E7QUFLQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFJQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBR0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTFxQkE7QUFDQTtBQTZxQkE7OztBQUdBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///44\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _properjsHobo = __webpack_require__(/*! properjs-hobo */ 11);\n\nvar _properjsHobo2 = _interopRequireDefault(_properjsHobo);\n\nvar _core = __webpack_require__(/*! ../core */ 10);\n\nvar core = _interopRequireWildcard(_core);\n\nvar _config = __webpack_require__(/*! ../core/config */ 4);\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _mouseitems = __webpack_require__(/*! ./mouseitems */ 98);\n\nvar _mouseitems2 = _interopRequireDefault(_mouseitems);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n/**\n *\n * @public\n * @class onMouseMove\n * @classdesc Move items via Mouse X & Y\n * @memberof core\n *\n */\nvar Mousemove = function () {\n    function Mousemove() {\n        _classCallCheck(this, Mousemove);\n\n        this.targetPositions = [];\n        this.mouseItems = [];\n\n        this.mouseX = 0;\n        this.mouseY = 0;\n        this.targetMouseX = _config2.default.targetMouseX;\n        this.targetMouseY = _config2.default.targetMouseY;\n\n        this.hasSetupMouse = false;\n\n        // Start frame loop.\n        this.onFrame();\n\n        this.resize();\n\n        if (_config2.default.isTouch === true) {\n\n            (0, _properjsHobo2.default)(window).on("deviceorientation", this.orientElement);\n        } else if (_config2.default.textTransform) {\n\n            // Home Page Text Hovers\n\n            var container = document.getElementsByClassName("hover-container");\n\n            (0, _properjsHobo2.default)(container).on("mousemove", this.moveElement);\n        } else {\n\n            (0, _properjsHobo2.default)(window).on("mousemove", this.moveElement);\n        }\n\n        this.requestAnim;\n    }\n\n    _createClass(Mousemove, [{\n        key: "resize",\n        value: function resize() {\n\n            this.mouseItems.forEach(function (p) {\n                return p.resize();\n            });\n\n            if (!this.hasSetupMouse) {\n                this.setupMouse();\n            }\n        }\n    }, {\n        key: "mapRange",\n        value: function mapRange(x, in_min, in_max, out_min, out_max) {\n            return (x - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n        }\n    }, {\n        key: "orientElement",\n        value: function orientElement(e) {\n\n            var mapRange = function mapRange(x, in_min, in_max, out_min, out_max) {\n                return (x - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n            };\n\n            var x = mapRange(e.beta, -90, 90, -10, 10);\n            var y = mapRange(e.gamma, -90, 90, -25, 25);\n\n            _config2.default.targetMouseY = x;\n            _config2.default.targetMouseX = y;\n        }\n    }, {\n        key: "setupMouse",\n        value: function setupMouse() {\n\n            var frontItems = (0, _properjsHobo2.default)(document.body).find(".js-transform-mouse-front").map(function (currentElement) {\n                return new _mouseitems2.default((0, _properjsHobo2.default)(currentElement), 7);\n\n                // element, parallax amount, chase amount\n            });\n\n            var backItems = (0, _properjsHobo2.default)(document.body).find(".js-transform-mouse-back").map(function (currentElement) {\n                return new _mouseitems2.default((0, _properjsHobo2.default)(currentElement), 10);\n                // element, parallax amount, chase amount\n            });\n\n            var imageItems = (0, _properjsHobo2.default)(document.body).find(".js-transform-mouse-image").map(function (currentElement) {\n                return new _mouseitems2.default((0, _properjsHobo2.default)(currentElement), 9);\n                // element, parallax amount, chase amount\n            });\n\n            var textItems = (0, _properjsHobo2.default)(document.body).find(".js-transform-mouse-text").map(function (currentElement) {\n                return new _mouseitems2.default((0, _properjsHobo2.default)(currentElement), 6);\n                // element, parallax amount, chase amount\n            });\n\n            this.mouseItems = this.mouseItems.concat(frontItems);\n            this.mouseItems = this.mouseItems.concat(backItems);\n            this.mouseItems = this.mouseItems.concat(textItems);\n            this.mouseItems = this.mouseItems.concat(imageItems);\n\n            this.hasSetupMouse = true;\n        }\n    }, {\n        key: "moveElement",\n        value: function moveElement(e) {\n            _config2.default.targetMouseX = (e.clientX - window.innerWidth / 2) / (window.innerWidth / 2);\n            _config2.default.targetMouseY = (e.clientY - window.innerHeight / 2) / (window.innerHeight / 2);\n        }\n\n        /**\n         * Animation Frames\n         *\n         */\n\n    }, {\n        key: "onFrame",\n        value: function onFrame() {\n\n            this.mouseX = (_config2.default.targetMouseX - this.mouseX) * 0.09;\n\n            this.mouseY = (_config2.default.targetMouseY - this.mouseY) * 0.09;\n\n            // Chase Mouse Movement\n            //\n            // this.mouseX += (config.targetMouseX - this.mouseX) * 0.003;\n            //\n            // this.mouseY += (config.targetMouseY - this.mouseY) * 0.003;\n\n            for (var i = 0; i < this.mouseItems.length; i++) {\n                this.mouseItems[i].onMouseMove(this.mouseX, this.mouseY);\n\n                if (i == 0 || i == this.mouseItems.length - 1) {\n                    this.mouseItems[i].transformElementClones();\n                } else {\n                    this.mouseItems[i].transformElement();\n                }\n            }\n\n            this.requestAnim = window.requestAnimationFrame(this.onFrame.bind(this));\n        }\n    }, {\n        key: "destroy",\n        value: function destroy() {\n            (0, _properjsHobo2.default)(window).off("mousemove", this.moveElement);\n            window.cancelAnimationFrame(this.requestAnim); //Destroy requestanimationframe\n            (0, _properjsHobo2.default)(".js-transform-mouse-back").attr("style", "");\n        }\n    }]);\n\n    return Mousemove;\n}();\n\n/******************************************************************************\n * Export\n*******************************************************************************/\n\n\nexports.default = Mousemove;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc291cmNlL2pzL2NsYXNzL01vdXNlbW92ZS5qcz8wNjM3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAkIGZyb20gXCJwcm9wZXJqcy1ob2JvXCI7XG5pbXBvcnQgKiBhcyBjb3JlIGZyb20gXCIuLi9jb3JlXCI7XG5pbXBvcnQgY29uZmlnIGZyb20gXCIuLi9jb3JlL2NvbmZpZ1wiO1xuaW1wb3J0IG1vdXNlSXRlbSBmcm9tIFwiLi9tb3VzZWl0ZW1zXCI7XG5cblxuLyoqXG4gKlxuICogQHB1YmxpY1xuICogQGNsYXNzIG9uTW91c2VNb3ZlXG4gKiBAY2xhc3NkZXNjIE1vdmUgaXRlbXMgdmlhIE1vdXNlIFggJiBZXG4gKiBAbWVtYmVyb2YgY29yZVxuICpcbiAqL1xuY2xhc3MgTW91c2Vtb3ZlIHtcblxuICAgIGNvbnN0cnVjdG9yICgpIHtcblxuICAgICAgICB0aGlzLnRhcmdldFBvc2l0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLm1vdXNlSXRlbXMgPSBbXTtcblxuICAgICAgICB0aGlzLm1vdXNlWCA9IDA7XG4gICAgICAgIHRoaXMubW91c2VZID0gMDtcbiAgICAgICAgdGhpcy50YXJnZXRNb3VzZVggPSBjb25maWcudGFyZ2V0TW91c2VYO1xuICAgICAgICB0aGlzLnRhcmdldE1vdXNlWSA9IGNvbmZpZy50YXJnZXRNb3VzZVk7XG5cbiAgICAgICAgdGhpcy5oYXNTZXR1cE1vdXNlID0gZmFsc2U7XG5cbiAgICAgICAgLy8gU3RhcnQgZnJhbWUgbG9vcC5cbiAgICAgICAgdGhpcy5vbkZyYW1lKCk7XG5cbiAgICAgICAgdGhpcy5yZXNpemUoKTtcblxuICAgICAgICBpZiAoY29uZmlnLmlzVG91Y2ggPT09IHRydWUpIHtcblxuICAgICAgICAgICAgJCh3aW5kb3cpLm9uKFwiZGV2aWNlb3JpZW50YXRpb25cIiwgdGhpcy5vcmllbnRFbGVtZW50KTtcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy50ZXh0VHJhbnNmb3JtKSB7XG5cbiAgICAgICAgICAgIC8vIEhvbWUgUGFnZSBUZXh0IEhvdmVyc1xuXG4gICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaG92ZXItY29udGFpbmVyXCIpO1xuXG4gICAgICAgICAgICAkKGNvbnRhaW5lcikub24oXCJtb3VzZW1vdmVcIiwgdGhpcy5tb3ZlRWxlbWVudCk7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgJCh3aW5kb3cpLm9uKFwibW91c2Vtb3ZlXCIsIHRoaXMubW92ZUVsZW1lbnQpO1xuXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlcXVlc3RBbmltO1xuICAgIH1cblxuICAgIHJlc2l6ZSAoKSB7XG5cbiAgICAgICAgdGhpcy5tb3VzZUl0ZW1zLmZvckVhY2goKHApID0+IHAucmVzaXplKCkpO1xuXG4gICAgICAgIGlmICggIXRoaXMuaGFzU2V0dXBNb3VzZSApIHtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBNb3VzZSgpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBtYXBSYW5nZSAoeCwgaW5fbWluLCBpbl9tYXgsIG91dF9taW4sIG91dF9tYXgpIHtcbiAgICAgICAgcmV0dXJuICh4IC0gaW5fbWluKSAqIChvdXRfbWF4IC0gb3V0X21pbikgLyAoaW5fbWF4IC0gaW5fbWluKSArIG91dF9taW47XG4gICAgfVxuXG5cbiAgICBvcmllbnRFbGVtZW50IChlKSB7XG5cbiAgICAgICAgY29uc3QgbWFwUmFuZ2UgPSBmdW5jdGlvbiAoeCwgaW5fbWluLCBpbl9tYXgsIG91dF9taW4sIG91dF9tYXgpIHtcbiAgICAgICAgICAgIHJldHVybiAoeCAtIGluX21pbikgKiAob3V0X21heCAtIG91dF9taW4pIC8gKGluX21heCAtIGluX21pbikgKyBvdXRfbWluO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHggPSBtYXBSYW5nZShlLmJldGEsIC05MCwgOTAsIC0xMCwgMTAgKTtcbiAgICAgICAgY29uc3QgeSA9IG1hcFJhbmdlKGUuZ2FtbWEsIC05MCwgOTAsIC0yNSwgMjUpO1xuXG4gICAgICAgIGNvbmZpZy50YXJnZXRNb3VzZVkgPSB4O1xuICAgICAgICBjb25maWcudGFyZ2V0TW91c2VYID0geTtcblxuXG4gICAgfVxuXG5cbiAgICBzZXR1cE1vdXNlICgpIHtcblxuICAgICAgICBjb25zdCBmcm9udEl0ZW1zID0gJChkb2N1bWVudC5ib2R5KS5maW5kKFwiLmpzLXRyYW5zZm9ybS1tb3VzZS1mcm9udFwiKS5tYXAoIChjdXJyZW50RWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBtb3VzZUl0ZW0oJChjdXJyZW50RWxlbWVudCksIDcpO1xuXG4gICAgICAgIC8vIGVsZW1lbnQsIHBhcmFsbGF4IGFtb3VudCwgY2hhc2UgYW1vdW50XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGJhY2tJdGVtcyA9ICQoZG9jdW1lbnQuYm9keSkuZmluZChcIi5qcy10cmFuc2Zvcm0tbW91c2UtYmFja1wiKS5tYXAoIChjdXJyZW50RWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBtb3VzZUl0ZW0oJChjdXJyZW50RWxlbWVudCksIDEwKTtcbiAgICAgICAgLy8gZWxlbWVudCwgcGFyYWxsYXggYW1vdW50LCBjaGFzZSBhbW91bnRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgaW1hZ2VJdGVtcyA9ICQoZG9jdW1lbnQuYm9keSkuZmluZChcIi5qcy10cmFuc2Zvcm0tbW91c2UtaW1hZ2VcIikubWFwKCAoY3VycmVudEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgbW91c2VJdGVtKCQoY3VycmVudEVsZW1lbnQpLCA5KTtcbiAgICAgICAgLy8gZWxlbWVudCwgcGFyYWxsYXggYW1vdW50LCBjaGFzZSBhbW91bnRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgdGV4dEl0ZW1zID0gJChkb2N1bWVudC5ib2R5KS5maW5kKFwiLmpzLXRyYW5zZm9ybS1tb3VzZS10ZXh0XCIpLm1hcCggKGN1cnJlbnRFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IG1vdXNlSXRlbSgkKGN1cnJlbnRFbGVtZW50KSwgNik7XG4gICAgICAgIC8vIGVsZW1lbnQsIHBhcmFsbGF4IGFtb3VudCwgY2hhc2UgYW1vdW50XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubW91c2VJdGVtcyA9IHRoaXMubW91c2VJdGVtcy5jb25jYXQoZnJvbnRJdGVtcyk7XG4gICAgICAgIHRoaXMubW91c2VJdGVtcyA9IHRoaXMubW91c2VJdGVtcy5jb25jYXQoYmFja0l0ZW1zKTtcbiAgICAgICAgdGhpcy5tb3VzZUl0ZW1zID0gdGhpcy5tb3VzZUl0ZW1zLmNvbmNhdCh0ZXh0SXRlbXMpO1xuICAgICAgICB0aGlzLm1vdXNlSXRlbXMgPSB0aGlzLm1vdXNlSXRlbXMuY29uY2F0KGltYWdlSXRlbXMpO1xuXG4gICAgICAgIHRoaXMuaGFzU2V0dXBNb3VzZSA9IHRydWU7XG5cbiAgICB9XG5cbiAgICBtb3ZlRWxlbWVudCAoZSkge1xuICAgICAgICBjb25maWcudGFyZ2V0TW91c2VYID0gKGUuY2xpZW50WCAtICh3aW5kb3cuaW5uZXJXaWR0aCAvIDIpKSAvICh3aW5kb3cuaW5uZXJXaWR0aCAvIDIpO1xuICAgICAgICBjb25maWcudGFyZ2V0TW91c2VZID0gKGUuY2xpZW50WSAtICh3aW5kb3cuaW5uZXJIZWlnaHQgLyAyKSkgLyAod2luZG93LmlubmVySGVpZ2h0IC8gMik7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIEFuaW1hdGlvbiBGcmFtZXNcbiAgICAgKlxuICAgICAqL1xuXG4gICAgb25GcmFtZSAoKSB7XG5cbiAgICAgICAgdGhpcy5tb3VzZVggPSAoY29uZmlnLnRhcmdldE1vdXNlWCAtIHRoaXMubW91c2VYKSAqIDAuMDk7XG5cbiAgICAgICAgdGhpcy5tb3VzZVkgPSAoY29uZmlnLnRhcmdldE1vdXNlWSAtIHRoaXMubW91c2VZKSAqIDAuMDk7XG5cbiAgICAgICAgLy8gQ2hhc2UgTW91c2UgTW92ZW1lbnRcbiAgICAgICAgLy9cbiAgICAgICAgLy8gdGhpcy5tb3VzZVggKz0gKGNvbmZpZy50YXJnZXRNb3VzZVggLSB0aGlzLm1vdXNlWCkgKiAwLjAwMztcbiAgICAgICAgLy9cbiAgICAgICAgLy8gdGhpcy5tb3VzZVkgKz0gKGNvbmZpZy50YXJnZXRNb3VzZVkgLSB0aGlzLm1vdXNlWSkgKiAwLjAwMztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubW91c2VJdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5tb3VzZUl0ZW1zWyBpIF0ub25Nb3VzZU1vdmUodGhpcy5tb3VzZVgsIHRoaXMubW91c2VZICk7XG5cbiAgICAgICAgICAgIGlmIChpID09IDAgfHwgaSA9PSAodGhpcy5tb3VzZUl0ZW1zLmxlbmd0aCAtIDEpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3VzZUl0ZW1zWyBpIF0udHJhbnNmb3JtRWxlbWVudENsb25lcygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlSXRlbXNbIGkgXS50cmFuc2Zvcm1FbGVtZW50KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVxdWVzdEFuaW0gPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMub25GcmFtZS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cblxuICAgIGRlc3Ryb3kgKCkge1xuICAgICAgICAkKHdpbmRvdykub2ZmKFwibW91c2Vtb3ZlXCIsIHRoaXMubW92ZUVsZW1lbnQpO1xuICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5yZXF1ZXN0QW5pbSk7IC8vRGVzdHJveSByZXF1ZXN0YW5pbWF0aW9uZnJhbWVcbiAgICAgICAgJChcIi5qcy10cmFuc2Zvcm0tbW91c2UtYmFja1wiKS5hdHRyKFwic3R5bGVcIiwgXCJcIik7XG4gICAgfVxuXG5cblxufVxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIEV4cG9ydFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmV4cG9ydCBkZWZhdWx0IE1vdXNlbW92ZTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzb3VyY2UvanMvY2xhc3MvTW91c2Vtb3ZlLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7Ozs7O0FBRUE7Ozs7Ozs7O0FBUUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7Ozs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQU9BOzs7OztBQUdBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///45\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _core = __webpack_require__(/*! ../core */ 10);\n\nvar core = _interopRequireWildcard(_core);\n\nvar _scroller = __webpack_require__(/*! ../core/scroller */ 32);\n\nvar _scroller2 = _interopRequireDefault(_scroller);\n\nvar _config = __webpack_require__(/*! ../core/config */ 4);\n\nvar _config2 = _interopRequireDefault(_config);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n_config2.default.disableLoop = false;\nvar disableScroll = false;\n\n/**\n *\n * @public\n * @class infiniteLoop\n * @classdesc Infinitely loops div in browser\n * @memberof core\n *\n */\n\nvar infiniteLoop = function () {\n    function infiniteLoop() {\n        _classCallCheck(this, infiniteLoop);\n\n        this.doc = window.document;\n        this.context = this.doc.querySelector(".infinite-loop");\n        this.clones = this.context.querySelectorAll(".is-clone");\n\n        this.scrollHeight = 0;\n        this.scrollPos = 0;\n        this.clonesHeight = 0;\n        this.timer;\n\n        this.lockLoop = false;\n\n        this.scrollY = _scroller2.default.getScrollY();\n\n        _config2.default.currentScrollPosition = this.scrollY;\n\n        this.reCalc();\n    }\n\n    /**\n    *\n    * @instance\n    * @description Recaculate the infinite loop container\n    * @memberof infiniteLoop\n    * @method reCalc\n    *\n    */\n\n    _createClass(infiniteLoop, [{\n        key: "reCalc",\n        value: function reCalc() {\n            _config2.default.disableLoop = false;\n\n            this.scrollPos = this.getScrollPos();\n            this.scrollHeight = this.context.scrollHeight;\n            this.clonesHeight = this.getClonesHeight();\n\n            if (this.scrollPos <= 0) {\n                this.setScrollPos(1); // Scroll 1 pixel to allow upwards scrolling\n            }\n        }\n\n        /**\n        *\n        * @instance\n        * @description Get total height of all elements within container\n        * @memberof infiniteLoop\n        * @method getClonesHeight\n        *\n        */\n\n    }, {\n        key: "getClonesHeight",\n        value: function getClonesHeight() {\n            this.clonesHeight = 0;\n\n            var i = 0;\n\n            for (i = 0; i < this.clones.length; i += 1) {\n                this.clonesHeight = this.clonesHeight + this.clones[i].offsetHeight;\n            }\n\n            return this.clonesHeight;\n        }\n    }, {\n        key: "getScrollPos",\n        value: function getScrollPos() {\n            return (this.scrollY || this.context.scrollTop) - (this.context.clientTop || 0);\n        }\n    }, {\n        key: "setScrollPos",\n        value: function setScrollPos(pos) {\n\n            //core.dom.htmlBody.scrollTop = pos;\n            document.body.scrollTop = pos;\n            document.documentElement.scrollTop = pos;\n            //$(\'html,body\').scrollTop(pos);\n        }\n\n        /**\n        *\n        * @instance\n        * @description Events within scroll event\n        * @memberof infiniteLoop\n        * @method init\n        *\n        */\n\n    }, {\n        key: "loop",\n        value: function loop() {\n\n            if (!_config2.default.disableLoop && !_config2.default.isTouch === true) {\n\n                this.scrollY = _scroller2.default.getScrollY();\n\n                // Add class when scrolling\n\n                clearTimeout(this.timer);\n\n                if (!document.documentElement.classList.contains("disable-hover")) {\n                    document.documentElement.classList.add("disable-hover");\n                    _config2.default.isScrolling = true;\n                }\n\n                this.timer = setTimeout(function () {\n                    document.documentElement.classList.remove("disable-hover");\n                    _config2.default.isScrolling = false;\n                }, 500);\n\n                // Scroll to the top when youâ€™ve reached the bottom\n\n\n                //\tconsole.log(this.clonesHeight + " " + this.scrollY + " >="  + " " + this.scrollHeight);\n\n                if (this.clonesHeight + this.scrollY >= this.scrollHeight) {\n\n                    // console.log(\'scroll to 1\');\n                    document.documentElement.classList.add("hide-nav-on-loop");\n                    setTimeout(function () {\n                        document.documentElement.classList.remove("hide-nav-on-loop");\n                    }, 500);\n                    this.setScrollPos(1); // Scroll down 1 pixel to allow upwards scrolling\n\n                    disableScroll = true;\n                } else if (this.scrollY <= 0) {\n                    // console.log(\'scroll to 0\');\n\n                    // Scroll to the bottom when you reach the top\n\n                    var scrollPos = this.scrollHeight - this.clonesHeight;\n\n                    this.setScrollPos(scrollPos);\n\n                    disableScroll = true;\n                }\n            } else if (_config2.default.isTouch == true) {\n                _config2.default.currentScrollPosition = _scroller2.default.getScrollY();\n            }\n\n            if (disableScroll) {}\n            // Disable scroll-jumping for a short time to avoid flickering\n            // window.setTimeout(function() {\n            // \tdisableScroll = false;\n            // \tconsole.log(\'disabled!\');\n            // }, 40);\n\n\n            // console.log(config.currentScrollPosition + " "+ this.disableScroll);\n            //\n            // if (!this.disableScroll) { // Scroll Enabled\n            //\n            //     this.scrollY =  config.currentScrollPosition;\n            //\n            //     // Scroll to the top when youâ€™ve reached the bottom\n            //\n            //     if (this.clonesHeight + this.scrollY >= this.scrollHeight) {\n            //\n            //       console.log("scroll to 1");\n            //\n            //       this.setScrollPos(1); // Scroll down 1 pixel to allow upwards scrolling\n            //\n            //       this.disableScroll = true;\n            //\n            //     } else if (this.scrollY <= 0) {\n            //\n            //       console.log("scroll to 0");\n            //\n            //       // Scroll to the bottom when you reach the top\n            //\n            //       this.setScrollPos(this.scrollHeight - this.clonesHeight);\n            //\n            //       this.disableScroll = true;\n            //\n            //     }\n            //\n            // }else{ // Scroll Disabled\n            //\n            //\n            //   // Disable scroll-jumping for a short time to avoid flickering\n            //\n            //   window.setTimeout(function () {\n            //\n            //     this.disableScroll = !this.disableScroll;\n            //\n            //     console.log("WOAH" + this.disableScroll);\n            //\n            //   }, 40);\n            //\n            // }\n        }\n\n        //\n        // destroy(){\n        //\n        //   disableLoop = true;\n        //\n        // }\n        //\n\n    }]);\n\n    return infiniteLoop;\n}();\n\n/******************************************************************************\n * Export\n *******************************************************************************/\n\n\nexports.default = infiniteLoop;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc291cmNlL2pzL2NsYXNzL2luZmluaXRlTG9vcC5qcz83NTMwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGNvcmUgZnJvbSBcIi4uL2NvcmVcIjtcbmltcG9ydCBzY3JvbGxlciBmcm9tIFwiLi4vY29yZS9zY3JvbGxlclwiO1xuaW1wb3J0IGNvbmZpZyBmcm9tIFwiLi4vY29yZS9jb25maWdcIjtcblxuXG5cblxuY29uZmlnLmRpc2FibGVMb29wID0gZmFsc2U7XG5sZXQgZGlzYWJsZVNjcm9sbCA9IGZhbHNlO1xuXG5cbi8qKlxuICpcbiAqIEBwdWJsaWNcbiAqIEBjbGFzcyBpbmZpbml0ZUxvb3BcbiAqIEBjbGFzc2Rlc2MgSW5maW5pdGVseSBsb29wcyBkaXYgaW4gYnJvd3NlclxuICogQG1lbWJlcm9mIGNvcmVcbiAqXG4gKi9cbmNsYXNzIGluZmluaXRlTG9vcCB7XG4gICAgY29uc3RydWN0b3IgKCkge1xuICAgICAgICB0aGlzLmRvYyA9IHdpbmRvdy5kb2N1bWVudDtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gdGhpcy5kb2MucXVlcnlTZWxlY3RvcihcIi5pbmZpbml0ZS1sb29wXCIpO1xuICAgICAgICB0aGlzLmNsb25lcyA9IHRoaXMuY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKFwiLmlzLWNsb25lXCIpO1xuXG4gICAgICAgIHRoaXMuc2Nyb2xsSGVpZ2h0ID0gMDtcbiAgICAgICAgdGhpcy5zY3JvbGxQb3MgPSAwO1xuICAgICAgICB0aGlzLmNsb25lc0hlaWdodCA9IDA7XG4gICAgICAgIHRoaXMudGltZXI7XG5cbiAgICAgICAgdGhpcy5sb2NrTG9vcCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuc2Nyb2xsWSA9IHNjcm9sbGVyLmdldFNjcm9sbFkoKTtcblxuICAgICAgICBjb25maWcuY3VycmVudFNjcm9sbFBvc2l0aW9uID0gdGhpcy5zY3JvbGxZO1xuXG4gICAgICAgIHRoaXMucmVDYWxjKCk7XG4gICAgfVxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAZGVzY3JpcHRpb24gUmVjYWN1bGF0ZSB0aGUgaW5maW5pdGUgbG9vcCBjb250YWluZXJcblx0ICogQG1lbWJlcm9mIGluZmluaXRlTG9vcFxuXHQgKiBAbWV0aG9kIHJlQ2FsY1xuXHQgKlxuXHQgKi9cblxuICAgIHJlQ2FsYyAoKSB7XG4gICAgICAgIGNvbmZpZy5kaXNhYmxlTG9vcCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuc2Nyb2xsUG9zID0gdGhpcy5nZXRTY3JvbGxQb3MoKTtcbiAgICAgICAgdGhpcy5zY3JvbGxIZWlnaHQgPSB0aGlzLmNvbnRleHQuc2Nyb2xsSGVpZ2h0O1xuICAgICAgICB0aGlzLmNsb25lc0hlaWdodCA9IHRoaXMuZ2V0Q2xvbmVzSGVpZ2h0KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsUG9zIDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U2Nyb2xsUG9zKDEpOyAvLyBTY3JvbGwgMSBwaXhlbCB0byBhbGxvdyB1cHdhcmRzIHNjcm9sbGluZ1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAZGVzY3JpcHRpb24gR2V0IHRvdGFsIGhlaWdodCBvZiBhbGwgZWxlbWVudHMgd2l0aGluIGNvbnRhaW5lclxuXHQgKiBAbWVtYmVyb2YgaW5maW5pdGVMb29wXG5cdCAqIEBtZXRob2QgZ2V0Q2xvbmVzSGVpZ2h0XG5cdCAqXG5cdCAqL1xuXG4gICAgZ2V0Q2xvbmVzSGVpZ2h0ICgpIHtcbiAgICAgICAgdGhpcy5jbG9uZXNIZWlnaHQgPSAwO1xuXG4gICAgICAgIGxldCBpID0gMDtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5jbG9uZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvbmVzSGVpZ2h0ID0gdGhpcy5jbG9uZXNIZWlnaHQgKyB0aGlzLmNsb25lc1sgaSBdLm9mZnNldEhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNsb25lc0hlaWdodDtcbiAgICB9XG5cblxuICAgIGdldFNjcm9sbFBvcyAoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5zY3JvbGxZIHx8IHRoaXMuY29udGV4dC5zY3JvbGxUb3ApIC0gKHRoaXMuY29udGV4dC5jbGllbnRUb3AgfHwgMCk7XG4gICAgfVxuXG5cbiAgICBzZXRTY3JvbGxQb3MgKHBvcykge1xuXG4gICAgICAgIC8vY29yZS5kb20uaHRtbEJvZHkuc2Nyb2xsVG9wID0gcG9zO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9IHBvc1xuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gcG9zXG4gICAgICAgIC8vJCgnaHRtbCxib2R5Jykuc2Nyb2xsVG9wKHBvcyk7XG4gICAgfVxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAZGVzY3JpcHRpb24gRXZlbnRzIHdpdGhpbiBzY3JvbGwgZXZlbnRcblx0ICogQG1lbWJlcm9mIGluZmluaXRlTG9vcFxuXHQgKiBAbWV0aG9kIGluaXRcblx0ICpcblx0ICovXG5cbiAgICBsb29wICgpIHtcblxuICAgICAgICBpZiAoIWNvbmZpZy5kaXNhYmxlTG9vcCAmJiAhY29uZmlnLmlzVG91Y2ggPT09IHRydWUpIHtcblxuICAgICAgICAgICAgdGhpcy5zY3JvbGxZID0gc2Nyb2xsZXIuZ2V0U2Nyb2xsWSgpO1xuXG5cbiAgICAgICAgICAgIC8vIEFkZCBjbGFzcyB3aGVuIHNjcm9sbGluZ1xuXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcik7XG5cbiAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImRpc2FibGUtaG92ZXJcIikpIHtcblx0XHQgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImRpc2FibGUtaG92ZXJcIik7XG4gICAgICAgICAgICAgICAgY29uZmlnLmlzU2Nyb2xsaW5nID0gdHJ1ZTtcblx0XHQgIH1cblxuXHRcdCAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdCAgIFx0ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNhYmxlLWhvdmVyXCIpO1xuICAgICAgICAgICAgICAgIGNvbmZpZy5pc1Njcm9sbGluZyA9IGZhbHNlO1xuXHRcdCAgfSwgNTAwKTtcblxuXG5cbiAgICAgICAgICAgIC8vIFNjcm9sbCB0byB0aGUgdG9wIHdoZW4geW914oCZdmUgcmVhY2hlZCB0aGUgYm90dG9tXG5cblxuICAgICAgICAgICAgLy9cdGNvbnNvbGUubG9nKHRoaXMuY2xvbmVzSGVpZ2h0ICsgXCIgXCIgKyB0aGlzLnNjcm9sbFkgKyBcIiA+PVwiICArIFwiIFwiICsgdGhpcy5zY3JvbGxIZWlnaHQpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jbG9uZXNIZWlnaHQgKyB0aGlzLnNjcm9sbFkgPj0gdGhpcy5zY3JvbGxIZWlnaHQpIHtcblxuXG5cblxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdzY3JvbGwgdG8gMScpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaGlkZS1uYXYtb24tbG9vcFwiKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRlLW5hdi1vbi1sb29wXCIpO1xuICAgICAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTY3JvbGxQb3MoMSk7IC8vIFNjcm9sbCBkb3duIDEgcGl4ZWwgdG8gYWxsb3cgdXB3YXJkcyBzY3JvbGxpbmdcblxuICAgICAgICAgICAgICAgIGRpc2FibGVTY3JvbGwgPSB0cnVlO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2Nyb2xsWSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3Njcm9sbCB0byAwJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBTY3JvbGwgdG8gdGhlIGJvdHRvbSB3aGVuIHlvdSByZWFjaCB0aGUgdG9wXG5cbiAgICAgICAgICAgICAgICBjb25zdCBzY3JvbGxQb3MgPSB0aGlzLnNjcm9sbEhlaWdodCAtIHRoaXMuY2xvbmVzSGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTY3JvbGxQb3Moc2Nyb2xsUG9zKTtcblxuICAgICAgICAgICAgICAgIGRpc2FibGVTY3JvbGwgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy5pc1RvdWNoID09IHRydWUpIHtcbiAgICAgICAgICAgIGNvbmZpZy5jdXJyZW50U2Nyb2xsUG9zaXRpb24gPSBzY3JvbGxlci5nZXRTY3JvbGxZKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlzYWJsZVNjcm9sbCkge1xuICAgICAgICAgICAgLy8gRGlzYWJsZSBzY3JvbGwtanVtcGluZyBmb3IgYSBzaG9ydCB0aW1lIHRvIGF2b2lkIGZsaWNrZXJpbmdcbiAgICAgICAgICAgIC8vIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gXHRkaXNhYmxlU2Nyb2xsID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBcdGNvbnNvbGUubG9nKCdkaXNhYmxlZCEnKTtcbiAgICAgICAgICAgIC8vIH0sIDQwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGNvbmZpZy5jdXJyZW50U2Nyb2xsUG9zaXRpb24gKyBcIiBcIisgdGhpcy5kaXNhYmxlU2Nyb2xsKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gaWYgKCF0aGlzLmRpc2FibGVTY3JvbGwpIHsgLy8gU2Nyb2xsIEVuYWJsZWRcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgIHRoaXMuc2Nyb2xsWSA9ICBjb25maWcuY3VycmVudFNjcm9sbFBvc2l0aW9uO1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgLy8gU2Nyb2xsIHRvIHRoZSB0b3Agd2hlbiB5b3XigJl2ZSByZWFjaGVkIHRoZSBib3R0b21cbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgIGlmICh0aGlzLmNsb25lc0hlaWdodCArIHRoaXMuc2Nyb2xsWSA+PSB0aGlzLnNjcm9sbEhlaWdodCkge1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgICBjb25zb2xlLmxvZyhcInNjcm9sbCB0byAxXCIpO1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgICB0aGlzLnNldFNjcm9sbFBvcygxKTsgLy8gU2Nyb2xsIGRvd24gMSBwaXhlbCB0byBhbGxvdyB1cHdhcmRzIHNjcm9sbGluZ1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgICB0aGlzLmRpc2FibGVTY3JvbGwgPSB0cnVlO1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgfSBlbHNlIGlmICh0aGlzLnNjcm9sbFkgPD0gMCkge1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgICBjb25zb2xlLmxvZyhcInNjcm9sbCB0byAwXCIpO1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgICAvLyBTY3JvbGwgdG8gdGhlIGJvdHRvbSB3aGVuIHlvdSByZWFjaCB0aGUgdG9wXG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICAgIHRoaXMuc2V0U2Nyb2xsUG9zKHRoaXMuc2Nyb2xsSGVpZ2h0IC0gdGhpcy5jbG9uZXNIZWlnaHQpO1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgICB0aGlzLmRpc2FibGVTY3JvbGwgPSB0cnVlO1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvL1xuICAgICAgICAvLyB9ZWxzZXsgLy8gU2Nyb2xsIERpc2FibGVkXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgLy8gRGlzYWJsZSBzY3JvbGwtanVtcGluZyBmb3IgYSBzaG9ydCB0aW1lIHRvIGF2b2lkIGZsaWNrZXJpbmdcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICB0aGlzLmRpc2FibGVTY3JvbGwgPSAhdGhpcy5kaXNhYmxlU2Nyb2xsO1xuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coXCJXT0FIXCIgKyB0aGlzLmRpc2FibGVTY3JvbGwpO1xuICAgICAgICAvL1xuICAgICAgICAvLyAgIH0sIDQwKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gfVxuICAgIH1cblxuICAgIC8vXG4gICAgLy8gZGVzdHJveSgpe1xuICAgIC8vXG4gICAgLy8gICBkaXNhYmxlTG9vcCA9IHRydWU7XG4gICAgLy9cbiAgICAvLyB9XG4gICAgLy9cbn1cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogRXhwb3J0XG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmV4cG9ydCBkZWZhdWx0IGluZmluaXRlTG9vcDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzb3VyY2UvanMvY2xhc3MvaW5maW5pdGVMb29wLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7OztBQVFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBRUE7Ozs7O0FBR0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///46\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _dom = __webpack_require__(/*! ./dom */ 14);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _config = __webpack_require__(/*! ./config */ 4);\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _shopifyBuy = __webpack_require__(/*! shopify-buy */ 88);\n\nvar _shopifyBuy2 = _interopRequireDefault(_shopifyBuy);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar vendors = ["Webkit", "Moz", "ms"];\n\n/**\n *\n * @public\n * @namespace detect\n * @memberof core\n * @description Handles basic detection of touch devices.\n *\n */\nvar detect = {\n    /**\n    *\n    * @public\n    * @method init\n    * @memberof core.detect\n    * @description Initializes the detect module.\n    *\n    */\n    init: function init() {\n        this._isTouch = "ontouchstart" in window || "DocumentTouch" in window;\n        this._isMobile = /Android|BlackBerry|iPhone|iPad|iPod|IEMobile|Opera Mini/gi.test(window.navigator.userAgent);\n        this._prefix = this.getPrefix();\n\n        // Manual Scroll distance on page loads\n\n        if (_config2.default.removeScrollResotration) {\n            history.scrollRestoration = "manual";\n\n            window.scroll(0, 0); // Restart the browser to 0\n        }\n\n        // Touch support mode\n        if (this._isTouch) {\n            _dom2.default.html.addClass("is-touchable");\n            _config2.default.isTouch = true;\n\n            // Add set height to each .-full-height div\n            // dom.fullHeight.forEach(element => {\n            //   element.style.height = window.innerHeight + "px";\n            // });\n\n            // Mouse support mode\n        } else {\n            _dom2.default.html.addClass("is-hoverable");\n        }\n    },\n\n\n    /**\n    *\n    * @public\n    * @method getPrefix\n    * @memberof core.detect\n    * @description Get the vendor prefix.\n    * @returns {string}\n    *\n    */\n    getPrefix: function getPrefix() {\n        var i = vendors.length;\n\n        if (document.body.style.transform === null) {\n            for (i; i--;) {\n                if (document.body.style[vendors[i] + "Transform"]) {\n                    return vendors[i];\n                }\n            }\n        }\n\n        return "";\n    },\n\n\n    /**\n    *\n    * @public\n    * @method getPrefixed\n    * @param {string} property The property to be prefixed\n    * @memberof core.detect\n    * @description Get the vendor prefixed property.\n    * @returns {string}\n    *\n    */\n    getPrefixed: function getPrefixed(property) {\n        var camelProp = property[0].toUpperCase() + property.slice(1);\n\n        return this._prefix ? this._prefix + camelProp : property;\n    },\n\n\n    /**\n    *\n    * @public\n    * @method isMobile\n    * @memberof core.detect\n    * @description Check for high-end mobile device user agents.\n    * @returns {boolean}\n    *\n    */\n    isMobile: function isMobile() {\n        return this._isMobile;\n    },\n\n\n    /**\n    *\n    * @public\n    * @method isTouch\n    * @memberof core.detect\n    * @description Check whether this is a touch device or not.\n    * [See Modernizr]{@link https://github.com/Modernizr/Modernizr/blob/master/feature-detects/touchevents.js}\n    * @returns {boolean}\n    *\n    */\n    isTouch: function isTouch() {\n        return this._isTouch;\n    },\n\n\n    /**\n    *\n    * @public\n    * @method isDevice\n    * @memberof core.detect\n    * @description Must be `isMobile` and `isTouch`.\n    * @returns {boolean}\n    *\n    */\n    isDevice: function isDevice() {\n        return this._isTouch && this._isMobile;\n    }\n};\n\n/******************************************************************************\n * Export\n *******************************************************************************/\nexports.default = detect;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc291cmNlL2pzL2NvcmUvZGV0ZWN0LmpzPzUxNWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRvbSBmcm9tIFwiLi9kb21cIjtcbmltcG9ydCBjb25maWcgZnJvbSBcIi4vY29uZmlnXCI7XG5pbXBvcnQgQ2xpZW50IGZyb20gXCJzaG9waWZ5LWJ1eVwiO1xuXG5jb25zdCB2ZW5kb3JzID0gW1wiV2Via2l0XCIsIFwiTW96XCIsIFwibXNcIl07XG5cbi8qKlxuICpcbiAqIEBwdWJsaWNcbiAqIEBuYW1lc3BhY2UgZGV0ZWN0XG4gKiBAbWVtYmVyb2YgY29yZVxuICogQGRlc2NyaXB0aW9uIEhhbmRsZXMgYmFzaWMgZGV0ZWN0aW9uIG9mIHRvdWNoIGRldmljZXMuXG4gKlxuICovXG5jb25zdCBkZXRlY3QgPSB7XG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1ldGhvZCBpbml0XG5cdCAqIEBtZW1iZXJvZiBjb3JlLmRldGVjdFxuXHQgKiBAZGVzY3JpcHRpb24gSW5pdGlhbGl6ZXMgdGhlIGRldGVjdCBtb2R1bGUuXG5cdCAqXG5cdCAqL1xuICAgIGluaXQgKCkge1xuICAgICAgICB0aGlzLl9pc1RvdWNoID0gXCJvbnRvdWNoc3RhcnRcIiBpbiB3aW5kb3cgfHwgXCJEb2N1bWVudFRvdWNoXCIgaW4gd2luZG93O1xuICAgICAgICB0aGlzLl9pc01vYmlsZSA9IC9BbmRyb2lkfEJsYWNrQmVycnl8aVBob25lfGlQYWR8aVBvZHxJRU1vYmlsZXxPcGVyYSBNaW5pL2dpLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgICAgICB0aGlzLl9wcmVmaXggPSB0aGlzLmdldFByZWZpeCgpO1xuXG4gICAgICAgIC8vIE1hbnVhbCBTY3JvbGwgZGlzdGFuY2Ugb24gcGFnZSBsb2Fkc1xuXG4gICAgICAgIGlmIChjb25maWcucmVtb3ZlU2Nyb2xsUmVzb3RyYXRpb24pIHtcbiAgICAgICAgICAgIGhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb24gPSBcIm1hbnVhbFwiO1xuXG4gICAgICAgICAgICB3aW5kb3cuc2Nyb2xsKDAsIDApOyAvLyBSZXN0YXJ0IHRoZSBicm93c2VyIHRvIDBcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRvdWNoIHN1cHBvcnQgbW9kZVxuICAgICAgICBpZiAodGhpcy5faXNUb3VjaCkge1xuICAgICAgICAgICAgZG9tLmh0bWwuYWRkQ2xhc3MoXCJpcy10b3VjaGFibGVcIik7XG4gICAgICAgICAgICBjb25maWcuaXNUb3VjaCA9IHRydWU7XG5cbiAgICAgICAgICAgIC8vIEFkZCBzZXQgaGVpZ2h0IHRvIGVhY2ggLi1mdWxsLWhlaWdodCBkaXZcbiAgICAgICAgICAgIC8vIGRvbS5mdWxsSGVpZ2h0LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAvLyAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICAgICAgLy8gfSk7XG5cbiAgICAgICAgICAgIC8vIE1vdXNlIHN1cHBvcnQgbW9kZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG9tLmh0bWwuYWRkQ2xhc3MoXCJpcy1ob3ZlcmFibGVcIik7XG4gICAgICAgIH1cblxuXG5cblxuXG4gICAgfSxcblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZXRob2QgZ2V0UHJlZml4XG5cdCAqIEBtZW1iZXJvZiBjb3JlLmRldGVjdFxuXHQgKiBAZGVzY3JpcHRpb24gR2V0IHRoZSB2ZW5kb3IgcHJlZml4LlxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfVxuXHQgKlxuXHQgKi9cbiAgICBnZXRQcmVmaXggKCkge1xuICAgICAgICBsZXQgaSA9IHZlbmRvcnMubGVuZ3RoO1xuXG4gICAgICAgIGlmIChkb2N1bWVudC5ib2R5LnN0eWxlLnRyYW5zZm9ybSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgZm9yIChpOyBpLS07ICkge1xuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5ib2R5LnN0eWxlWyBgJHt2ZW5kb3JzWyBpIF19VHJhbnNmb3JtYCBdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2ZW5kb3JzWyBpIF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfSxcblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZXRob2QgZ2V0UHJlZml4ZWRcblx0ICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFRoZSBwcm9wZXJ0eSB0byBiZSBwcmVmaXhlZFxuXHQgKiBAbWVtYmVyb2YgY29yZS5kZXRlY3Rcblx0ICogQGRlc2NyaXB0aW9uIEdldCB0aGUgdmVuZG9yIHByZWZpeGVkIHByb3BlcnR5LlxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfVxuXHQgKlxuXHQgKi9cbiAgICBnZXRQcmVmaXhlZCAocHJvcGVydHkpIHtcbiAgICAgICAgY29uc3QgY2FtZWxQcm9wID0gcHJvcGVydHlbIDAgXS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHkuc2xpY2UoMSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByZWZpeCA/IHRoaXMuX3ByZWZpeCArIGNhbWVsUHJvcCA6IHByb3BlcnR5O1xuICAgIH0sXG5cbiAgICAvKipcblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKiBAbWV0aG9kIGlzTW9iaWxlXG5cdCAqIEBtZW1iZXJvZiBjb3JlLmRldGVjdFxuXHQgKiBAZGVzY3JpcHRpb24gQ2hlY2sgZm9yIGhpZ2gtZW5kIG1vYmlsZSBkZXZpY2UgdXNlciBhZ2VudHMuXG5cdCAqIEByZXR1cm5zIHtib29sZWFufVxuXHQgKlxuXHQgKi9cbiAgICBpc01vYmlsZSAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc01vYmlsZTtcbiAgICB9LFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1ldGhvZCBpc1RvdWNoXG5cdCAqIEBtZW1iZXJvZiBjb3JlLmRldGVjdFxuXHQgKiBAZGVzY3JpcHRpb24gQ2hlY2sgd2hldGhlciB0aGlzIGlzIGEgdG91Y2ggZGV2aWNlIG9yIG5vdC5cblx0ICogW1NlZSBNb2Rlcm5penJde0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2Jsb2IvbWFzdGVyL2ZlYXR1cmUtZGV0ZWN0cy90b3VjaGV2ZW50cy5qc31cblx0ICogQHJldHVybnMge2Jvb2xlYW59XG5cdCAqXG5cdCAqL1xuICAgIGlzVG91Y2ggKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNUb3VjaDtcbiAgICB9LFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1ldGhvZCBpc0RldmljZVxuXHQgKiBAbWVtYmVyb2YgY29yZS5kZXRlY3Rcblx0ICogQGRlc2NyaXB0aW9uIE11c3QgYmUgYGlzTW9iaWxlYCBhbmQgYGlzVG91Y2hgLlxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn1cblx0ICpcblx0ICovXG4gICAgaXNEZXZpY2UgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNUb3VjaCAmJiB0aGlzLl9pc01vYmlsZTtcbiAgICB9XG59O1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBFeHBvcnRcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuZXhwb3J0IGRlZmF1bHQgZGV0ZWN0O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNvdXJjZS9qcy9jb3JlL2RldGVjdC5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFBQTs7Ozs7Ozs7O0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7Ozs7Ozs7Ozs7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOzs7Ozs7Ozs7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7Ozs7Ozs7Ozs7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7Ozs7Ozs7OztBQVNBO0FBQ0E7QUFDQTtBQXhIQTtBQUNBO0FBMEhBOzs7QUFHQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///47\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _properjsResizecontroller = __webpack_require__(/*! properjs-resizecontroller */ 193);\n\nvar _properjsResizecontroller2 = _interopRequireDefault(_properjsResizecontroller);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n *\n * @description Single app instanceof [ResizeController]{@link https://github.com/ProperJS/ResizeController} for raf resize handling\n * @member resizer\n * @memberof core\n *\n */\nvar resizer = new _properjsResizecontroller2.default();\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexports.default = resizer;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc291cmNlL2pzL2NvcmUvcmVzaXplci5qcz9kNzRkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZXNpemVDb250cm9sbGVyIGZyb20gXCJwcm9wZXJqcy1yZXNpemVjb250cm9sbGVyXCI7XG5cbi8qKlxuICpcbiAqIEBkZXNjcmlwdGlvbiBTaW5nbGUgYXBwIGluc3RhbmNlb2YgW1Jlc2l6ZUNvbnRyb2xsZXJde0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9Qcm9wZXJKUy9SZXNpemVDb250cm9sbGVyfSBmb3IgcmFmIHJlc2l6ZSBoYW5kbGluZ1xuICogQG1lbWJlciByZXNpemVyXG4gKiBAbWVtYmVyb2YgY29yZVxuICpcbiAqL1xuY29uc3QgcmVzaXplciA9IG5ldyBSZXNpemVDb250cm9sbGVyKCk7XG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogRXhwb3J0XG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuZXhwb3J0IGRlZmF1bHQgcmVzaXplcjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzb3VyY2UvanMvY29yZS9yZXNpemVyLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBOzs7OztBQUNBOzs7Ozs7O0FBT0E7QUFDQTtBQUVBOzs7QUFHQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///48\n')},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _log = __webpack_require__(/*! ../core/log */ 24);\n\nvar _log2 = _interopRequireDefault(_log);\n\nvar _env = __webpack_require__(/*! ../core/env */ 31);\n\nvar _env2 = _interopRequireDefault(_env);\n\nvar _fgLoadjs = __webpack_require__(/*! fg-loadjs */ 105);\n\nvar _fgLoadjs2 = _interopRequireDefault(_fgLoadjs);\n\nvar _emitter = __webpack_require__(/*! ../core/emitter */ 30);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n// Singleton\nvar _instance = null;\n\n/**\n *\n * @public\n * @class Analytics\n * @classdesc Handles Google Analytics.\n *            @see {@link https://developers.google.com/analytics/devguides/collection/analyticsjs/}\n * @memberof core\n *\n */\n\nvar Analytics = function () {\n    function Analytics() {\n        _classCallCheck(this, Analytics);\n\n        if (!_instance) {\n            this.stageUA = "";\n            this.prodUA = window.APP_CONFIG.googleUA;\n            this.GAScript = "//www.google-analytics.com/analytics.js";\n            this.GAUATag = _env2.default.isProd() ? this.prodUA : this.stageUA;\n\n            this.initGoogleAnalytics();\n\n            _emitter2.default.on("app--analytics-pageview", this.track.bind(this));\n\n            (0, _log2.default)("[Analytics initialized]");\n\n            _instance = this;\n        }\n\n        return _instance;\n    }\n\n    /**\n     *\n     * @public\n     * @method initGoogleAnalytics\n     * @memberof core.Analytics\n     * @description Build GA interface and load analytics.js.\n     *\n     */\n\n\n    _createClass(Analytics, [{\n        key: "initGoogleAnalytics",\n        value: function initGoogleAnalytics() {\n            var _this = this;\n\n            if (_instance) {\n                return;\n            }\n\n            // Setup GA Interface\n            window.GoogleAnalyticsObject = "ga";\n            window.ga = window.ga || function () {\n                // Blockers like `Privacy Badger` will blow GA up here\n                // https://www.eff.org/privacybadger\n                try {\n                    window.ga.q = (window.ga.q || []).push(arguments);\n                } catch (error) {\n                    (0, _log2.default)("warn", "GA Error", error);\n                }\n            };\n            window.ga.l = Number(new Date());\n\n            // Load GA Javascript\n            (0, _fgLoadjs2.default)(this.GAScript, function () {\n                (0, _log2.default)("Analytics GA loaded");\n\n                window.ga("create", _this.GAUATag, "auto");\n                window.ga("send", "pageview");\n            });\n        }\n\n        /**\n         *\n         * @public\n         * @method track\n         * @memberof core.Analytics\n         * @description Track Squarespace Metrics since we are ajax-routing.\n         *\n         */\n\n    }, {\n        key: "track",\n        value: function track() {\n            (0, _log2.default)("Analytics pageview", window.location.href);\n\n            // Google Analytics\n            window.ga("send", "pageview", window.location.href);\n        }\n    }]);\n\n    return Analytics;\n}();\n\n/******************************************************************************\n * Export\n*******************************************************************************/\n\n\nexports.default = Analytics;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc291cmNlL2pzL2NsYXNzL0FuYWx5dGljcy5qcz80YTI0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBsb2cgZnJvbSBcIi4uL2NvcmUvbG9nXCI7XG5pbXBvcnQgZW52IGZyb20gXCIuLi9jb3JlL2VudlwiO1xuaW1wb3J0IGxvYWRKUyBmcm9tIFwiZmctbG9hZGpzXCI7XG5pbXBvcnQgZW1pdHRlciBmcm9tIFwiLi4vY29yZS9lbWl0dGVyXCI7XG5cblxuLy8gU2luZ2xldG9uXG5sZXQgX2luc3RhbmNlID0gbnVsbDtcblxuXG4vKipcbiAqXG4gKiBAcHVibGljXG4gKiBAY2xhc3MgQW5hbHl0aWNzXG4gKiBAY2xhc3NkZXNjIEhhbmRsZXMgR29vZ2xlIEFuYWx5dGljcy5cbiAqICAgICAgICAgICAgQHNlZSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vYW5hbHl0aWNzL2Rldmd1aWRlcy9jb2xsZWN0aW9uL2FuYWx5dGljc2pzL31cbiAqIEBtZW1iZXJvZiBjb3JlXG4gKlxuICovXG5jbGFzcyBBbmFseXRpY3Mge1xuICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgICAgaWYgKCAhX2luc3RhbmNlICkge1xuICAgICAgICAgICAgdGhpcy5zdGFnZVVBID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMucHJvZFVBID0gd2luZG93LkFQUF9DT05GSUcuZ29vZ2xlVUE7XG4gICAgICAgICAgICB0aGlzLkdBU2NyaXB0ID0gXCIvL3d3dy5nb29nbGUtYW5hbHl0aWNzLmNvbS9hbmFseXRpY3MuanNcIjtcbiAgICAgICAgICAgIHRoaXMuR0FVQVRhZyA9IChlbnYuaXNQcm9kKCkgPyB0aGlzLnByb2RVQSA6IHRoaXMuc3RhZ2VVQSk7XG5cbiAgICAgICAgICAgIHRoaXMuaW5pdEdvb2dsZUFuYWx5dGljcygpO1xuXG4gICAgICAgICAgICBlbWl0dGVyLm9uKCBcImFwcC0tYW5hbHl0aWNzLXBhZ2V2aWV3XCIsIHRoaXMudHJhY2suYmluZCggdGhpcyApICk7XG5cbiAgICAgICAgICAgIGxvZyggXCJbQW5hbHl0aWNzIGluaXRpYWxpemVkXVwiICk7XG5cbiAgICAgICAgICAgIF9pbnN0YW5jZSA9IHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX2luc3RhbmNlO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQG1ldGhvZCBpbml0R29vZ2xlQW5hbHl0aWNzXG4gICAgICogQG1lbWJlcm9mIGNvcmUuQW5hbHl0aWNzXG4gICAgICogQGRlc2NyaXB0aW9uIEJ1aWxkIEdBIGludGVyZmFjZSBhbmQgbG9hZCBhbmFseXRpY3MuanMuXG4gICAgICpcbiAgICAgKi9cbiAgICBpbml0R29vZ2xlQW5hbHl0aWNzICgpIHtcbiAgICAgICAgaWYgKCBfaW5zdGFuY2UgKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXR1cCBHQSBJbnRlcmZhY2VcbiAgICAgICAgd2luZG93Lkdvb2dsZUFuYWx5dGljc09iamVjdCA9IFwiZ2FcIjtcbiAgICAgICAgd2luZG93LmdhID0gKHdpbmRvdy5nYSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBCbG9ja2VycyBsaWtlIGBQcml2YWN5IEJhZGdlcmAgd2lsbCBibG93IEdBIHVwIGhlcmVcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vd3d3LmVmZi5vcmcvcHJpdmFjeWJhZGdlclxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuZ2EucSA9ICh3aW5kb3cuZ2EucSB8fCBbXSkucHVzaCggYXJndW1lbnRzICk7XG5cbiAgICAgICAgICAgIH0gY2F0Y2ggKCBlcnJvciApIHtcbiAgICAgICAgICAgICAgICBsb2coIFwid2FyblwiLCBcIkdBIEVycm9yXCIsIGVycm9yICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB3aW5kb3cuZ2EubCA9IE51bWJlciggbmV3IERhdGUoKSApO1xuXG4gICAgICAgIC8vIExvYWQgR0EgSmF2YXNjcmlwdFxuICAgICAgICBsb2FkSlMoIHRoaXMuR0FTY3JpcHQsICgpID0+IHtcbiAgICAgICAgICAgIGxvZyggXCJBbmFseXRpY3MgR0EgbG9hZGVkXCIgKTtcblxuICAgICAgICAgICAgd2luZG93LmdhKCBcImNyZWF0ZVwiLCB0aGlzLkdBVUFUYWcsIFwiYXV0b1wiICk7XG4gICAgICAgICAgICB3aW5kb3cuZ2EoIFwic2VuZFwiLCBcInBhZ2V2aWV3XCIgKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAbWV0aG9kIHRyYWNrXG4gICAgICogQG1lbWJlcm9mIGNvcmUuQW5hbHl0aWNzXG4gICAgICogQGRlc2NyaXB0aW9uIFRyYWNrIFNxdWFyZXNwYWNlIE1ldHJpY3Mgc2luY2Ugd2UgYXJlIGFqYXgtcm91dGluZy5cbiAgICAgKlxuICAgICAqL1xuICAgIHRyYWNrICgpIHtcbiAgICAgICAgbG9nKCBcIkFuYWx5dGljcyBwYWdldmlld1wiLCB3aW5kb3cubG9jYXRpb24uaHJlZiApO1xuXG4gICAgICAgIC8vIEdvb2dsZSBBbmFseXRpY3NcbiAgICAgICAgd2luZG93LmdhKCBcInNlbmRcIiwgXCJwYWdldmlld1wiLCB3aW5kb3cubG9jYXRpb24uaHJlZiApO1xuICAgIH1cbn1cblxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIEV4cG9ydFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmV4cG9ydCBkZWZhdWx0IEFuYWx5dGljcztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzb3VyY2UvanMvY2xhc3MvQW5hbHl0aWNzLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7Ozs7OztBQVNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7Ozs7OztBQVFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUtBOzs7OztBQUdBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///89\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Add products from Shopify\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\nvar _shopify = __webpack_require__(/*! ./shopify */ 100);\n\nvar _shopify2 = _interopRequireDefault(_shopify);\n\nvar _dom = __webpack_require__(/*! ../core/dom */ 14);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _config = __webpack_require__(/*! ../core/config */ 4);\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _util = __webpack_require__(/*! ../core/util */ 13);\n\nvar util = _interopRequireWildcard(_util);\n\nvar _properjsHobo = __webpack_require__(/*! properjs-hobo */ 11);\n\nvar _properjsHobo2 = _interopRequireDefault(_properjsHobo);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar ShopifyApp = function () {\n    function ShopifyApp() {\n        _classCallCheck(this, ShopifyApp);\n\n        this.state = {\n            checkoutId: "",\n            products: {},\n            checkout: { lineItems: [] }, // Contains all the products there needs to be for an application\n            cartItems: 0, // Primary Cart to be used by all application\n            lineItems: {},\n            webUrl: "",\n            cartOpen: false\n        };\n\n        this.total = document.getElementsByClassName("js-cart-total")[0];\n        this.checkoutBtn = document.getElementsByClassName("js-cart-checkout")[0];\n        this.container = _dom2.default.cartContainer;\n\n        //this.fetchAllProducts = this.fetchAllProducts.bind(this)\n        //this.fetchProduct = this.fetchProduct.bind(this)\n        this.appendProduct = this.appendProduct.bind(this);\n        //this.appendPricing = this.appendPricing.bind(this)\n        //this.initCart = this.initCart.bind(this)\n        //this.onRemoveCart = this.onRemoveCart.bind(this)\n\n\n        this.initCart();\n        this.fetchAllProducts();\n    }\n\n    _createClass(ShopifyApp, [{\n        key: "bindEventListeners",\n        value: function bindEventListeners() {\n            var _this2 = this;\n\n            (0, _properjsHobo2.default)(".js-item-container").on("click", function (e) {\n                e.preventDefault();\n                if (!e.target.matches(".js-increase-quantity") && !e.target.matches(".js-decrease-quantity")) {\n                    return;\n                }\n                if (e.target.matches(".js-increase-quantity")) {\n                    var cartItemId = (0, _properjsHobo2.default)(e.target).data("variantId");\n\n                    _this2.increaseQuantity(cartItemId);\n                } else if (e.target.matches(".js-decrease-quantity")) {\n                    var cartItemId = (0, _properjsHobo2.default)(e.target).data("variantId");\n\n                    _this2.decreaseQuantity(cartItemId);\n                }\n            });\n\n            (0, _properjsHobo2.default)(".js-cart").on("click", function (e) {\n                e.preventDefault();\n                _this2.toggleCart();\n            });\n\n            (0, _properjsHobo2.default)(".js-close-cart").on("click", function (e) {\n                e.preventDefault();\n                _this2.toggleCart();\n            });\n        }\n\n        // Fetch All Products from Shopify â€” jordan-sowers.myshopify.com\n\n    }, {\n        key: "fetchAllProducts",\n        value: function fetchAllProducts() {\n            var _this3 = this;\n\n            var bindEventListeners = this.bindEventListeners;\n\n            //console.log("test " + shopifyClient.checkout);\n\n            _shopify2.default.product.fetchAll().then(function (products) {\n\n                _this3.state.products = products;\n\n                console.log(_this3.state.products);\n\n                if (window.location.pathname != "/") {\n\n                    var productId = _dom2.default.main.find("[data-product-id]").attr("data-product-id");\n\n                    _this3.appendProduct(productId);\n                }\n\n                //Bind all click events in cart\n                _this3.bindEventListeners();\n\n                _config2.default.shopifySync = true;\n            });\n        }\n    }, {\n        key: "appendProduct",\n        value: function appendProduct(productId) {\n            var _this4 = this;\n\n            // Get product from Shopify proudcts Array\n            var product = this.state.products.find(function (product) {\n                return product.id === productId;\n            });\n\n            // Get select dropdown for modification\n            var $select = (0, _properjsHobo2.default)(".js-shop-variants");\n\n            // Get AddToCart button\n            var $addToCart = (0, _properjsHobo2.default)(".js-add-to-cart");\n\n            // Contextualize Constructor Objects\n            var $thisAdd = this;\n\n            //Get Price\n            var $price = document.getElementsByClassName("js-price");\n\n            // Get number of product variants\n            var arrayLength = product.variants.length;\n\n            // Loop through variants and create a select dropdown\n            for (var i = 0; i < arrayLength; i++) {\n                var option = product.variants[i];\n                var element = document.createElement("option");\n\n                element.textContent = option.title;\n                element.value = option.title;\n                element.dataset.id = option.id;\n                element.dataset.price = option.price;\n\n                $select.append(element);\n\n                // Set price in detail header\n                if (i == 0) {\n                    _dom2.default.fromPrice.innerHTML = option.price;\n                }\n            }\n\n            util.createSelectDropDown($select, $price, $addToCart);\n\n            var singleClick = void 0;\n\n            $addToCart.on("click", function (e) {\n                e.preventDefault();\n\n                var _this = _this4;\n\n                if (singleClick != true) {\n                    singleClick = true;\n\n                    // Get attribute to match to hidden select dropdown\n                    var variantId = e.target.getAttribute("data-id");\n                    var quantity = void 0;\n\n                    // Search for existing cart item, or create new one\n                    var cartLineItem = _this4.findCartItemByVariantId(variantId);\n\n                    quantity = cartLineItem ? cartLineItem.quantity + 1 : 1;\n                    _this4.addOrUpdateVariant(variantId, quantity);\n\n                    setTimeout(function () {\n                        singleClick = false;\n                    }, 1000);\n                }\n            });\n        }\n    }, {\n        key: "initCart",\n        value: function initCart() {\n            var _this5 = this;\n\n            if (localStorage.getItem("checkoutId") === null) {\n\n                // Create an empty (new) checkout\n\n                _shopify2.default.checkout.create().then(function (checkout) {\n                    var url = checkout.webUrl;\n                    _this5.state.webUrl = url.replace("jordan-sowers.myshopify", "checkout.jordansowers");\n                    _this5.state.checkoutId = checkout.id;\n                    _this5.state.lineItems = checkout.lineItems;\n\n                    localStorage.setItem("checkoutId", checkout.id); // Store the ID in localStorage\n                });\n            } else {\n\n                // Retrieve existing cart from localStorage\n\n                var checkoutId = localStorage.getItem("checkoutId");\n\n                this.state.checkoutId = checkoutId;\n\n                _shopify2.default.checkout.fetch(checkoutId).then(function (checkout) {\n\n                    var url = checkout.webUrl;\n                    _this5.state.webUrl = url.replace("jordan-sowers.myshopify", "checkout.jordansowers");\n                    _this5.state.checkout = checkout;\n                    _this5.state.lineItems = checkout.lineItems;\n\n                    // Upddate Cart Qty and Create Line Items\n                    _this5.getCartQuantity(checkout.lineItems);\n\n                    console.log(checkout.lineItems);\n\n                    if (checkout.lineItems.length >= 1) {\n                        _this5.checkoutBtn.setAttribute("href", _this5.state.webUrl);\n                        _this5.checkoutBtn.classList.remove("disabled");\n                        _this5.container.classList.remove("disabled");\n                    }\n\n                    _this5.total.innerText = "$" + checkout.subtotalPrice;\n                    //this.container.innerHTML = checkout.lineItems\n\n                    _this5.renderCartItems();\n                });\n            }\n        }\n    }, {\n        key: "toggleCart",\n        value: function toggleCart(e) {\n            var _this6 = this;\n\n            if (this.state.cartOpen == true) {\n\n                (0, _properjsHobo2.default)(_dom2.default.html).removeClass("show-cart");\n                this.state.cartOpen = false;\n\n                setTimeout(function () {\n                    if (e) {\n                        _this6.checkoutBtn.classList.add("disabled");\n                        _this6.container.classList.add("disabled");\n                    }\n                    (0, _properjsHobo2.default)(_dom2.default.html).removeClass("display-cart");\n                }, 1000);\n            } else {\n                (0, _properjsHobo2.default)(_dom2.default.html).addClass("display-cart");\n                this.state.cartOpen = true;\n\n                // Recalculate height of cart item container\n                util.updateCartItemContainer();\n\n                setTimeout(function () {\n                    (0, _properjsHobo2.default)(_dom2.default.html).addClass("show-cart");\n                }, 10);\n            }\n        }\n    }, {\n        key: "renderCartItem",\n        value: function renderCartItem(lineItem) {\n\n            var lineItemTemplate = document.createElement("div");\n            var productUrl = lineItem.title.replace(/\\s+/g, "-").toLowerCase();\n\n            lineItemTemplate.classList.add("cart-item");\n            lineItemTemplate.setAttribute("data-product", productUrl);\n            lineItemTemplate.setAttribute("data-variant-id", lineItem.variant.id);\n\n            var title = document.createElement("h4");\n\n            title.classList.add("h2");\n            title.classList.add("h2", lineItem.title.replace(/\\s+/g, "-").toLowerCase() + "-styles");\n\n            title.innerHTML = lineItem.title;\n\n            var image = document.createElement("img");\n            var imageContainer = document.createElement("div");\n            var imageSrc = window.location.origin + "/img/" + productUrl + "/jordansowers-" + productUrl + "_700.jpg";\n\n            image.setAttribute("src", imageSrc);\n            if (lineItem.variant.sku) {\n                image.classList.add(lineItem.variant.sku);\n            } //Remove once all variants are added\n            imageContainer.innerHTML += image.outerHTML;\n\n            var variant = document.createElement("p");\n\n            variant.classList.add("p");\n            variant.innerHTML = lineItem.variant.title;\n\n            var price = document.createElement("p");\n\n            price.classList.add("p", "js-item-price");\n            var priceCalculation = parseInt(lineItem.quantity) * parseInt(lineItem.variant.price);\n\n            price.innerHTML = "$" + priceCalculation.toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, "$&,");\n\n            var quantity = document.createElement("p");\n\n            quantity.classList.add("p", "js-item-quantity");\n            quantity.innerHTML = lineItem.quantity;\n            quantity.setAttribute("value", lineItem.quantity);\n\n            var increaseQuantity = document.createElement("span");\n\n            increaseQuantity.classList.add("js-increase-quantity", "increase-quantity");\n            increaseQuantity.setAttribute("data-variant-id", lineItem.id);\n\n            var decreaseQuantity = document.createElement("span");\n\n            decreaseQuantity.classList.add("js-decrease-quantity", "decrease-quantity");\n            decreaseQuantity.setAttribute("data-variant-id", lineItem.id);\n\n            // var quantityContainer = document.createElement("div");\n            // quantityContainer.innerHTML += decreaseQuantity.outerHTML + quantity.outerHTML + increaseQuantity.outerHTML;\n\n            var informationContainer = document.createElement("section");\n            var informationWrapper = document.createElement("div");\n\n            informationWrapper.innerHTML += title.outerHTML + decreaseQuantity.outerHTML + variant.outerHTML + quantity.outerHTML + price.outerHTML;\n            informationContainer.innerHTML += informationWrapper.outerHTML;\n\n            // Append + create element\n            // lineItemTemplate.innerHTML += image.outerHTML + title.outerHTML + variant.outerHTML + quantityContainer.outerHTML + price.outerHTML;\n            lineItemTemplate.innerHTML += imageContainer.outerHTML + informationContainer.outerHTML;\n\n            return lineItemTemplate;\n        }\n    }, {\n        key: "renderCartItems",\n        value: function renderCartItems() {\n\n            var renderItem = this.renderCartItem;\n            var container = this.container;\n\n            // Create Cart Line Items\n            var cartLineItems = this.state.lineItems.map(function (lineItem, index) {\n                return renderItem(lineItem, container);\n            });\n\n            // Create a new fragement from Array\n            var fragElement = document.createDocumentFragment();\n\n            for (var i = 0; i < cartLineItems.length; i++) {\n                fragElement.appendChild(cartLineItems[i]);\n            }\n\n            var cartItems = this.state.lineItems;\n\n            // Appends Array of Divs\n            container.appendChild(fragElement);\n\n            // Show Item in Cart â€” if they exist (select and remove hide-item class)\n\n            if (cartItems.length >= 1) {\n                var $item = container.querySelectorAll(".cart-item");\n\n                for (var i = 0; i < $item.length; i++) {\n                    $item[i].classList.remove("hide-item");\n                }\n                if (cartItems.length >= 2) {\n                    this.container.classList.add("scrollable-border");\n                }\n            }\n        }\n    }, {\n        key: "findCartItemByVariantId",\n        value: function findCartItemByVariantId(variantId) {\n            return this.state.lineItems.filter(function (item) {\n                return item.variant.id === variantId;\n            })[0];\n        }\n    }, {\n        key: "addOrUpdateVariant",\n        value: function addOrUpdateVariant(variantId, quantity) {\n            var _this = this;\n\n            this.toggleCart();\n\n            // Show detail navigation\n            _dom2.default.navi.removeClass("hide-nav");\n\n            var cartLineItem = this.findCartItemByVariantId(variantId);\n\n            if (cartLineItem) {\n                this.updateVariantInCart(cartLineItem, quantity);\n            } else {\n                this.onAddCart(variantId);\n            }\n        }\n    }, {\n        key: "onAddCart",\n        value: function onAddCart(variantId) {\n            var _this7 = this;\n\n            var checkoutId = this.state.checkoutId;\n\n            var lineItemsToAdd = [{ variantId: variantId, quantity: 1 }];\n\n            // Add an item to the checkout\n            _shopify2.default.checkout.addLineItems(checkoutId, lineItemsToAdd).then(function (checkout) {\n\n                _this7.state.cartItems = checkout.lineItemCount || 0;\n                var url = checkout.webUrl;\n                _this7.state.webUrl = url.replace("jordan-sowers.myshopify", "checkout.jordansowers");\n                _this7.state.lineItems = checkout.lineItems;\n\n                var cartItem = checkout.lineItems.filter(function (item) {\n                    return item.variant.id === variantId;\n                })[0];\n\n                var $cartItem = _this7.renderCartItem(cartItem);\n                var $cartItemContainer = _this7.container;\n\n                $cartItemContainer.appendChild($cartItem);\n                var $cartItems = $cartItemContainer.querySelector(".hide-item");\n\n                //Add border to top of cart controls if more than one productTitle\n                if (checkout.lineItems.length >= 2) {\n                    _this7.container.classList.add("scrollable-border");\n                }\n\n                // Show items in cart, remove hide class\n                // setTimeout(function () {\n                //   for (var i = 0; i < $cartItems.length; i++) {\n                //     $cartItems[i].classList.remove(\'hide-item\')\n                //   }\n                // }, 0)\n\n                // Gather new Quantity\n                _this7.getCartQuantity(checkout.lineItems);\n                _this7.total.innerText = "$" + checkout.subtotalPrice;\n                _this7.increase = (0, _properjsHobo2.default)(".js-increase-quantity");\n            });\n        }\n    }, {\n        key: "updateQuantity",\n        value: function updateQuantity(fn, cartItemId) {\n\n            var cartItems = this.state.lineItems;\n\n            var cartLineItem = cartItems.filter(function (variant) {\n                return variant.id === cartItemId;\n            })[0];\n\n            var quantity = void 0;\n\n            if (cartLineItem) {\n                quantity = fn(cartLineItem.quantity);\n                this.updateVariantInCart(cartLineItem, quantity);\n            }\n        }\n    }, {\n        key: "decreaseQuantity",\n        value: function decreaseQuantity(cartItemId) {\n            this.updateQuantity(function (quantity) {\n                return quantity - 1;\n            }, cartItemId);\n        }\n    }, {\n        key: "increaseQuantity",\n        value: function increaseQuantity(cartItemId) {\n            this.updateQuantity(function (quantity) {\n                return quantity + 1;\n            }, cartItemId);\n        }\n    }, {\n        key: "getCartQuantity",\n        value: function getCartQuantity(items) {\n\n            var cartQuantity = 0;\n\n            for (var i = 0; i < items.length; i++) {\n                // Add up all quantities for total cartItems\n                cartQuantity += parseInt(items[i].quantity);\n            }\n\n            this.state.cartItems = cartQuantity;\n\n            if (cartQuantity >= 1) {\n                _dom2.default.cartNumber[0].innerText = this.state.cartItems;\n                _dom2.default.cartBadge.addClass("has-items");\n\n                if (this.checkoutBtn.hasAttribute("href")) {\n                    this.checkoutBtn.setAttribute("href", this.state.webUrl);\n                    this.checkoutBtn.classList.remove("disabled");\n                    this.container.classList.remove("disabled");\n                }\n            } else {\n                _dom2.default.cartBadge.removeClass("has-items");\n                if (this.state.cartOpen == true) {\n                    this.toggleCart(true); //Adds class to hide / show empty cart elements\n                    this.checkoutBtn.setAttribute("href", "");\n                }\n            }\n        }\n    }, {\n        key: "updateVariantInCart",\n        value: function updateVariantInCart(cartLineItem, quantity) {\n            var _this8 = this;\n\n            var variantId = cartLineItem.variant.id;\n            var cartLength = this.state.lineItems.length;\n            var container = this.container;\n\n            var lineItemsToUpdate = [{ id: cartLineItem.id, quantity: quantity }];\n\n            var $cartItem = container.querySelector(".cart-item[data-variant-id=\\"" + variantId + "\\"]");\n\n            if (quantity == 0) {\n                // Hide and remove dom object of cart-item\n                $cartItem.classList.add("remove-item");\n            } else {\n                // Fade item to show update in progress\n                $cartItem.classList.add("updating-item");\n            }\n\n            _shopify2.default.checkout.updateLineItems(this.state.checkoutId, lineItemsToUpdate).then(function (checkout) {\n\n                _this8.state.lineItems = checkout.lineItems;\n\n                // Gather new Quantity\n                _this8.getCartQuantity(checkout.lineItems);\n\n                if (checkout.lineItems.length >= cartLength) {\n\n                    // Filter cart for updated line item to update pricing and qty\n                    var _cartLineItem = checkout.lineItems.filter(function (hero) {\n                        return hero.variant.id == variantId;\n                    });\n\n                    //Update Quantity and Pricing\n                    $cartItem.querySelector(".js-item-quantity").innerHTML = _cartLineItem[0].quantity;\n                    var priceCalculation = parseInt(_cartLineItem[0].quantity) * parseInt(_cartLineItem[0].variant.price);\n\n                    $cartItem.querySelector(".js-item-price").innerText = "$" + priceCalculation.toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, "$&,");\n                } else {\n\n                    setTimeout(function () {\n                        $cartItem.remove();\n                    }, 700);\n                }\n\n                //remove border to top of cart controls if more than one productTitle\n                if (checkout.lineItems.length <= 1) {\n                    _this8.container.classList.remove("scrollable-border");\n                }\n\n                _this8.total.innerText = "$" + checkout.subtotalPrice;\n\n                // Return text to full transparency.\n                $cartItem.classList.remove("updating-item");\n\n                //dom.cartNumber.innerText = this.state.cartItems;\n\n                // updateCartTabButton();\n                // updateTotalCartPricing();\n                // if (updatedCart.lineItems.length < 1) {\n                //   closeCart();\n                // dom.cartBadge.removeClass("has-items")\n                // }\n            });\n        }\n    }]);\n\n    return ShopifyApp;\n}();\n\nexports.default = ShopifyApp;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc291cmNlL2pzL2NsYXNzL3Nob3BpZnlBcHAuanM/NjY4MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEFkZCBwcm9kdWN0cyBmcm9tIFNob3BpZnlcbiAqL1xuXG5pbXBvcnQgc2hvcGlmeUNsaWVudCBmcm9tIFwiLi9zaG9waWZ5XCI7XG5pbXBvcnQgZG9tIGZyb20gXCIuLi9jb3JlL2RvbVwiO1xuaW1wb3J0IGNvbmZpZyBmcm9tIFwiLi4vY29yZS9jb25maWdcIjtcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbFwiO1xuaW1wb3J0ICQgZnJvbSBcInByb3BlcmpzLWhvYm9cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hvcGlmeUFwcCB7XG5cbiAgICBjb25zdHJ1Y3RvciAoKSB7XG5cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGNoZWNrb3V0SWQ6IFwiXCIsXG4gICAgICAgICAgICBwcm9kdWN0czoge30sXG4gICAgICAgICAgICBjaGVja291dDogeyBsaW5lSXRlbXM6IFtdIH0sIC8vIENvbnRhaW5zIGFsbCB0aGUgcHJvZHVjdHMgdGhlcmUgbmVlZHMgdG8gYmUgZm9yIGFuIGFwcGxpY2F0aW9uXG4gICAgICAgICAgICBjYXJ0SXRlbXM6IDAsIC8vIFByaW1hcnkgQ2FydCB0byBiZSB1c2VkIGJ5IGFsbCBhcHBsaWNhdGlvblxuICAgICAgICAgICAgbGluZUl0ZW1zOiB7fSxcbiAgICAgICAgICAgIHdlYlVybDogXCJcIixcbiAgICAgICAgICAgIGNhcnRPcGVuOiBmYWxzZVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMudG90YWwgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwianMtY2FydC10b3RhbFwiKVsgMCBdO1xuICAgICAgICB0aGlzLmNoZWNrb3V0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImpzLWNhcnQtY2hlY2tvdXRcIilbIDAgXTtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBkb20uY2FydENvbnRhaW5lcjtcblxuICAgICAgICAvL3RoaXMuZmV0Y2hBbGxQcm9kdWN0cyA9IHRoaXMuZmV0Y2hBbGxQcm9kdWN0cy5iaW5kKHRoaXMpXG4gICAgICAgIC8vdGhpcy5mZXRjaFByb2R1Y3QgPSB0aGlzLmZldGNoUHJvZHVjdC5iaW5kKHRoaXMpXG4gICAgICAgIHRoaXMuYXBwZW5kUHJvZHVjdCA9IHRoaXMuYXBwZW5kUHJvZHVjdC5iaW5kKHRoaXMpO1xuICAgICAgICAvL3RoaXMuYXBwZW5kUHJpY2luZyA9IHRoaXMuYXBwZW5kUHJpY2luZy5iaW5kKHRoaXMpXG4gICAgICAgIC8vdGhpcy5pbml0Q2FydCA9IHRoaXMuaW5pdENhcnQuYmluZCh0aGlzKVxuICAgICAgICAvL3RoaXMub25SZW1vdmVDYXJ0ID0gdGhpcy5vblJlbW92ZUNhcnQuYmluZCh0aGlzKVxuXG5cbiAgICAgICAgdGhpcy5pbml0Q2FydCgpO1xuICAgICAgICB0aGlzLmZldGNoQWxsUHJvZHVjdHMoKTtcblxuICAgIH1cblxuXG5cbiAgICBiaW5kRXZlbnRMaXN0ZW5lcnMgKCkge1xuXG5cbiAgICAgICAgJChcIi5qcy1pdGVtLWNvbnRhaW5lclwiKS5vbiggXCJjbGlja1wiLCAoIGUgKSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBpZiAoIWUudGFyZ2V0Lm1hdGNoZXMoXCIuanMtaW5jcmVhc2UtcXVhbnRpdHlcIikgJiYgIWUudGFyZ2V0Lm1hdGNoZXMoXCIuanMtZGVjcmVhc2UtcXVhbnRpdHlcIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZS50YXJnZXQubWF0Y2hlcyhcIi5qcy1pbmNyZWFzZS1xdWFudGl0eVwiKSApIHtcbiAgICAgICAgICAgICAgICB2YXIgY2FydEl0ZW1JZCA9ICQoZS50YXJnZXQpLmRhdGEoXCJ2YXJpYW50SWRcIik7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmluY3JlYXNlUXVhbnRpdHkoY2FydEl0ZW1JZCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGUudGFyZ2V0Lm1hdGNoZXMoXCIuanMtZGVjcmVhc2UtcXVhbnRpdHlcIikgKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNhcnRJdGVtSWQgPSAkKGUudGFyZ2V0KS5kYXRhKFwidmFyaWFudElkXCIpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kZWNyZWFzZVF1YW50aXR5KGNhcnRJdGVtSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG4gICAgICAgICQoXCIuanMtY2FydFwiKS5vbiggXCJjbGlja1wiLCAoIGUgKSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUNhcnQoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJChcIi5qcy1jbG9zZS1jYXJ0XCIpLm9uKCBcImNsaWNrXCIsICggZSApID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlQ2FydCgpO1xuICAgICAgICB9KTtcblxuICAgIH1cblxuXG5cblxuICAgIC8vIEZldGNoIEFsbCBQcm9kdWN0cyBmcm9tIFNob3BpZnkg4oCUIGpvcmRhbi1zb3dlcnMubXlzaG9waWZ5LmNvbVxuXG4gICAgZmV0Y2hBbGxQcm9kdWN0cyAoKSB7XG5cbiAgICAgICAgY29uc3QgYmluZEV2ZW50TGlzdGVuZXJzID0gdGhpcy5iaW5kRXZlbnRMaXN0ZW5lcnM7XG5cbiAgICAgICAgLy9jb25zb2xlLmxvZyhcInRlc3QgXCIgKyBzaG9waWZ5Q2xpZW50LmNoZWNrb3V0KTtcblxuICAgICAgICBzaG9waWZ5Q2xpZW50LnByb2R1Y3QuZmV0Y2hBbGwoKS50aGVuKChwcm9kdWN0cykgPT4ge1xuXG4gICAgICAgICAgICB0aGlzLnN0YXRlLnByb2R1Y3RzID0gcHJvZHVjdHM7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3RhdGUucHJvZHVjdHMpO1xuXG4gICAgICAgICAgICBpZiAoIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSAhPSBcIi9cIiApIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RJZCA9IGRvbS5tYWluLmZpbmQoXCJbZGF0YS1wcm9kdWN0LWlkXVwiKS5hdHRyKFwiZGF0YS1wcm9kdWN0LWlkXCIpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRQcm9kdWN0KHByb2R1Y3RJZCk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9CaW5kIGFsbCBjbGljayBldmVudHMgaW4gY2FydFxuICAgICAgICAgICAgdGhpcy5iaW5kRXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgICAgICAgICAgY29uZmlnLnNob3BpZnlTeW5jID0gdHJ1ZTtcblxuICAgICAgICB9KTtcblxuICAgIH1cblxuXG5cbiAgICBhcHBlbmRQcm9kdWN0IChwcm9kdWN0SWQpIHtcblxuICAgICAgICAvLyBHZXQgcHJvZHVjdCBmcm9tIFNob3BpZnkgcHJvdWRjdHMgQXJyYXlcbiAgICAgICAgY29uc3QgcHJvZHVjdCA9IHRoaXMuc3RhdGUucHJvZHVjdHMuZmluZCgocHJvZHVjdCkgPT4gcHJvZHVjdC5pZCA9PT0gcHJvZHVjdElkKTtcblxuICAgICAgICAvLyBHZXQgc2VsZWN0IGRyb3Bkb3duIGZvciBtb2RpZmljYXRpb25cbiAgICAgICAgY29uc3QgJHNlbGVjdCA9ICQoXCIuanMtc2hvcC12YXJpYW50c1wiKTtcblxuICAgICAgICAvLyBHZXQgQWRkVG9DYXJ0IGJ1dHRvblxuICAgICAgICBjb25zdCAkYWRkVG9DYXJ0ID0gJChcIi5qcy1hZGQtdG8tY2FydFwiKTtcblxuICAgICAgICAvLyBDb250ZXh0dWFsaXplIENvbnN0cnVjdG9yIE9iamVjdHNcbiAgICAgICAgY29uc3QgJHRoaXNBZGQgPSB0aGlzO1xuXG4gICAgICAgIC8vR2V0IFByaWNlXG4gICAgICAgIGNvbnN0ICRwcmljZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJqcy1wcmljZVwiKTtcblxuXG4gICAgICAgIC8vIEdldCBudW1iZXIgb2YgcHJvZHVjdCB2YXJpYW50c1xuICAgICAgICBjb25zdCBhcnJheUxlbmd0aCA9IHByb2R1Y3QudmFyaWFudHMubGVuZ3RoO1xuXG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCB2YXJpYW50cyBhbmQgY3JlYXRlIGEgc2VsZWN0IGRyb3Bkb3duXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXlMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gcHJvZHVjdC52YXJpYW50c1sgaSBdO1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG5cbiAgICAgICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBvcHRpb24udGl0bGU7XG4gICAgICAgICAgICBlbGVtZW50LnZhbHVlID0gb3B0aW9uLnRpdGxlO1xuICAgICAgICAgICAgZWxlbWVudC5kYXRhc2V0LmlkID0gb3B0aW9uLmlkO1xuICAgICAgICAgICAgZWxlbWVudC5kYXRhc2V0LnByaWNlID0gb3B0aW9uLnByaWNlO1xuXG4gICAgICAgICAgICAkc2VsZWN0LmFwcGVuZChlbGVtZW50KTtcblxuICAgICAgICAgICAgLy8gU2V0IHByaWNlIGluIGRldGFpbCBoZWFkZXJcbiAgICAgICAgICAgIGlmIChpID09IDApIHtcbiAgICAgICAgICAgICAgICBkb20uZnJvbVByaWNlLmlubmVySFRNTCA9IG9wdGlvbi5wcmljZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgdXRpbC5jcmVhdGVTZWxlY3REcm9wRG93bigkc2VsZWN0LCAkcHJpY2UsICRhZGRUb0NhcnQpO1xuXG4gICAgICAgIGxldCBzaW5nbGVDbGljaztcblxuICAgICAgICAkYWRkVG9DYXJ0Lm9uKCBcImNsaWNrXCIsICggZSApID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgY29uc3QgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZiAoc2luZ2xlQ2xpY2sgIT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHNpbmdsZUNsaWNrID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIC8vIEdldCBhdHRyaWJ1dGUgdG8gbWF0Y2ggdG8gaGlkZGVuIHNlbGVjdCBkcm9wZG93blxuICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhbnRJZCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtaWRcIik7XG4gICAgICAgICAgICAgICAgbGV0IHF1YW50aXR5O1xuXG4gICAgICAgICAgICAgICAgLy8gU2VhcmNoIGZvciBleGlzdGluZyBjYXJ0IGl0ZW0sIG9yIGNyZWF0ZSBuZXcgb25lXG4gICAgICAgICAgICAgICAgY29uc3QgY2FydExpbmVJdGVtID0gdGhpcy5maW5kQ2FydEl0ZW1CeVZhcmlhbnRJZCh2YXJpYW50SWQpO1xuXG4gICAgICAgICAgICAgICAgcXVhbnRpdHkgPSBjYXJ0TGluZUl0ZW0gPyBjYXJ0TGluZUl0ZW0ucXVhbnRpdHkgKyAxIDogMTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZE9yVXBkYXRlVmFyaWFudCh2YXJpYW50SWQsIHF1YW50aXR5KTtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzaW5nbGVDbGljayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG5cbiAgICB9XG5cblxuXG4gICAgaW5pdENhcnQgKCkge1xuXG5cbiAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY2hlY2tvdXRJZFwiKSA9PT0gbnVsbCkge1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgYW4gZW1wdHkgKG5ldykgY2hlY2tvdXRcblxuICAgICAgICAgICAgc2hvcGlmeUNsaWVudC5jaGVja291dC5jcmVhdGUoKS50aGVuKChjaGVja291dCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IGNoZWNrb3V0LndlYlVybDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLndlYlVybCA9IHVybC5yZXBsYWNlKFwiam9yZGFuLXNvd2Vycy5teXNob3BpZnlcIiwgXCJjaGVja291dC5qb3JkYW5zb3dlcnNcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5jaGVja291dElkID0gY2hlY2tvdXQuaWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5saW5lSXRlbXMgPSBjaGVja291dC5saW5lSXRlbXM7XG5cblxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY2hlY2tvdXRJZFwiLCBjaGVja291dC5pZCk7IC8vIFN0b3JlIHRoZSBJRCBpbiBsb2NhbFN0b3JhZ2VcblxuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAvLyBSZXRyaWV2ZSBleGlzdGluZyBjYXJ0IGZyb20gbG9jYWxTdG9yYWdlXG5cbiAgICAgICAgICAgIGNvbnN0IGNoZWNrb3V0SWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNoZWNrb3V0SWRcIik7XG5cbiAgICAgICAgICAgIHRoaXMuc3RhdGUuY2hlY2tvdXRJZCA9IGNoZWNrb3V0SWQ7XG5cbiAgICAgICAgICAgIHNob3BpZnlDbGllbnQuY2hlY2tvdXQuZmV0Y2goY2hlY2tvdXRJZCkudGhlbigoY2hlY2tvdXQpID0+IHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IGNoZWNrb3V0LndlYlVybDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLndlYlVybCA9IHVybC5yZXBsYWNlKFwiam9yZGFuLXNvd2Vycy5teXNob3BpZnlcIiwgXCJjaGVja291dC5qb3JkYW5zb3dlcnNcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5jaGVja291dCA9IGNoZWNrb3V0O1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUubGluZUl0ZW1zID0gY2hlY2tvdXQubGluZUl0ZW1zO1xuXG5cbiAgICAgICAgICAgICAgICAvLyBVcGRkYXRlIENhcnQgUXR5IGFuZCBDcmVhdGUgTGluZSBJdGVtc1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2FydFF1YW50aXR5KGNoZWNrb3V0LmxpbmVJdGVtcyk7XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjaGVja291dC5saW5lSXRlbXMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrb3V0LmxpbmVJdGVtcy5sZW5ndGggPj0gMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrb3V0QnRuLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgdGhpcy5zdGF0ZS53ZWJVcmwgKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja291dEJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRvdGFsLmlubmVyVGV4dCA9IGAkJHsgY2hlY2tvdXQuc3VidG90YWxQcmljZX1gO1xuICAgICAgICAgICAgICAgIC8vdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gY2hlY2tvdXQubGluZUl0ZW1zXG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNhcnRJdGVtcygpO1xuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICB9XG5cblxuXG4gICAgdG9nZ2xlQ2FydCAoZSkge1xuXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmNhcnRPcGVuID09IHRydWUpIHtcblxuICAgICAgICAgICAgJChkb20uaHRtbCkucmVtb3ZlQ2xhc3MoXCJzaG93LWNhcnRcIik7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmNhcnRPcGVuID0gZmFsc2U7XG5cbiAgICBcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlKXtcbiAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tvdXRCdG4uY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xuICAgICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkKGRvbS5odG1sKS5yZW1vdmVDbGFzcyhcImRpc3BsYXktY2FydFwiKTtcbiAgICAgICAgICAgIH0sIDEwMDApO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKGRvbS5odG1sKS5hZGRDbGFzcyhcImRpc3BsYXktY2FydFwiKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuY2FydE9wZW4gPSB0cnVlO1xuXG5cbiAgICAgICAgICAgIC8vIFJlY2FsY3VsYXRlIGhlaWdodCBvZiBjYXJ0IGl0ZW0gY29udGFpbmVyXG4gICAgICAgICAgICB1dGlsLnVwZGF0ZUNhcnRJdGVtQ29udGFpbmVyKCk7XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICQoZG9tLmh0bWwpLmFkZENsYXNzKFwic2hvdy1jYXJ0XCIpO1xuICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxuICAgIHJlbmRlckNhcnRJdGVtIChsaW5lSXRlbSkge1xuXG4gICAgICAgIGNvbnN0IGxpbmVJdGVtVGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb25zdCBwcm9kdWN0VXJsID0gbGluZUl0ZW0udGl0bGUucmVwbGFjZSgvXFxzKy9nLCBcIi1cIikudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICBsaW5lSXRlbVRlbXBsYXRlLmNsYXNzTGlzdC5hZGQoXCJjYXJ0LWl0ZW1cIik7XG4gICAgICAgIGxpbmVJdGVtVGVtcGxhdGUuc2V0QXR0cmlidXRlKFwiZGF0YS1wcm9kdWN0XCIsIHByb2R1Y3RVcmwpO1xuICAgICAgICBsaW5lSXRlbVRlbXBsYXRlLnNldEF0dHJpYnV0ZShcImRhdGEtdmFyaWFudC1pZFwiLCBsaW5lSXRlbS52YXJpYW50LmlkKTtcblxuICAgICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoNFwiKTtcblxuICAgICAgICB0aXRsZS5jbGFzc0xpc3QuYWRkKFwiaDJcIik7XG4gICAgICAgIHRpdGxlLmNsYXNzTGlzdC5hZGQoXCJoMlwiLCBgJHtsaW5lSXRlbS50aXRsZS5yZXBsYWNlKC9cXHMrL2csIFwiLVwiKS50b0xvd2VyQ2FzZSgpIH0tc3R5bGVzYCApO1xuXG4gICAgICAgIHRpdGxlLmlubmVySFRNTCA9IGxpbmVJdGVtLnRpdGxlO1xuXG4gICAgICAgIGNvbnN0IGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgY29uc3QgaW1hZ2VDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb25zdCBpbWFnZVNyYyA9IGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW4gfS9pbWcvJHsgcHJvZHVjdFVybCB9L2pvcmRhbnNvd2Vycy0keyBwcm9kdWN0VXJsIH1fNzAwLmpwZ2A7XG5cbiAgICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlKFwic3JjXCIsIGltYWdlU3JjKTtcbiAgICAgICAgaWYgKGxpbmVJdGVtLnZhcmlhbnQuc2t1KSB7XG4gICAgICAgICAgICBpbWFnZS5jbGFzc0xpc3QuYWRkKGxpbmVJdGVtLnZhcmlhbnQuc2t1KTtcbiAgICAgICAgfSAvL1JlbW92ZSBvbmNlIGFsbCB2YXJpYW50cyBhcmUgYWRkZWRcbiAgICAgICAgaW1hZ2VDb250YWluZXIuaW5uZXJIVE1MICs9IGltYWdlLm91dGVySFRNTDtcblxuICAgICAgICBjb25zdCB2YXJpYW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG5cbiAgICAgICAgdmFyaWFudC5jbGFzc0xpc3QuYWRkKFwicFwiKTtcbiAgICAgICAgdmFyaWFudC5pbm5lckhUTUwgPSBsaW5lSXRlbS52YXJpYW50LnRpdGxlO1xuXG4gICAgICAgIGNvbnN0IHByaWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG5cbiAgICAgICAgcHJpY2UuY2xhc3NMaXN0LmFkZChcInBcIiwgXCJqcy1pdGVtLXByaWNlXCIpO1xuICAgICAgICBjb25zdCBwcmljZUNhbGN1bGF0aW9uID0gKHBhcnNlSW50KGxpbmVJdGVtLnF1YW50aXR5KSAqIHBhcnNlSW50KGxpbmVJdGVtLnZhcmlhbnQucHJpY2UpKTtcblxuICAgICAgICBwcmljZS5pbm5lckhUTUwgPSBgJCR7IChwcmljZUNhbGN1bGF0aW9uKS50b0ZpeGVkKDIpLnJlcGxhY2UoL1xcZCg/PShcXGR7M30pK1xcLikvZywgXCIkJixcIil9YDtcblxuXG4gICAgICAgIGNvbnN0IHF1YW50aXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG5cbiAgICAgICAgcXVhbnRpdHkuY2xhc3NMaXN0LmFkZChcInBcIiwgXCJqcy1pdGVtLXF1YW50aXR5XCIpO1xuICAgICAgICBxdWFudGl0eS5pbm5lckhUTUwgPSBsaW5lSXRlbS5xdWFudGl0eTtcbiAgICAgICAgcXVhbnRpdHkuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgbGluZUl0ZW0ucXVhbnRpdHkpO1xuXG4gICAgICAgIGNvbnN0IGluY3JlYXNlUXVhbnRpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcblxuICAgICAgICBpbmNyZWFzZVF1YW50aXR5LmNsYXNzTGlzdC5hZGQoXCJqcy1pbmNyZWFzZS1xdWFudGl0eVwiLCBcImluY3JlYXNlLXF1YW50aXR5XCIpO1xuICAgICAgICBpbmNyZWFzZVF1YW50aXR5LnNldEF0dHJpYnV0ZShcImRhdGEtdmFyaWFudC1pZFwiLCBsaW5lSXRlbS5pZCk7XG5cbiAgICAgICAgY29uc3QgZGVjcmVhc2VRdWFudGl0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuXG4gICAgICAgIGRlY3JlYXNlUXVhbnRpdHkuY2xhc3NMaXN0LmFkZChcImpzLWRlY3JlYXNlLXF1YW50aXR5XCIsIFwiZGVjcmVhc2UtcXVhbnRpdHlcIik7XG4gICAgICAgIGRlY3JlYXNlUXVhbnRpdHkuc2V0QXR0cmlidXRlKFwiZGF0YS12YXJpYW50LWlkXCIsIGxpbmVJdGVtLmlkKTtcblxuXG4gICAgICAgIC8vIHZhciBxdWFudGl0eUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIC8vIHF1YW50aXR5Q29udGFpbmVyLmlubmVySFRNTCArPSBkZWNyZWFzZVF1YW50aXR5Lm91dGVySFRNTCArIHF1YW50aXR5Lm91dGVySFRNTCArIGluY3JlYXNlUXVhbnRpdHkub3V0ZXJIVE1MO1xuXG4gICAgICAgIGNvbnN0IGluZm9ybWF0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IGluZm9ybWF0aW9uV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICAgICAgaW5mb3JtYXRpb25XcmFwcGVyLmlubmVySFRNTCArPSB0aXRsZS5vdXRlckhUTUwgKyBkZWNyZWFzZVF1YW50aXR5Lm91dGVySFRNTCArIHZhcmlhbnQub3V0ZXJIVE1MICsgcXVhbnRpdHkub3V0ZXJIVE1MICsgcHJpY2Uub3V0ZXJIVE1MO1xuICAgICAgICBpbmZvcm1hdGlvbkNvbnRhaW5lci5pbm5lckhUTUwgKz0gaW5mb3JtYXRpb25XcmFwcGVyLm91dGVySFRNTDtcblxuICAgICAgICAvLyBBcHBlbmQgKyBjcmVhdGUgZWxlbWVudFxuICAgICAgICAvLyBsaW5lSXRlbVRlbXBsYXRlLmlubmVySFRNTCArPSBpbWFnZS5vdXRlckhUTUwgKyB0aXRsZS5vdXRlckhUTUwgKyB2YXJpYW50Lm91dGVySFRNTCArIHF1YW50aXR5Q29udGFpbmVyLm91dGVySFRNTCArIHByaWNlLm91dGVySFRNTDtcbiAgICAgICAgbGluZUl0ZW1UZW1wbGF0ZS5pbm5lckhUTUwgKz0gaW1hZ2VDb250YWluZXIub3V0ZXJIVE1MICsgaW5mb3JtYXRpb25Db250YWluZXIub3V0ZXJIVE1MO1xuXG4gICAgICAgIHJldHVybiBsaW5lSXRlbVRlbXBsYXRlO1xuXG4gICAgfVxuXG5cbiAgICByZW5kZXJDYXJ0SXRlbXMgKCkge1xuXG4gICAgICAgIGNvbnN0IHJlbmRlckl0ZW0gPSB0aGlzLnJlbmRlckNhcnRJdGVtO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcblxuXG4gICAgICAgIC8vIENyZWF0ZSBDYXJ0IExpbmUgSXRlbXNcbiAgICAgICAgY29uc3QgY2FydExpbmVJdGVtcyA9IHRoaXMuc3RhdGUubGluZUl0ZW1zLm1hcCgobGluZUl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVuZGVySXRlbShsaW5lSXRlbSwgY29udGFpbmVyKTtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICAvLyBDcmVhdGUgYSBuZXcgZnJhZ2VtZW50IGZyb20gQXJyYXlcbiAgICAgICAgY29uc3QgZnJhZ0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYXJ0TGluZUl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmcmFnRWxlbWVudC5hcHBlbmRDaGlsZChjYXJ0TGluZUl0ZW1zWyBpIF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2FydEl0ZW1zID0gdGhpcy5zdGF0ZS5saW5lSXRlbXM7XG5cblxuICAgICAgICAvLyBBcHBlbmRzIEFycmF5IG9mIERpdnNcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGZyYWdFbGVtZW50KTtcblxuICAgICAgICAvLyBTaG93IEl0ZW0gaW4gQ2FydCDigJQgaWYgdGhleSBleGlzdCAoc2VsZWN0IGFuZCByZW1vdmUgaGlkZS1pdGVtIGNsYXNzKVxuXG4gICAgICAgIGlmIChjYXJ0SXRlbXMubGVuZ3RoID49IDEpIHtcbiAgICAgICAgICAgIGNvbnN0ICRpdGVtID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FydC1pdGVtXCIpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRpdGVtLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgJGl0ZW1bIGkgXS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZS1pdGVtXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhcnRJdGVtcy5sZW5ndGggPj0gMikge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJzY3JvbGxhYmxlLWJvcmRlclwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG5cblxuXG4gICAgZmluZENhcnRJdGVtQnlWYXJpYW50SWQgKHZhcmlhbnRJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5saW5lSXRlbXMuZmlsdGVyKChpdGVtKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKGl0ZW0udmFyaWFudC5pZCA9PT0gdmFyaWFudElkKTtcbiAgICAgICAgfSlbIDAgXTtcbiAgICB9XG5cblxuICAgIGFkZE9yVXBkYXRlVmFyaWFudCAodmFyaWFudElkLCBxdWFudGl0eSkge1xuICAgICAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy50b2dnbGVDYXJ0KCk7XG5cbiAgICAgICAgLy8gU2hvdyBkZXRhaWwgbmF2aWdhdGlvblxuICAgICAgICBkb20ubmF2aS5yZW1vdmVDbGFzcyhcImhpZGUtbmF2XCIpO1xuXG4gICAgICAgIGNvbnN0IGNhcnRMaW5lSXRlbSA9IHRoaXMuZmluZENhcnRJdGVtQnlWYXJpYW50SWQodmFyaWFudElkKTtcblxuICAgICAgICBpZiAoY2FydExpbmVJdGVtKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZhcmlhbnRJbkNhcnQoY2FydExpbmVJdGVtLCBxdWFudGl0eSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9uQWRkQ2FydCh2YXJpYW50SWQpO1xuICAgICAgICB9XG5cbiAgICB9XG5cblxuXG4gICAgb25BZGRDYXJ0ICh2YXJpYW50SWQpIHtcblxuICAgICAgICBjb25zdCBjaGVja291dElkID0gdGhpcy5zdGF0ZS5jaGVja291dElkO1xuXG4gICAgICAgIGNvbnN0IGxpbmVJdGVtc1RvQWRkID0gW1xuICAgICAgICAgICAgeyB2YXJpYW50SWQsIHF1YW50aXR5OiAxIH1cbiAgICAgICAgXTtcblxuICAgICAgICAvLyBBZGQgYW4gaXRlbSB0byB0aGUgY2hlY2tvdXRcbiAgICAgICAgc2hvcGlmeUNsaWVudC5jaGVja291dC5hZGRMaW5lSXRlbXMoY2hlY2tvdXRJZCwgbGluZUl0ZW1zVG9BZGQpLnRoZW4oKGNoZWNrb3V0KSA9PiB7XG5cbiAgICAgICAgICAgIHRoaXMuc3RhdGUuY2FydEl0ZW1zID0gY2hlY2tvdXQubGluZUl0ZW1Db3VudCB8fCAwO1xuICAgICAgICAgICAgY29uc3QgdXJsID0gY2hlY2tvdXQud2ViVXJsO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS53ZWJVcmwgPSB1cmwucmVwbGFjZShcImpvcmRhbi1zb3dlcnMubXlzaG9waWZ5XCIsIFwiY2hlY2tvdXQuam9yZGFuc293ZXJzXCIpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5saW5lSXRlbXMgPSBjaGVja291dC5saW5lSXRlbXM7XG5cbiAgICAgICAgICAgIGNvbnN0IGNhcnRJdGVtID0gY2hlY2tvdXQubGluZUl0ZW1zLmZpbHRlcigoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoaXRlbS52YXJpYW50LmlkID09PSB2YXJpYW50SWQpO1xuICAgICAgICAgICAgfSlbIDAgXTtcblxuICAgICAgICAgICAgY29uc3QgJGNhcnRJdGVtID0gdGhpcy5yZW5kZXJDYXJ0SXRlbShjYXJ0SXRlbSk7XG4gICAgICAgICAgICBjb25zdCAkY2FydEl0ZW1Db250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcblxuICAgICAgICAgICAgJGNhcnRJdGVtQ29udGFpbmVyLmFwcGVuZENoaWxkKCRjYXJ0SXRlbSk7XG4gICAgICAgICAgICBjb25zdCAkY2FydEl0ZW1zID0gJGNhcnRJdGVtQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuaGlkZS1pdGVtXCIpO1xuXG4gICAgICAgICAgICAvL0FkZCBib3JkZXIgdG8gdG9wIG9mIGNhcnQgY29udHJvbHMgaWYgbW9yZSB0aGFuIG9uZSBwcm9kdWN0VGl0bGVcbiAgICAgICAgICAgIGlmIChjaGVja291dC5saW5lSXRlbXMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwic2Nyb2xsYWJsZS1ib3JkZXJcIik7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgLy8gU2hvdyBpdGVtcyBpbiBjYXJ0LCByZW1vdmUgaGlkZSBjbGFzc1xuICAgICAgICAgICAgLy8gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyAgIGZvciAodmFyIGkgPSAwOyBpIDwgJGNhcnRJdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gICAgICRjYXJ0SXRlbXNbaV0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZS1pdGVtJylcbiAgICAgICAgICAgIC8vICAgfVxuICAgICAgICAgICAgLy8gfSwgMClcblxuICAgICAgICAgICAgLy8gR2F0aGVyIG5ldyBRdWFudGl0eVxuICAgICAgICAgICAgdGhpcy5nZXRDYXJ0UXVhbnRpdHkoY2hlY2tvdXQubGluZUl0ZW1zKTtcbiAgICAgICAgICAgIHRoaXMudG90YWwuaW5uZXJUZXh0ID0gYCQkeyBjaGVja291dC5zdWJ0b3RhbFByaWNlfWA7XG4gICAgICAgICAgICB0aGlzLmluY3JlYXNlID0gJChcIi5qcy1pbmNyZWFzZS1xdWFudGl0eVwiKTtcbiAgICAgICAgfSk7XG5cbiAgICB9XG5cblxuXG4gICAgdXBkYXRlUXVhbnRpdHkgKGZuLCBjYXJ0SXRlbUlkKSB7XG5cbiAgICAgICAgY29uc3QgY2FydEl0ZW1zID0gdGhpcy5zdGF0ZS5saW5lSXRlbXM7XG5cbiAgICAgICAgY29uc3QgY2FydExpbmVJdGVtID0gY2FydEl0ZW1zLmZpbHRlcigodmFyaWFudCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICh2YXJpYW50LmlkID09PSBjYXJ0SXRlbUlkICk7XG4gICAgICAgIH0pWyAwIF07XG5cbiAgICAgICAgbGV0IHF1YW50aXR5O1xuXG4gICAgICAgIGlmIChjYXJ0TGluZUl0ZW0pIHtcbiAgICAgICAgICAgIHF1YW50aXR5ID0gZm4oY2FydExpbmVJdGVtLnF1YW50aXR5KTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmFyaWFudEluQ2FydChjYXJ0TGluZUl0ZW0sIHF1YW50aXR5KTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgZGVjcmVhc2VRdWFudGl0eSAoY2FydEl0ZW1JZCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVF1YW50aXR5KChxdWFudGl0eSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHF1YW50aXR5IC0gMTtcbiAgICAgICAgfSwgY2FydEl0ZW1JZCk7XG4gICAgfVxuXG5cbiAgICBpbmNyZWFzZVF1YW50aXR5IChjYXJ0SXRlbUlkKSB7XG4gICAgICAgIHRoaXMudXBkYXRlUXVhbnRpdHkoKHF1YW50aXR5KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcXVhbnRpdHkgKyAxO1xuICAgICAgICB9LCBjYXJ0SXRlbUlkKTtcbiAgICB9XG5cblxuICAgIGdldENhcnRRdWFudGl0eSAoaXRlbXMpIHtcblxuICAgICAgICBsZXQgY2FydFF1YW50aXR5ID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBBZGQgdXAgYWxsIHF1YW50aXRpZXMgZm9yIHRvdGFsIGNhcnRJdGVtc1xuICAgICAgICAgICAgY2FydFF1YW50aXR5ICs9IHBhcnNlSW50KGl0ZW1zWyBpIF0ucXVhbnRpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGF0ZS5jYXJ0SXRlbXMgPSBjYXJ0UXVhbnRpdHk7XG5cblxuXG4gICAgICAgIGlmIChjYXJ0UXVhbnRpdHkgPj0gMSkge1xuICAgICAgICAgICAgZG9tLmNhcnROdW1iZXJbIDAgXS5pbm5lclRleHQgPSB0aGlzLnN0YXRlLmNhcnRJdGVtcztcbiAgICAgICAgICAgIGRvbS5jYXJ0QmFkZ2UuYWRkQ2xhc3MoXCJoYXMtaXRlbXNcIik7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrb3V0QnRuLmhhc0F0dHJpYnV0ZShcImhyZWZcIikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrb3V0QnRuLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgdGhpcy5zdGF0ZS53ZWJVcmwgKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrb3V0QnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb20uY2FydEJhZGdlLnJlbW92ZUNsYXNzKFwiaGFzLWl0ZW1zXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuY2FydE9wZW4gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlQ2FydCh0cnVlKTsgLy9BZGRzIGNsYXNzIHRvIGhpZGUgLyBzaG93IGVtcHR5IGNhcnQgZWxlbWVudHNcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrb3V0QnRuLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgXCJcIiApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG5cblxuICAgIHVwZGF0ZVZhcmlhbnRJbkNhcnQgKGNhcnRMaW5lSXRlbSwgcXVhbnRpdHkpIHtcblxuXG4gICAgICAgIGNvbnN0IHZhcmlhbnRJZCA9IGNhcnRMaW5lSXRlbS52YXJpYW50LmlkO1xuICAgICAgICBjb25zdCBjYXJ0TGVuZ3RoID0gdGhpcy5zdGF0ZS5saW5lSXRlbXMubGVuZ3RoO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcblxuICAgICAgICBjb25zdCBsaW5lSXRlbXNUb1VwZGF0ZSA9IFtcbiAgICAgICAgICAgIHsgaWQ6IGNhcnRMaW5lSXRlbS5pZCwgcXVhbnRpdHkgfVxuICAgICAgICBdO1xuXG4gICAgICAgIGNvbnN0ICRjYXJ0SXRlbSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGAuY2FydC1pdGVtW2RhdGEtdmFyaWFudC1pZD1cIiR7IHZhcmlhbnRJZCB9XCJdYCk7XG5cblxuICAgICAgICBpZiAocXVhbnRpdHkgPT0gMCkge1xuICAgICAgICAgICAgLy8gSGlkZSBhbmQgcmVtb3ZlIGRvbSBvYmplY3Qgb2YgY2FydC1pdGVtXG4gICAgICAgICAgICAkY2FydEl0ZW0uY2xhc3NMaXN0LmFkZChcInJlbW92ZS1pdGVtXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRmFkZSBpdGVtIHRvIHNob3cgdXBkYXRlIGluIHByb2dyZXNzXG4gICAgICAgICAgICAkY2FydEl0ZW0uY2xhc3NMaXN0LmFkZChcInVwZGF0aW5nLWl0ZW1cIik7XG4gICAgICAgIH1cblxuICAgICAgICBzaG9waWZ5Q2xpZW50LmNoZWNrb3V0LnVwZGF0ZUxpbmVJdGVtcyh0aGlzLnN0YXRlLmNoZWNrb3V0SWQsIGxpbmVJdGVtc1RvVXBkYXRlKS50aGVuKChjaGVja291dCkgPT4ge1xuXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmxpbmVJdGVtcyA9IGNoZWNrb3V0LmxpbmVJdGVtcztcblxuICAgICAgICAgICAgLy8gR2F0aGVyIG5ldyBRdWFudGl0eVxuICAgICAgICAgICAgdGhpcy5nZXRDYXJ0UXVhbnRpdHkoY2hlY2tvdXQubGluZUl0ZW1zKTtcblxuXG5cbiAgICAgICAgICAgIGlmIChjaGVja291dC5saW5lSXRlbXMubGVuZ3RoID49IGNhcnRMZW5ndGgpIHtcblxuICAgICAgICAgICAgICAgIC8vIEZpbHRlciBjYXJ0IGZvciB1cGRhdGVkIGxpbmUgaXRlbSB0byB1cGRhdGUgcHJpY2luZyBhbmQgcXR5XG4gICAgICAgICAgICAgICAgY29uc3QgY2FydExpbmVJdGVtID0gY2hlY2tvdXQubGluZUl0ZW1zLmZpbHRlcigoaGVybykgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGVyby52YXJpYW50LmlkID09IHZhcmlhbnRJZDtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vVXBkYXRlIFF1YW50aXR5IGFuZCBQcmljaW5nXG4gICAgICAgICAgICAgICAgJGNhcnRJdGVtLnF1ZXJ5U2VsZWN0b3IoXCIuanMtaXRlbS1xdWFudGl0eVwiKS5pbm5lckhUTUwgPSBjYXJ0TGluZUl0ZW1bIDAgXS5xdWFudGl0eTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmljZUNhbGN1bGF0aW9uID0gKHBhcnNlSW50KGNhcnRMaW5lSXRlbVsgMCBdLnF1YW50aXR5KSAqIHBhcnNlSW50KGNhcnRMaW5lSXRlbVsgMCBdLnZhcmlhbnQucHJpY2UpKTtcblxuICAgICAgICAgICAgICAgICRjYXJ0SXRlbS5xdWVyeVNlbGVjdG9yKFwiLmpzLWl0ZW0tcHJpY2VcIikuaW5uZXJUZXh0ID0gYCQkeyAocHJpY2VDYWxjdWxhdGlvbikudG9GaXhlZCgyKS5yZXBsYWNlKC9cXGQoPz0oXFxkezN9KStcXC4pL2csIFwiJCYsXCIpfWA7XG5cblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAkY2FydEl0ZW0ucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfSwgNzAwKTtcblxuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIC8vcmVtb3ZlIGJvcmRlciB0byB0b3Agb2YgY2FydCBjb250cm9scyBpZiBtb3JlIHRoYW4gb25lIHByb2R1Y3RUaXRsZVxuICAgICAgICAgICAgaWYgKGNoZWNrb3V0LmxpbmVJdGVtcy5sZW5ndGggPD0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJzY3JvbGxhYmxlLWJvcmRlclwiKTtcbiAgICAgICAgICAgIH1cblxuXG5cbiAgICAgICAgICAgIHRoaXMudG90YWwuaW5uZXJUZXh0ID0gYCQkeyBjaGVja291dC5zdWJ0b3RhbFByaWNlfWA7XG5cbiAgICAgICAgICAgIC8vIFJldHVybiB0ZXh0IHRvIGZ1bGwgdHJhbnNwYXJlbmN5LlxuICAgICAgICAgICAgJGNhcnRJdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJ1cGRhdGluZy1pdGVtXCIpO1xuXG4gICAgICAgICAgICAvL2RvbS5jYXJ0TnVtYmVyLmlubmVyVGV4dCA9IHRoaXMuc3RhdGUuY2FydEl0ZW1zO1xuXG4gICAgICAgICAgICAvLyB1cGRhdGVDYXJ0VGFiQnV0dG9uKCk7XG4gICAgICAgICAgICAvLyB1cGRhdGVUb3RhbENhcnRQcmljaW5nKCk7XG4gICAgICAgICAgICAvLyBpZiAodXBkYXRlZENhcnQubGluZUl0ZW1zLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIC8vICAgY2xvc2VDYXJ0KCk7XG4gICAgICAgICAgICAvLyBkb20uY2FydEJhZGdlLnJlbW92ZUNsYXNzKFwiaGFzLWl0ZW1zXCIpXG4gICAgICAgICAgICAvLyB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuXG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzb3VyY2UvanMvY2xhc3Mvc2hvcGlmeUFwcC5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFJQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7Ozs7Ozs7OztBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7O0FBR0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTs7O0FBSUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBOzs7QUFJQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7OztBQUlBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBSUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQXRsQkEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///90\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _core = __webpack_require__(/*! ./core */ 10);\n\nvar core = _interopRequireWildcard(_core);\n\nvar _Mousemove = __webpack_require__(/*! ./class/Mousemove */ 45);\n\nvar _Mousemove2 = _interopRequireDefault(_Mousemove);\n\nvar _canvas = __webpack_require__(/*! ./class/canvas */ 96);\n\nvar _canvas2 = _interopRequireDefault(_canvas);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n// import config from "./core/config";\n// import * as util from "./core/util";\n\nvar config = core.config;\nvar util = core.util;\n\n/**\n *\n * @public\n * @namespace intro\n * @description Performs the branded load-in screen sequence.\n * @memberof menus\n *\n */\nvar intro = {\n\n    /**\n    *\n    * @public\n    * @method init\n    * @memberof menus.intro\n    * @description Method initializes intro node in DOM.\n    *\n    */\n    init: function init() {\n\n        if (document.documentElement.classList.contains("is-home-page")) {\n\n            if (config.scrollContainer == window) {\n                config.scrollContainer.scroll(0, 0);\n            } else {\n                config.scrollContainer.scrollTop = 0;\n            }\n\n            core.dom.intro.addClass("is-active");\n\n            core.emitter.on("app--intro-run", this.cover.bind(this));\n        } else {\n\n            if (config.scrollContainer == window) {\n                config.scrollContainer.scroll(0, 0);\n            } else {\n                config.scrollContainer.scrollTop = 0;\n            }\n\n            core.emitter.on("app--intro-run", this.detail.bind(this));\n        }\n    },\n\n\n    /**\n    *\n    * @public\n    * @method cover\n    * @memberof menus.intro\n    * @description Cover page intro events\n    *\n    */\n\n    cover: function cover() {\n\n        util.calculateImageScrolls();\n\n        // Fade in intro page\n\n\n        if (config.isTouch != true) {\n\n            this.canvas = new _canvas2.default();\n        } else {\n            core.dom.root.addClass("show");\n            core.dom.canvas.remove();\n        }\n\n        // Center hero image in viewport with translate on touch\n\n        if (config.isTouch === true) {\n\n            var img = core.dom.hero.querySelector("img");\n\n            var imgContainer = core.dom.hero.querySelector(".vertical-align-container");\n\n            var height = imgContainer.clientHeight - img.clientHeight;\n\n            height = core.dom.hero.clientHeight - height;\n\n            height = window.innerHeight / 2 - height / 2;\n\n            core.dom.hero.style.transform = "translate3d(0px," + height + "px, 0px)";\n        }\n\n        this.mouseMove = new _Mousemove2.default();\n\n        // Scroll or swipe to close Intro\n\n        if (config.isTouch != true) {\n\n            // Click to close Intro\n\n\n            core.dom.intro.on("click", function (e) {\n                intro.teardown(500);\n            });\n\n            // core.dom.doc.on(\'wheel\', function(event){\n            //\n            //   if (event.deltaY >= 60) {\n            //     intro.teardown(500);\n            //     core.dom.doc.off("wheel")\n            //   }\n            // });\n        } else {\n\n            document.body.style.position = "fixed";\n\n            var ts;\n            core.dom.doc.on(\'touchstart\', function (e) {\n                ts = e.touches[0].clientY;\n                //console.log(ts);\n            });\n\n            core.dom.doc.on(\'touchend\', function (e) {\n                var te = e.changedTouches[0].clientY;\n                var teTs = te + ts / 3;\n\n                if (ts > te + 10) {\n\n                    setTimeout(function () {\n                        intro.teardown(500);\n                        document.body.style.position = "relative";\n                        core.dom.doc.off("touchend");\n                        core.dom.doc.off("touchstart");\n                    }, 400);\n                } else if (ts === te) {\n\n                    intro.teardown(500);\n                    core.dom.doc.off("touchend");\n                    core.dom.doc.off("touchstart");\n                    document.body.style.position = "relative";\n                }\n            });\n\n            // core.dom.doc.on(\'touchend\', function (e){\n            //    var te = e.changedTouches[0].clientY;\n            //\n            //    if(ts > te-5){\n            //      console.log("touchends");\n            //     intro.teardown(500);\n            //     core.dom.doc.off("touchend")\n            //     document.body.style.position = "relative"\n            //      core.dom.doc.off("touchstart")\n            //      core.dom.doc.off("touchmove")\n            //    }\n            // });\n        }\n    },\n    detail: function detail() {\n\n        util.calculateImageScrolls();\n\n        core.dom.intro.remove();\n\n        core.dom.root.addClass("show");\n\n        var tl = new TimelineLite();\n\n        tl.to(core.dom.overlay, 2.4, { y: "-100%", ease: Circ.easeInOut }).call(function () {\n            core.dom.body.addClass("init-page");\n        }, [], this, "-=1.2").from(core.dom.detailOverlay, 1.5, { y: "5%", ease: Power1.easeOut }, "-=1.4").to(core.dom.detailContainer, 1.5, { y: "0", ease: Power1.easeOut }, "-=1.5").call(function () {\n\n            core.dom.body.removeClass("intro-detail").removeClass("show-overlay");\n        }).to(core.dom.detailContainer, 1.5, { opacity: "1" }, "-=1.25").call(function () {\n            core.dom.loop.addClass("hidden");\n        }).to(core.dom.fixedNavigation, 0.1, { opacity: "1", ease: Power1.easeOut }, "-=1").from(core.dom.navi, 0.5, { opacity: "0", ease: Power1.easeOut }, "-=1").call(function () {\n\n            core.dom.navi.removeAttr("style");\n            core.dom.body.removeClass("scrollstop");\n        });\n\n        config.textTransform = true;\n\n        config.disableLoop = true;\n\n        // Gather height to determine headerFade color change distance\n\n        this.overlayHeight = core.dom.detailOverlay[0].clientHeight;\n\n        this.navHeight = core.dom.naviHeight.getBoundingClientRect().top + window.scrollY;\n\n        config.scrollDistance = this.overlayHeight - 2 - this.navHeight * 1.75 + window.innerHeight;\n\n        // Add class to elements that should animate after intro\n\n        core.dom.loop.find(".js-delay-mouse").addClass("js-transform-mouse-text");\n    },\n    teardown: function teardown(duration) {\n\n        core.dom.body.removeClass("-dark-background");\n\n        core.dom.body.addClass("fade-intro");\n\n        this.mouseMove.destroy();\n\n        core.dom.app.classList.remove("scrollstop");\n\n        if (config.isTouch != true) {\n            this.canvas.destroy();\n        }\n\n        var tl = new TimelineLite();\n\n        if (config.scrollContainer == window) {\n            config.scrollContainer.scroll(0, 2);\n        } else {\n            config.scrollContainer.scrollTop = 2;\n        }\n\n        core.dom.intro.removeClass("is-active");\n\n        //Remove center alignment for hero image on touch devices\n\n        if (config.isTouch === true) {\n\n            core.dom.hero.style.transform = "none";\n\n            var overlayDuration = 0.8; // Faster duration of removing the overlay\n        } else {\n\n            var overlayDuration = 1; // Default duration of removing the overlay\n        }\n\n        // Animate transition to infinite loop\n\n        tl.to(core.dom.overlay, overlayDuration, { y: "-100%", ease: Circ.easeInOut }).call(function () {\n\n            core.dom.body.addClass("hide-intro").removeClass("scrollstop");\n\n            core.dom.overlay.removeClass("-back");\n            core.dom.detailOverlay.removeClass("-back");\n\n            core.dom.overlay.removeAttr("style");\n\n            if (config.isTouch === true) {\n                core.dom.loop.addClass("activate-scroll");\n            } else {\n                core.dom.canvas.remove(); //Remove canvas element\n            }\n\n            core.dom.intro.remove();\n\n            core.dom.work.find(".js-lazy-image").removeClass("js-transform-mouse-back");\n\n            // $(config.lazyImageSelector).removeClass("js-transform-mouse-back");\n\n\n            // var canvasElement = document.getElementById(\'canvas\')\n            //\n            // canvasElement.parentNode.removeChild(canvasElement);\n\n            //Set up mouse hovers on home\n\n\n            if (config.isTouch != true) {\n\n                // Add class to elements that should animate after intro\n\n                var $hoverTitle = document.getElementsByClassName("js-delay-mouse");\n\n                for (var i = 0; i < $hoverTitle.length; i++) {\n                    $hoverTitle[i].classList.add("js-transform-mouse-text"); // Add mouse movement watch class\n                }\n\n                config.textTransform = true;\n\n                this.mouseMove = new _Mousemove2.default();\n            }\n        });\n    }\n};\n\n/******************************************************************************\n * Export\n *******************************************************************************/\nexports.default = intro;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc291cmNlL2pzL2ludHJvLmpzP2I0ZDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgY29yZSBmcm9tIFwiLi9jb3JlXCI7XG5pbXBvcnQgTW91c2Vtb3ZlIGZyb20gXCIuL2NsYXNzL01vdXNlbW92ZVwiO1xuaW1wb3J0IGNhbnZhcyBmcm9tIFwiLi9jbGFzcy9jYW52YXNcIjtcbi8vIGltcG9ydCBjb25maWcgZnJvbSBcIi4vY29yZS9jb25maWdcIjtcbi8vIGltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4vY29yZS91dGlsXCI7XG5cbmNvbnN0IGNvbmZpZyA9IGNvcmUuY29uZmlnO1xuY29uc3QgdXRpbCA9IGNvcmUudXRpbDtcblxuLyoqXG4gKlxuICogQHB1YmxpY1xuICogQG5hbWVzcGFjZSBpbnRyb1xuICogQGRlc2NyaXB0aW9uIFBlcmZvcm1zIHRoZSBicmFuZGVkIGxvYWQtaW4gc2NyZWVuIHNlcXVlbmNlLlxuICogQG1lbWJlcm9mIG1lbnVzXG4gKlxuICovXG5jb25zdCBpbnRybyA9IHtcblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZXRob2QgaW5pdFxuXHQgKiBAbWVtYmVyb2YgbWVudXMuaW50cm9cblx0ICogQGRlc2NyaXB0aW9uIE1ldGhvZCBpbml0aWFsaXplcyBpbnRybyBub2RlIGluIERPTS5cblx0ICpcblx0ICovXG4gICAgaW5pdCAoKSB7XG5cbiAgICAgICAgaWYgKFx0ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImlzLWhvbWUtcGFnZVwiKSApIHtcblxuICAgICAgICAgICAgaWYgKCBjb25maWcuc2Nyb2xsQ29udGFpbmVyID09IHdpbmRvdyApIHtcbiAgICAgICAgICAgICAgICBjb25maWcuc2Nyb2xsQ29udGFpbmVyLnNjcm9sbCgwLCAwKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLnNjcm9sbENvbnRhaW5lci5zY3JvbGxUb3AgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb3JlLmRvbS5pbnRyby5hZGRDbGFzcyhcImlzLWFjdGl2ZVwiKTtcblxuICAgICAgICAgICAgY29yZS5lbWl0dGVyLm9uKFwiYXBwLS1pbnRyby1ydW5cIiwgdGhpcy5jb3Zlci5iaW5kKHRoaXMpKTtcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBpZiAoIGNvbmZpZy5zY3JvbGxDb250YWluZXIgPT0gd2luZG93ICkge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5zY3JvbGxDb250YWluZXIuc2Nyb2xsKDAsIDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25maWcuc2Nyb2xsQ29udGFpbmVyLnNjcm9sbFRvcCA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvcmUuZW1pdHRlci5vbihcImFwcC0taW50cm8tcnVuXCIsIHRoaXMuZGV0YWlsLmJpbmQodGhpcykpO1xuXG4gICAgICAgIH1cblxuICAgIH0sXG5cblxuXG5cbiAgICAvKipcblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKiBAbWV0aG9kIGNvdmVyXG5cdCAqIEBtZW1iZXJvZiBtZW51cy5pbnRyb1xuXHQgKiBAZGVzY3JpcHRpb24gQ292ZXIgcGFnZSBpbnRybyBldmVudHNcblx0ICpcblx0ICovXG5cbiAgICBjb3ZlciAoKSB7XG5cbiAgICAgICAgdXRpbC5jYWxjdWxhdGVJbWFnZVNjcm9sbHMoKTtcblxuICAgICAgICAvLyBGYWRlIGluIGludHJvIHBhZ2VcblxuXG5cbiAgICAgICAgaWYgKGNvbmZpZy5pc1RvdWNoICE9IHRydWUpIHtcblxuICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBuZXcgY2FudmFzKCk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvcmUuZG9tLnJvb3QuYWRkQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICAgICAgY29yZS5kb20uY2FudmFzLnJlbW92ZSgpO1xuXG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vIENlbnRlciBoZXJvIGltYWdlIGluIHZpZXdwb3J0IHdpdGggdHJhbnNsYXRlIG9uIHRvdWNoXG5cbiAgICAgICAgaWYgKGNvbmZpZy5pc1RvdWNoID09PSB0cnVlKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGltZyA9IGNvcmUuZG9tLmhlcm8ucXVlcnlTZWxlY3RvcihcImltZ1wiKTtcblxuICAgICAgICAgICAgY29uc3QgaW1nQ29udGFpbmVyID0gY29yZS5kb20uaGVyby5xdWVyeVNlbGVjdG9yKFwiLnZlcnRpY2FsLWFsaWduLWNvbnRhaW5lclwiKTtcblxuICAgICAgICAgICAgbGV0IGhlaWdodCA9IGltZ0NvbnRhaW5lci5jbGllbnRIZWlnaHQgLSBpbWcuY2xpZW50SGVpZ2h0O1xuXG4gICAgICAgICAgICBoZWlnaHQgPSBjb3JlLmRvbS5oZXJvLmNsaWVudEhlaWdodCAtIGhlaWdodDtcblxuICAgICAgICAgICAgaGVpZ2h0ID0gKHdpbmRvdy5pbm5lckhlaWdodCAvIDIgKSAtIChoZWlnaHQgLyAyKTtcblxuICAgICAgICAgICAgY29yZS5kb20uaGVyby5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoMHB4LCR7IGhlaWdodCB9cHgsIDBweClgO1xuXG4gICAgICAgIH1cblxuXG4gICAgICAgIHRoaXMubW91c2VNb3ZlID0gbmV3IE1vdXNlbW92ZSgpO1xuXG5cblxuXG5cbiAgICAgICAgLy8gU2Nyb2xsIG9yIHN3aXBlIHRvIGNsb3NlIEludHJvXG5cbiAgICAgICAgaWYgKGNvbmZpZy5pc1RvdWNoICE9IHRydWUpIHtcblxuICAgICAgICAgIC8vIENsaWNrIHRvIGNsb3NlIEludHJvXG5cblxuICAgICAgICAgIGNvcmUuZG9tLmludHJvLm9uKCBcImNsaWNrXCIsICggZSApID0+IHtcbiAgICAgICAgICAgICAgaW50cm8udGVhcmRvd24oNTAwKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIGNvcmUuZG9tLmRvYy5vbignd2hlZWwnLCBmdW5jdGlvbihldmVudCl7XG4gICAgICAgICAgLy9cbiAgICAgICAgICAvLyAgIGlmIChldmVudC5kZWx0YVkgPj0gNjApIHtcbiAgICAgICAgICAvLyAgICAgaW50cm8udGVhcmRvd24oNTAwKTtcbiAgICAgICAgICAvLyAgICAgY29yZS5kb20uZG9jLm9mZihcIndoZWVsXCIpXG4gICAgICAgICAgLy8gICB9XG4gICAgICAgICAgLy8gfSk7XG5cbiAgICAgICAgfWVsc2V7XG5cbiAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiXG5cbiAgICAgICAgICB2YXIgdHM7XG4gICAgICAgICAgICBjb3JlLmRvbS5kb2Mub24oJ3RvdWNoc3RhcnQnLCBmdW5jdGlvbiAoZSl7XG4gICAgICAgICAgICAgICB0cyA9IGUudG91Y2hlc1swXS5jbGllbnRZO1xuICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0cyk7XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICBjb3JlLmRvbS5kb2Mub24oJ3RvdWNoZW5kJywgZnVuY3Rpb24gKGUpe1xuICAgICAgICAgICAgICAgdmFyIHRlID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZO1xuICAgICAgICAgICAgICAgdmFyIHRlVHMgPSB0ZSArICh0cy8zKTtcblxuICAgICAgICAgICAgICAgaWYodHMgPiB0ZSArIDEwKXtcblxuICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaW50cm8udGVhcmRvd24oNTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgY29yZS5kb20uZG9jLm9mZihcInRvdWNoZW5kXCIpXG4gICAgICAgICAgICAgICAgICAgICAgY29yZS5kb20uZG9jLm9mZihcInRvdWNoc3RhcnRcIilcbiAgICAgICAgICAgICAgICAgfSwgNDAwKTtcblxuICAgICAgICAgICAgICAgfWVsc2UgaWYgKHRzID09PSB0ZSl7XG5cbiAgICAgICAgICAgICAgICAgIGludHJvLnRlYXJkb3duKDUwMCk7XG4gICAgICAgICAgICAgICAgICBjb3JlLmRvbS5kb2Mub2ZmKFwidG91Y2hlbmRcIilcbiAgICAgICAgICAgICAgICAgIGNvcmUuZG9tLmRvYy5vZmYoXCJ0b3VjaHN0YXJ0XCIpXG4gICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiXG4gICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICAvLyBjb3JlLmRvbS5kb2Mub24oJ3RvdWNoZW5kJywgZnVuY3Rpb24gKGUpe1xuICAgICAgICAgICAgLy8gICAgdmFyIHRlID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIGlmKHRzID4gdGUtNSl7XG4gICAgICAgICAgICAvLyAgICAgIGNvbnNvbGUubG9nKFwidG91Y2hlbmRzXCIpO1xuICAgICAgICAgICAgLy8gICAgIGludHJvLnRlYXJkb3duKDUwMCk7XG4gICAgICAgICAgICAvLyAgICAgY29yZS5kb20uZG9jLm9mZihcInRvdWNoZW5kXCIpXG4gICAgICAgICAgICAvLyAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIlxuICAgICAgICAgICAgLy8gICAgICBjb3JlLmRvbS5kb2Mub2ZmKFwidG91Y2hzdGFydFwiKVxuICAgICAgICAgICAgLy8gICAgICBjb3JlLmRvbS5kb2Mub2ZmKFwidG91Y2htb3ZlXCIpXG4gICAgICAgICAgICAvLyAgICB9XG4gICAgICAgICAgICAvLyB9KTtcblxuICAgICAgICB9XG5cblxuICAgIH0sXG5cbiAgICBkZXRhaWwgKCkge1xuXG5cblxuICAgICAgICB1dGlsLmNhbGN1bGF0ZUltYWdlU2Nyb2xscygpO1xuXG4gICAgICAgIGNvcmUuZG9tLmludHJvLnJlbW92ZSgpO1xuXG4gICAgICAgIGNvcmUuZG9tLnJvb3QuYWRkQ2xhc3MoXCJzaG93XCIpO1xuXG4gICAgICAgIGNvbnN0IHRsID0gbmV3IFRpbWVsaW5lTGl0ZSgpO1xuXG4gICAgICAgIHRsLnRvKGNvcmUuZG9tLm92ZXJsYXksIDIuNCwgeyB5OiBcIi0xMDAlXCIsIGVhc2U6IENpcmMuZWFzZUluT3V0IH0pLmNhbGwoKCkgPT4ge1xuICAgICAgICAgICAgY29yZS5kb20uYm9keS5hZGRDbGFzcyhcImluaXQtcGFnZVwiKTtcbiAgICAgICAgfSwgW10sIHRoaXMsIFwiLT0xLjJcIilcbiAgICAgICAgICAgIC5mcm9tKGNvcmUuZG9tLmRldGFpbE92ZXJsYXksIDEuNSwgeyB5OiBcIjUlXCIsIGVhc2U6IFBvd2VyMS5lYXNlT3V0IH0sIFwiLT0xLjRcIilcblxuICAgICAgICAgICAgLnRvKGNvcmUuZG9tLmRldGFpbENvbnRhaW5lciwgMS41LCB7IHk6IFwiMFwiLCBlYXNlOiBQb3dlcjEuZWFzZU91dCB9LCBcIi09MS41XCIpLmNhbGwoKCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgY29yZS5kb20uYm9keS5yZW1vdmVDbGFzcyhcImludHJvLWRldGFpbFwiKS5yZW1vdmVDbGFzcyhcInNob3ctb3ZlcmxheVwiKTtcblxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50byhjb3JlLmRvbS5kZXRhaWxDb250YWluZXIsIDEuNSwgeyBvcGFjaXR5OiBcIjFcIiB9LCBcIi09MS4yNVwiKS5jYWxsKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb3JlLmRvbS5sb29wLmFkZENsYXNzKFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50byhjb3JlLmRvbS5maXhlZE5hdmlnYXRpb24sIDAuMSwgeyBvcGFjaXR5OiBcIjFcIiwgZWFzZTogUG93ZXIxLmVhc2VPdXQgfSwgXCItPTFcIilcbiAgICAgICAgICAgIC5mcm9tKGNvcmUuZG9tLm5hdmksIDAuNSwgeyBvcGFjaXR5OiBcIjBcIiwgZWFzZTogUG93ZXIxLmVhc2VPdXQgfSwgXCItPTFcIikuY2FsbCgoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBjb3JlLmRvbS5uYXZpLnJlbW92ZUF0dHIoXCJzdHlsZVwiKTtcbiAgICAgICAgICAgICAgICBjb3JlLmRvbS5ib2R5LnJlbW92ZUNsYXNzKFwic2Nyb2xsc3RvcFwiKTtcbiAgICAgICAgICAgIH0pO1xuXG5cblxuICAgICAgICBjb25maWcudGV4dFRyYW5zZm9ybSA9IHRydWU7XG5cbiAgICAgICAgY29uZmlnLmRpc2FibGVMb29wID0gdHJ1ZTtcblxuXG4gICAgICAgIC8vIEdhdGhlciBoZWlnaHQgdG8gZGV0ZXJtaW5lIGhlYWRlckZhZGUgY29sb3IgY2hhbmdlIGRpc3RhbmNlXG5cbiAgICAgICAgdGhpcy5vdmVybGF5SGVpZ2h0ID0gY29yZS5kb20uZGV0YWlsT3ZlcmxheVsgMCBdLmNsaWVudEhlaWdodDtcblxuICAgICAgICB0aGlzLm5hdkhlaWdodCA9IGNvcmUuZG9tLm5hdmlIZWlnaHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgd2luZG93LnNjcm9sbFk7XG5cbiAgICAgICAgY29uZmlnLnNjcm9sbERpc3RhbmNlID0gKCAodGhpcy5vdmVybGF5SGVpZ2h0IC0gMikgLSAoIHRoaXMubmF2SGVpZ2h0ICogMS43NSkgKSArIHdpbmRvdy5pbm5lckhlaWdodDtcblxuXG4gICAgICAgIC8vIEFkZCBjbGFzcyB0byBlbGVtZW50cyB0aGF0IHNob3VsZCBhbmltYXRlIGFmdGVyIGludHJvXG5cbiAgICAgICAgY29yZS5kb20ubG9vcC5maW5kKFwiLmpzLWRlbGF5LW1vdXNlXCIpLmFkZENsYXNzKFwianMtdHJhbnNmb3JtLW1vdXNlLXRleHRcIik7XG5cblxuICAgIH0sXG5cbiAgICB0ZWFyZG93biAoZHVyYXRpb24pIHtcblxuICAgICAgICBjb3JlLmRvbS5ib2R5LnJlbW92ZUNsYXNzKFwiLWRhcmstYmFja2dyb3VuZFwiKTtcblxuICAgICAgICBjb3JlLmRvbS5ib2R5LmFkZENsYXNzKFwiZmFkZS1pbnRyb1wiKTtcblxuICAgICAgICB0aGlzLm1vdXNlTW92ZS5kZXN0cm95KCk7XG5cbiAgICAgICAgY29yZS5kb20uYXBwLmNsYXNzTGlzdC5yZW1vdmUoXCJzY3JvbGxzdG9wXCIpO1xuXG4gICAgICAgIGlmIChjb25maWcuaXNUb3VjaCAhPSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0bCA9IG5ldyBUaW1lbGluZUxpdGUoKTtcblxuICAgICAgICBpZiAoIGNvbmZpZy5zY3JvbGxDb250YWluZXIgPT0gd2luZG93ICkge1xuICAgICAgICAgICAgY29uZmlnLnNjcm9sbENvbnRhaW5lci5zY3JvbGwoMCwgMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25maWcuc2Nyb2xsQ29udGFpbmVyLnNjcm9sbFRvcCA9IDI7XG4gICAgICAgIH1cblxuICAgICAgICBjb3JlLmRvbS5pbnRyby5yZW1vdmVDbGFzcyhcImlzLWFjdGl2ZVwiKTtcblxuXG5cblxuICAgICAgICAvL1JlbW92ZSBjZW50ZXIgYWxpZ25tZW50IGZvciBoZXJvIGltYWdlIG9uIHRvdWNoIGRldmljZXNcblxuICAgICAgICBpZiAoY29uZmlnLmlzVG91Y2ggPT09IHRydWUpIHtcblxuICAgICAgICAgICAgY29yZS5kb20uaGVyby5zdHlsZS50cmFuc2Zvcm0gPSBcIm5vbmVcIjtcblxuICAgICAgICAgICAgdmFyIG92ZXJsYXlEdXJhdGlvbiA9IDAuODsgLy8gRmFzdGVyIGR1cmF0aW9uIG9mIHJlbW92aW5nIHRoZSBvdmVybGF5XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgdmFyIG92ZXJsYXlEdXJhdGlvbiA9IDE7IC8vIERlZmF1bHQgZHVyYXRpb24gb2YgcmVtb3ZpbmcgdGhlIG92ZXJsYXlcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy8gQW5pbWF0ZSB0cmFuc2l0aW9uIHRvIGluZmluaXRlIGxvb3BcblxuICAgICAgICB0bC50byhjb3JlLmRvbS5vdmVybGF5LCBvdmVybGF5RHVyYXRpb24sIHsgeTogXCItMTAwJVwiLCBlYXNlOiBDaXJjLmVhc2VJbk91dCB9KS5jYWxsKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgY29yZS5kb20uYm9keS5hZGRDbGFzcyhcImhpZGUtaW50cm9cIikucmVtb3ZlQ2xhc3MoXCJzY3JvbGxzdG9wXCIpO1xuXG4gICAgICAgICAgICBjb3JlLmRvbS5vdmVybGF5LnJlbW92ZUNsYXNzKFwiLWJhY2tcIik7XG4gICAgICAgICAgICBjb3JlLmRvbS5kZXRhaWxPdmVybGF5LnJlbW92ZUNsYXNzKFwiLWJhY2tcIik7XG5cbiAgICAgICAgICAgIGNvcmUuZG9tLm92ZXJsYXkucmVtb3ZlQXR0cihcInN0eWxlXCIpO1xuXG4gICAgICAgICAgICBpZiAoY29uZmlnLmlzVG91Y2ggPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb3JlLmRvbS5sb29wLmFkZENsYXNzKFwiYWN0aXZhdGUtc2Nyb2xsXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb3JlLmRvbS5jYW52YXMucmVtb3ZlKCk7IC8vUmVtb3ZlIGNhbnZhcyBlbGVtZW50XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvcmUuZG9tLmludHJvLnJlbW92ZSgpO1xuXG4gICAgICAgICAgICBjb3JlLmRvbS53b3JrLmZpbmQoXCIuanMtbGF6eS1pbWFnZVwiKS5yZW1vdmVDbGFzcyhcImpzLXRyYW5zZm9ybS1tb3VzZS1iYWNrXCIpO1xuXG5cblxuICAgICAgICAgICAgLy8gJChjb25maWcubGF6eUltYWdlU2VsZWN0b3IpLnJlbW92ZUNsYXNzKFwianMtdHJhbnNmb3JtLW1vdXNlLWJhY2tcIik7XG5cblxuXG4gICAgICAgICAgICAvLyB2YXIgY2FudmFzRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIGNhbnZhc0VsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjYW52YXNFbGVtZW50KTtcblxuICAgICAgICAgICAgLy9TZXQgdXAgbW91c2UgaG92ZXJzIG9uIGhvbWVcblxuXG4gICAgICAgICAgICBpZiAoY29uZmlnLmlzVG91Y2ggIT0gdHJ1ZSApIHtcblxuICAgICAgICAgICAgICAgIC8vIEFkZCBjbGFzcyB0byBlbGVtZW50cyB0aGF0IHNob3VsZCBhbmltYXRlIGFmdGVyIGludHJvXG5cbiAgICAgICAgICAgICAgICBjb25zdCAkaG92ZXJUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJqcy1kZWxheS1tb3VzZVwiKTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgJGhvdmVyVGl0bGUubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAkaG92ZXJUaXRsZVsgaSBdLmNsYXNzTGlzdC5hZGQoXCJqcy10cmFuc2Zvcm0tbW91c2UtdGV4dFwiKTsgLy8gQWRkIG1vdXNlIG1vdmVtZW50IHdhdGNoIGNsYXNzXG5cdCAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbmZpZy50ZXh0VHJhbnNmb3JtID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHRoaXMubW91c2VNb3ZlID0gbmV3IE1vdXNlbW92ZSgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG5cblxuXG4gICAgfVxufTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogRXhwb3J0XG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmV4cG9ydCBkZWZhdWx0IGludHJvO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNvdXJjZS9qcy9pbnRyby5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFHQTs7Ozs7Ozs7O0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUlBO0FBM1RBO0FBQ0E7QUE2VEE7OztBQUdBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///91\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _properjsHobo = __webpack_require__(/*! properjs-hobo */ 11);\n\nvar _properjsHobo2 = _interopRequireDefault(_properjsHobo);\n\nvar _properjsPagecontroller = __webpack_require__(/*! properjs-pagecontroller */ 190);\n\nvar _properjsPagecontroller2 = _interopRequireDefault(_properjsPagecontroller);\n\nvar _ImageController = __webpack_require__(/*! ./class/ImageController */ 95);\n\nvar _ImageController2 = _interopRequireDefault(_ImageController);\n\nvar _actions = __webpack_require__(/*! ./actions */ 44);\n\nvar _actions2 = _interopRequireDefault(_actions);\n\nvar _core = __webpack_require__(/*! ./core */ 10);\n\nvar core = _interopRequireWildcard(_core);\n\nvar _config = __webpack_require__(/*! ./core/config */ 4);\n\nvar _config2 = _interopRequireDefault(_config);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n *\n * @public\n * @namespace router\n * @description Handles async web app routing for nice transitions.\n *\n */\nvar router = {\n    /**\n    *\n    * @public\n    * @method init\n    * @memberof router\n    * @description Initialize the router module.\n    *\n    */\n    init: function init() {\n        this.pageClass = "";\n        this.pageDuration = _config2.default.pageDuration; //core.util.getTransitionDuration( core.dom.main[ 0 ] );\n        this.bindEmpty();\n        this.initPages();\n\n        core.log("[Router initialized]");\n    },\n\n\n    /**\n    *\n    * @public\n    * @method route\n    * @param {string} path The uri to route to\n    * @memberof router\n    * @description Trigger app to route a specific page. [Reference]{@link https://github.com/ProperJS/Router/blob/master/Router.js#L222}\n    *\n    */\n    route: function route(path) {\n        this.controller.getRouter().trigger(path);\n    },\n\n\n    /**\n    *\n    * @public\n    * @method push\n    * @param {string} path The uri to route to\n    * @param {function} cb Optional callback to fire\n    * @memberof router\n    * @description Trigger a silent route with a supplied callback.\n    *\n    */\n    push: function push(path, cb) {\n        this.controller.routeSilently(path, cb || core.util.noop);\n    },\n\n\n    /**\n    *\n    * @public\n    * @method initPages\n    * @memberof router\n    * @description Create the PageController instance.\n    *\n    */\n    initPages: function initPages() {\n        this.controller = new _properjsPagecontroller2.default({\n            transitionTime: _config2.default.pageDuration\n        });\n\n        this.controller.setConfig(["/", ":view", ":view/:uid"]);\n\n        this.controller.setModules([]);\n\n        //this.controller.on( "page-controller-router-samepage", () => {} );\n        this.controller.on("page-controller-router-transition-out", this.changePageOut.bind(this));\n        this.controller.on("page-controller-router-refresh-document", this.changeContent.bind(this));\n        this.controller.on("page-controller-router-transition-in", this.changePageIn.bind(this));\n        this.controller.on("page-controller-initialized-page", this.initPage.bind(this));\n\n        core.emitter.on("app--actions-close", _actions2.default.close.bind(this));\n        core.emitter.on("app--actions-teardown", _actions2.default.teardown.bind(this));\n        core.emitter.on("app--init-actions", _actions2.default.init.bind(this));\n\n        this.controller.initPage();\n    },\n\n\n    /**\n    *\n    * @public\n    * @method initPage\n    * @param {object} data The PageController data object\n    * @memberof router\n    * @description Cache the initial page load.\n    *\n    */\n    initPage: function initPage(data) {\n        this.changeClass(data);\n        this.execControllers();\n    },\n\n\n    /**\n    *\n    * @public\n    * @method parseDoc\n    * @param {string} html The responseText to parse out\n    * @memberof router\n    * @description Get the DOM information to cache for a request.\n    * @returns {object}\n    *\n    */\n    parseDoc: function parseDoc(html) {\n        var doc = document.createElement("html");\n        var main = null;\n\n        doc.innerHTML = html;\n\n        doc = (0, _properjsHobo2.default)(doc);\n        main = doc.find(core.config.pageSelector);\n\n        return {\n            doc: doc,\n            main: main,\n            html: main[0].innerHTML\n        };\n    },\n\n\n    /**\n    *\n    * @public\n    * @method bindEmpty\n    * @memberof router\n    * @description Suppress #hash links.\n    *\n    */\n    bindEmpty: function bindEmpty() {\n        core.dom.body.on("click", "[href^=\'#\']", function (e) {\n            return e.preventDefault();\n        });\n    },\n\n\n    /**\n    *\n    * @public\n    * @method changeClass\n    * @param {object} data The PageController data object\n    * @memberof router\n    * @description Handle document className swapping by page section.\n    *\n    */\n    changeClass: function changeClass(data) {\n        if (this.view) {\n            core.dom.html.removeClass("is-" + this.view + "-page");\n        }\n\n        this.view = data.request.params.view || "home";\n\n        core.dom.html.addClass("is-" + this.view + "-page");\n    },\n\n\n    /**\n    *\n    * @public\n    * @method changePageOut\n    * @param {object} data The PageController data object\n    * @memberof router\n    * @description Trigger transition-out animation.\n    *\n    */\n    changePageOut: function changePageOut( /* data */data) {\n        core.dom.html.addClass("is-routing");\n        core.dom.main.addClass("is-inactive");\n\n        core.emitter.fire("app--scroll-teardown");\n\n        core.emitter.fire("app--actions-close", data.request.uri);\n\n        core.emitter.fire("app--actions-teardown");\n\n        this.destroyControllers();\n    },\n\n\n    /**\n    *\n    * @public\n    * @method changeContent\n    * @param {object} data The PageController data object\n    * @memberof router\n    * @description Swap the new content into the DOM.\n    *\n    */\n    changeContent: function changeContent(data) {\n        var doc = this.parseDoc(data.response);\n\n        core.dom.main[0].innerHTML = doc.html;\n\n        core.emitter.fire("app--analytics-push");\n\n        this.changeClass(data);\n    },\n\n\n    /**\n    *\n    * @public\n    * @method changePageIn\n    * @param {object} data The PageController data object\n    * @memberof router\n    * @description Trigger transition-in animation.\n    *\n    */\n    changePageIn: function changePageIn() /* data */{\n        core.dom.html.removeClass("is-routing");\n        core.dom.main.removeClass("is-inactive");\n\n        core.emitter.fire("app--init-scroll");\n\n        core.emitter.fire("app--init-actions");\n\n        this.execControllers();\n    },\n\n\n    /**\n    *\n    * @public\n    * @method execControllers\n    * @memberof router\n    * @description Run page controllers.\n    *\n    */\n    execControllers: function execControllers() {\n        this.images = core.dom.body.find(core.config.lazyImageSelector);\n\n        this.imageController = new _ImageController2.default(this.images);\n        this.imageController.on("preloaded", function () {\n            core.emitter.fire("app--intro-run");\n        });\n\n        _config2.default.currentScrollPosition = 0;\n    },\n\n\n    /**\n    *\n    * @public\n    * @method destroyControllers\n    * @memberof router\n    * @description Kill page controllers.\n    *\n    */\n    destroyControllers: function destroyControllers() {\n        if (this.imageController) {\n            this.imageController.destroy();\n            this.imageController = null;\n        }\n    }\n};\n\n/******************************************************************************\n * Export\n *******************************************************************************/\nexports.default = router;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc291cmNlL2pzL3JvdXRlci5qcz80ZGZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAkIGZyb20gXCJwcm9wZXJqcy1ob2JvXCI7XG5pbXBvcnQgUGFnZUNvbnRyb2xsZXIgZnJvbSBcInByb3BlcmpzLXBhZ2Vjb250cm9sbGVyXCI7XG5pbXBvcnQgSW1hZ2VDb250cm9sbGVyIGZyb20gXCIuL2NsYXNzL0ltYWdlQ29udHJvbGxlclwiO1xuaW1wb3J0IGFjdGlvbnMgZnJvbSBcIi4vYWN0aW9uc1wiO1xuaW1wb3J0ICogYXMgY29yZSBmcm9tIFwiLi9jb3JlXCI7XG5pbXBvcnQgY29uZmlnIGZyb20gXCIuL2NvcmUvY29uZmlnXCI7XG4vKipcbiAqXG4gKiBAcHVibGljXG4gKiBAbmFtZXNwYWNlIHJvdXRlclxuICogQGRlc2NyaXB0aW9uIEhhbmRsZXMgYXN5bmMgd2ViIGFwcCByb3V0aW5nIGZvciBuaWNlIHRyYW5zaXRpb25zLlxuICpcbiAqL1xuY29uc3Qgcm91dGVyID0ge1xuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZXRob2QgaW5pdFxuXHQgKiBAbWVtYmVyb2Ygcm91dGVyXG5cdCAqIEBkZXNjcmlwdGlvbiBJbml0aWFsaXplIHRoZSByb3V0ZXIgbW9kdWxlLlxuXHQgKlxuXHQgKi9cbiAgICBpbml0ICgpIHtcbiAgICAgICAgdGhpcy5wYWdlQ2xhc3MgPSBcIlwiO1xuICAgICAgICB0aGlzLnBhZ2VEdXJhdGlvbiA9IGNvbmZpZy5wYWdlRHVyYXRpb247IC8vY29yZS51dGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbiggY29yZS5kb20ubWFpblsgMCBdICk7XG4gICAgICAgIHRoaXMuYmluZEVtcHR5KCk7XG4gICAgICAgIHRoaXMuaW5pdFBhZ2VzKCk7XG5cbiAgICAgICAgY29yZS5sb2coXCJbUm91dGVyIGluaXRpYWxpemVkXVwiKTtcbiAgICB9LFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1ldGhvZCByb3V0ZVxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgdXJpIHRvIHJvdXRlIHRvXG5cdCAqIEBtZW1iZXJvZiByb3V0ZXJcblx0ICogQGRlc2NyaXB0aW9uIFRyaWdnZXIgYXBwIHRvIHJvdXRlIGEgc3BlY2lmaWMgcGFnZS4gW1JlZmVyZW5jZV17QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL1Byb3BlckpTL1JvdXRlci9ibG9iL21hc3Rlci9Sb3V0ZXIuanMjTDIyMn1cblx0ICpcblx0ICovXG4gICAgcm91dGUgKHBhdGgpIHtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLmdldFJvdXRlcigpLnRyaWdnZXIocGF0aCk7XG4gICAgfSxcblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZXRob2QgcHVzaFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgdXJpIHRvIHJvdXRlIHRvXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiIE9wdGlvbmFsIGNhbGxiYWNrIHRvIGZpcmVcblx0ICogQG1lbWJlcm9mIHJvdXRlclxuXHQgKiBAZGVzY3JpcHRpb24gVHJpZ2dlciBhIHNpbGVudCByb3V0ZSB3aXRoIGEgc3VwcGxpZWQgY2FsbGJhY2suXG5cdCAqXG5cdCAqL1xuICAgIHB1c2ggKHBhdGgsIGNiKSB7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci5yb3V0ZVNpbGVudGx5KHBhdGgsIGNiIHx8IGNvcmUudXRpbC5ub29wKTtcbiAgICB9LFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1ldGhvZCBpbml0UGFnZXNcblx0ICogQG1lbWJlcm9mIHJvdXRlclxuXHQgKiBAZGVzY3JpcHRpb24gQ3JlYXRlIHRoZSBQYWdlQ29udHJvbGxlciBpbnN0YW5jZS5cblx0ICpcblx0ICovXG4gICAgaW5pdFBhZ2VzICgpIHtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0gbmV3IFBhZ2VDb250cm9sbGVyKHtcbiAgICAgICAgICAgIHRyYW5zaXRpb25UaW1lOiBjb25maWcucGFnZUR1cmF0aW9uXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuY29udHJvbGxlci5zZXRDb25maWcoW1wiL1wiLCBcIjp2aWV3XCIsIFwiOnZpZXcvOnVpZFwiXSk7XG5cbiAgICAgICAgdGhpcy5jb250cm9sbGVyLnNldE1vZHVsZXMoW10pO1xuXG4gICAgICAgIC8vdGhpcy5jb250cm9sbGVyLm9uKCBcInBhZ2UtY29udHJvbGxlci1yb3V0ZXItc2FtZXBhZ2VcIiwgKCkgPT4ge30gKTtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLm9uKFwicGFnZS1jb250cm9sbGVyLXJvdXRlci10cmFuc2l0aW9uLW91dFwiLCB0aGlzLmNoYW5nZVBhZ2VPdXQuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci5vbihcInBhZ2UtY29udHJvbGxlci1yb3V0ZXItcmVmcmVzaC1kb2N1bWVudFwiLCB0aGlzLmNoYW5nZUNvbnRlbnQuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci5vbihcInBhZ2UtY29udHJvbGxlci1yb3V0ZXItdHJhbnNpdGlvbi1pblwiLCB0aGlzLmNoYW5nZVBhZ2VJbi5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLm9uKFwicGFnZS1jb250cm9sbGVyLWluaXRpYWxpemVkLXBhZ2VcIiwgdGhpcy5pbml0UGFnZS5iaW5kKHRoaXMpKTtcblxuICAgICAgICBjb3JlLmVtaXR0ZXIub24oXCJhcHAtLWFjdGlvbnMtY2xvc2VcIiwgYWN0aW9ucy5jbG9zZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgY29yZS5lbWl0dGVyLm9uKFwiYXBwLS1hY3Rpb25zLXRlYXJkb3duXCIsIGFjdGlvbnMudGVhcmRvd24uYmluZCh0aGlzKSk7XG4gICAgICAgIGNvcmUuZW1pdHRlci5vbihcImFwcC0taW5pdC1hY3Rpb25zXCIsIGFjdGlvbnMuaW5pdC5iaW5kKHRoaXMpKTtcblxuICAgICAgICB0aGlzLmNvbnRyb2xsZXIuaW5pdFBhZ2UoKTtcbiAgICB9LFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1ldGhvZCBpbml0UGFnZVxuXHQgKiBAcGFyYW0ge29iamVjdH0gZGF0YSBUaGUgUGFnZUNvbnRyb2xsZXIgZGF0YSBvYmplY3Rcblx0ICogQG1lbWJlcm9mIHJvdXRlclxuXHQgKiBAZGVzY3JpcHRpb24gQ2FjaGUgdGhlIGluaXRpYWwgcGFnZSBsb2FkLlxuXHQgKlxuXHQgKi9cbiAgICBpbml0UGFnZSAoZGF0YSkge1xuICAgICAgICB0aGlzLmNoYW5nZUNsYXNzKGRhdGEpO1xuICAgICAgICB0aGlzLmV4ZWNDb250cm9sbGVycygpO1xuICAgIH0sXG5cbiAgICAvKipcblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKiBAbWV0aG9kIHBhcnNlRG9jXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sIFRoZSByZXNwb25zZVRleHQgdG8gcGFyc2Ugb3V0XG5cdCAqIEBtZW1iZXJvZiByb3V0ZXJcblx0ICogQGRlc2NyaXB0aW9uIEdldCB0aGUgRE9NIGluZm9ybWF0aW9uIHRvIGNhY2hlIGZvciBhIHJlcXVlc3QuXG5cdCAqIEByZXR1cm5zIHtvYmplY3R9XG5cdCAqXG5cdCAqL1xuICAgIHBhcnNlRG9jIChodG1sKSB7XG4gICAgICAgIGxldCBkb2MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaHRtbFwiKTtcbiAgICAgICAgbGV0IG1haW4gPSBudWxsO1xuXG4gICAgICAgIGRvYy5pbm5lckhUTUwgPSBodG1sO1xuXG4gICAgICAgIGRvYyA9ICQoZG9jKTtcbiAgICAgICAgbWFpbiA9IGRvYy5maW5kKGNvcmUuY29uZmlnLnBhZ2VTZWxlY3Rvcik7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRvYyxcbiAgICAgICAgICAgIG1haW4sXG4gICAgICAgICAgICBodG1sOiBtYWluWyAwIF0uaW5uZXJIVE1MXG4gICAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZXRob2QgYmluZEVtcHR5XG5cdCAqIEBtZW1iZXJvZiByb3V0ZXJcblx0ICogQGRlc2NyaXB0aW9uIFN1cHByZXNzICNoYXNoIGxpbmtzLlxuXHQgKlxuXHQgKi9cbiAgICBiaW5kRW1wdHkgKCkge1xuICAgICAgICBjb3JlLmRvbS5ib2R5Lm9uKFwiY2xpY2tcIiwgXCJbaHJlZl49JyMnXVwiLCAoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpKTtcbiAgICB9LFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1ldGhvZCBjaGFuZ2VDbGFzc1xuXHQgKiBAcGFyYW0ge29iamVjdH0gZGF0YSBUaGUgUGFnZUNvbnRyb2xsZXIgZGF0YSBvYmplY3Rcblx0ICogQG1lbWJlcm9mIHJvdXRlclxuXHQgKiBAZGVzY3JpcHRpb24gSGFuZGxlIGRvY3VtZW50IGNsYXNzTmFtZSBzd2FwcGluZyBieSBwYWdlIHNlY3Rpb24uXG5cdCAqXG5cdCAqL1xuICAgIGNoYW5nZUNsYXNzIChkYXRhKSB7XG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcbiAgICAgICAgICAgIGNvcmUuZG9tLmh0bWwucmVtb3ZlQ2xhc3MoYGlzLSR7dGhpcy52aWV3fS1wYWdlYCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZpZXcgPSBkYXRhLnJlcXVlc3QucGFyYW1zLnZpZXcgfHwgXCJob21lXCI7XG5cbiAgICAgICAgY29yZS5kb20uaHRtbC5hZGRDbGFzcyhgaXMtJHt0aGlzLnZpZXd9LXBhZ2VgKTtcbiAgICB9LFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1ldGhvZCBjaGFuZ2VQYWdlT3V0XG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIFRoZSBQYWdlQ29udHJvbGxlciBkYXRhIG9iamVjdFxuXHQgKiBAbWVtYmVyb2Ygcm91dGVyXG5cdCAqIEBkZXNjcmlwdGlvbiBUcmlnZ2VyIHRyYW5zaXRpb24tb3V0IGFuaW1hdGlvbi5cblx0ICpcblx0ICovXG4gICAgY2hhbmdlUGFnZU91dCAoLyogZGF0YSAqL2RhdGEpIHtcbiAgICAgICAgY29yZS5kb20uaHRtbC5hZGRDbGFzcyhcImlzLXJvdXRpbmdcIik7XG4gICAgICAgIGNvcmUuZG9tLm1haW4uYWRkQ2xhc3MoXCJpcy1pbmFjdGl2ZVwiKTtcblxuICAgICAgICBjb3JlLmVtaXR0ZXIuZmlyZShcImFwcC0tc2Nyb2xsLXRlYXJkb3duXCIpO1xuXG4gICAgICAgIGNvcmUuZW1pdHRlci5maXJlKFwiYXBwLS1hY3Rpb25zLWNsb3NlXCIsIGRhdGEucmVxdWVzdC51cmkpO1xuXG4gICAgICAgIGNvcmUuZW1pdHRlci5maXJlKFwiYXBwLS1hY3Rpb25zLXRlYXJkb3duXCIpO1xuXG4gICAgICAgIHRoaXMuZGVzdHJveUNvbnRyb2xsZXJzKCk7XG4gICAgfSxcblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZXRob2QgY2hhbmdlQ29udGVudFxuXHQgKiBAcGFyYW0ge29iamVjdH0gZGF0YSBUaGUgUGFnZUNvbnRyb2xsZXIgZGF0YSBvYmplY3Rcblx0ICogQG1lbWJlcm9mIHJvdXRlclxuXHQgKiBAZGVzY3JpcHRpb24gU3dhcCB0aGUgbmV3IGNvbnRlbnQgaW50byB0aGUgRE9NLlxuXHQgKlxuXHQgKi9cbiAgICBjaGFuZ2VDb250ZW50IChkYXRhKSB7XG4gICAgICAgIGNvbnN0IGRvYyA9IHRoaXMucGFyc2VEb2MoZGF0YS5yZXNwb25zZSk7XG5cbiAgICAgICAgY29yZS5kb20ubWFpblsgMCBdLmlubmVySFRNTCA9IGRvYy5odG1sO1xuXG4gICAgICAgIGNvcmUuZW1pdHRlci5maXJlKFwiYXBwLS1hbmFseXRpY3MtcHVzaFwiKTtcblxuICAgICAgICB0aGlzLmNoYW5nZUNsYXNzKGRhdGEpO1xuICAgIH0sXG5cbiAgICAvKipcblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKiBAbWV0aG9kIGNoYW5nZVBhZ2VJblxuXHQgKiBAcGFyYW0ge29iamVjdH0gZGF0YSBUaGUgUGFnZUNvbnRyb2xsZXIgZGF0YSBvYmplY3Rcblx0ICogQG1lbWJlcm9mIHJvdXRlclxuXHQgKiBAZGVzY3JpcHRpb24gVHJpZ2dlciB0cmFuc2l0aW9uLWluIGFuaW1hdGlvbi5cblx0ICpcblx0ICovXG4gICAgY2hhbmdlUGFnZUluICgvKiBkYXRhICovKSB7XG4gICAgICAgIGNvcmUuZG9tLmh0bWwucmVtb3ZlQ2xhc3MoXCJpcy1yb3V0aW5nXCIpO1xuICAgICAgICBjb3JlLmRvbS5tYWluLnJlbW92ZUNsYXNzKFwiaXMtaW5hY3RpdmVcIik7XG5cbiAgICAgICAgY29yZS5lbWl0dGVyLmZpcmUoXCJhcHAtLWluaXQtc2Nyb2xsXCIpO1xuXG4gICAgICAgIGNvcmUuZW1pdHRlci5maXJlKFwiYXBwLS1pbml0LWFjdGlvbnNcIik7XG5cbiAgICAgICAgdGhpcy5leGVjQ29udHJvbGxlcnMoKTtcbiAgICB9LFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1ldGhvZCBleGVjQ29udHJvbGxlcnNcblx0ICogQG1lbWJlcm9mIHJvdXRlclxuXHQgKiBAZGVzY3JpcHRpb24gUnVuIHBhZ2UgY29udHJvbGxlcnMuXG5cdCAqXG5cdCAqL1xuICAgIGV4ZWNDb250cm9sbGVycyAoKSB7XG4gICAgICAgIHRoaXMuaW1hZ2VzID0gY29yZS5kb20uYm9keS5maW5kKGNvcmUuY29uZmlnLmxhenlJbWFnZVNlbGVjdG9yKTtcblxuICAgICAgICB0aGlzLmltYWdlQ29udHJvbGxlciA9IG5ldyBJbWFnZUNvbnRyb2xsZXIodGhpcy5pbWFnZXMpO1xuICAgICAgICB0aGlzLmltYWdlQ29udHJvbGxlci5vbihcInByZWxvYWRlZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBjb3JlLmVtaXR0ZXIuZmlyZShcImFwcC0taW50cm8tcnVuXCIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25maWcuY3VycmVudFNjcm9sbFBvc2l0aW9uID0gMDtcbiAgICB9LFxuXG4gICAgLyoqXG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICogQG1ldGhvZCBkZXN0cm95Q29udHJvbGxlcnNcblx0ICogQG1lbWJlcm9mIHJvdXRlclxuXHQgKiBAZGVzY3JpcHRpb24gS2lsbCBwYWdlIGNvbnRyb2xsZXJzLlxuXHQgKlxuXHQgKi9cbiAgICBkZXN0cm95Q29udHJvbGxlcnMgKCkge1xuICAgICAgICBpZiAodGhpcy5pbWFnZUNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VDb250cm9sbGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VDb250cm9sbGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIEV4cG9ydFxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc291cmNlL2pzL3JvdXRlci5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBOzs7Ozs7O0FBQUE7Ozs7Ozs7QUFPQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7Ozs7Ozs7OztBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7Ozs7Ozs7OztBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7Ozs7Ozs7OztBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOzs7Ozs7Ozs7O0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUFBOzs7Ozs7OztBQVFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7Ozs7Ozs7OztBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7Ozs7Ozs7O0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOzs7Ozs7Ozs7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7Ozs7Ozs7OztBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOzs7Ozs7OztBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOzs7Ozs7OztBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQS9PQTtBQUNBO0FBaVBBOzs7QUFHQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///92\n')},function(module,exports,__webpack_require__){eval('module.exports = __webpack_require__.p + "../css/screen.css";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc2Fzcy9zY3JlZW4uc2Nzcz9mOWEzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIi4uL2Nzcy9zY3JlZW4uY3NzXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zb3VyY2Uvc2Fzcy9zY3JlZW4uc2Nzc1xuLy8gbW9kdWxlIGlkID0gOTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///93\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _router = __webpack_require__(/*! ./router */ 92);\n\nvar _router2 = _interopRequireDefault(_router);\n\nvar _core = __webpack_require__(/*! ./core */ 10);\n\nvar core = _interopRequireWildcard(_core);\n\nvar _intro = __webpack_require__(/*! ./intro */ 91);\n\nvar _intro2 = _interopRequireDefault(_intro);\n\nvar _actions = __webpack_require__(/*! ./actions */ 44);\n\nvar _actions2 = _interopRequireDefault(_actions);\n\nvar _Analytics = __webpack_require__(/*! ./class/Analytics */ 89);\n\nvar _Analytics2 = _interopRequireDefault(_Analytics);\n\nvar _shopifyApp = __webpack_require__(/*! ./class/shopifyApp */ 90);\n\nvar _shopifyApp2 = _interopRequireDefault(_shopifyApp);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n__webpack_require__(/*! ../sass/screen.scss */ 93);\n\n/**\n *\n * @public\n * @class App\n * @classdesc Load the App application Class to handle it ALL.\n *\n */\nvar App = function () {\n    function App() {\n        _classCallCheck(this, App);\n\n        this.core = core;\n        this.intro = _intro2.default;\n        this.actions = _actions2.default;\n        this.router = _router2.default;\n        this.shopify = _shopifyApp2.default;\n        this.initModules();\n    }\n\n    /**\n    *\n    * @public\n    * @instance\n    * @method initModules\n    * @memberof App\n    * @description Initialize application modules.\n    *\n    */\n\n\n    _createClass(App, [{\n        key: "initModules",\n        value: function initModules() {\n            // Core\n            this.core.detect.init();\n\n            // Controller\n            this.router.init();\n\n            // Shopify\n            this.shopify = new _shopifyApp2.default();\n\n            // Utility\n            this.actions.init();\n\n            this.core.scrolls.init();\n\n            this.core.resizes.init();\n\n            // Views\n            this.intro.init();\n\n            // Analytics\n            this.analytics = new _Analytics2.default();\n\n            // Parallax\n            // this.parallax = new Parallax();\n        }\n    }]);\n\n    return App;\n}();\n\n/******************************************************************************\n * Expose\n *******************************************************************************/\n\n\nwindow.app = new App();\n\n/******************************************************************************\n * Export\n *******************************************************************************/\nexports.default = window.app;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc291cmNlL2pzL2FwcC5qcz84NThkIl0sInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoXCIuLi9zYXNzL3NjcmVlbi5zY3NzXCIpO1xuaW1wb3J0IHJvdXRlciBmcm9tIFwiLi9yb3V0ZXJcIjtcbmltcG9ydCAqIGFzIGNvcmUgZnJvbSBcIi4vY29yZVwiO1xuaW1wb3J0IGludHJvIGZyb20gXCIuL2ludHJvXCI7XG5pbXBvcnQgYWN0aW9ucyBmcm9tIFwiLi9hY3Rpb25zXCI7XG5pbXBvcnQgQW5hbHl0aWNzIGZyb20gXCIuL2NsYXNzL0FuYWx5dGljc1wiO1xuaW1wb3J0IFNob3BpZnlBcHAgZnJvbSBcIi4vY2xhc3Mvc2hvcGlmeUFwcFwiO1xuXG5cbi8qKlxuICpcbiAqIEBwdWJsaWNcbiAqIEBjbGFzcyBBcHBcbiAqIEBjbGFzc2Rlc2MgTG9hZCB0aGUgQXBwIGFwcGxpY2F0aW9uIENsYXNzIHRvIGhhbmRsZSBpdCBBTEwuXG4gKlxuICovXG5jbGFzcyBBcHAge1xuICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgICAgdGhpcy5jb3JlID0gY29yZTtcbiAgICAgICAgdGhpcy5pbnRybyA9IGludHJvO1xuICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zO1xuICAgICAgICB0aGlzLnJvdXRlciA9IHJvdXRlcjtcbiAgICAgICAgdGhpcy5zaG9waWZ5ID0gU2hvcGlmeUFwcDtcbiAgICAgICAgdGhpcy5pbml0TW9kdWxlcygpO1xuICAgIH1cblxuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBpbnN0YW5jZVxuXHQgKiBAbWV0aG9kIGluaXRNb2R1bGVzXG5cdCAqIEBtZW1iZXJvZiBBcHBcblx0ICogQGRlc2NyaXB0aW9uIEluaXRpYWxpemUgYXBwbGljYXRpb24gbW9kdWxlcy5cblx0ICpcblx0ICovXG4gICAgaW5pdE1vZHVsZXMgKCkge1xuICAgICAgICAvLyBDb3JlXG4gICAgICAgIHRoaXMuY29yZS5kZXRlY3QuaW5pdCgpO1xuXG4gICAgICAgIC8vIENvbnRyb2xsZXJcbiAgICAgICAgdGhpcy5yb3V0ZXIuaW5pdCgpO1xuXG4gICAgICAgIC8vIFNob3BpZnlcbiAgICAgICAgdGhpcy5zaG9waWZ5ID0gbmV3IFNob3BpZnlBcHAoKTtcblxuICAgICAgICAvLyBVdGlsaXR5XG4gICAgICAgIHRoaXMuYWN0aW9ucy5pbml0KCk7XG5cbiAgICAgICAgdGhpcy5jb3JlLnNjcm9sbHMuaW5pdCgpO1xuXG4gICAgICAgIHRoaXMuY29yZS5yZXNpemVzLmluaXQoKTtcblxuICAgICAgICAvLyBWaWV3c1xuICAgICAgICB0aGlzLmludHJvLmluaXQoKTtcblxuICAgICAgICAvLyBBbmFseXRpY3NcbiAgICAgICAgdGhpcy5hbmFseXRpY3MgPSBuZXcgQW5hbHl0aWNzKCk7XG5cbiAgICAgICAgLy8gUGFyYWxsYXhcbiAgICAgICAgLy8gdGhpcy5wYXJhbGxheCA9IG5ldyBQYXJhbGxheCgpO1xuICAgIH1cbn1cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogRXhwb3NlXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbndpbmRvdy5hcHAgPSBuZXcgQXBwKCk7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIEV4cG9ydFxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5leHBvcnQgZGVmYXVsdCB3aW5kb3cuYXBwO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNvdXJjZS9qcy9hcHAuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7Ozs7QUFQQTtBQUNBO0FBUUE7Ozs7Ozs7QUFPQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUdBOzs7OztBQUdBO0FBQ0E7QUFDQTs7O0FBR0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///94\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _util = __webpack_require__(/*! ../core/util */ 13);\n\nvar util = _interopRequireWildcard(_util);\n\nvar _log = __webpack_require__(/*! ../core/log */ 24);\n\nvar _log2 = _interopRequireDefault(_log);\n\nvar _properjsController = __webpack_require__(/*! properjs-controller */ 17);\n\nvar _properjsController2 = _interopRequireDefault(_properjsController);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n *\n * @public\n * @class ImageController\n * @param {Hobo} $images The image collection to load\n * @classdesc Handles breaking out the preload vs lazyload batches\n * @memberof core\n *\n */\nvar ImageController = function (_Controller) {\n    _inherits(ImageController, _Controller);\n\n    function ImageController($images) {\n        _classCallCheck(this, ImageController);\n\n        var _this = _possibleConstructorReturn(this, (ImageController.__proto__ || Object.getPrototypeOf(ImageController)).call(this));\n\n        _this.$preload = $images; // util.getElementsInView( $images );\n        _this.$lazyload = $images.not(_this.$preload);\n        _this.loaders = {};\n\n        if (_this.$preload.length) {\n            _this.handleLoading(_this.$preload, "preload", util.noop);\n        } else {\n            setTimeout(function () {\n                _this.fire("preloaded");\n            }, 0);\n        }\n\n        if (_this.$lazyload.length) {\n            _this.handleLoading(_this.$lazyload, "lazyload", util.isElementLoadable);\n        }\n        return _this;\n    }\n\n    /**\n     *\n     * @public\n     * @method handleLoading\n     * @param {Hobo} $images The batch to load\n     * @param {string} event The event to fire\n     * @param {function} handler The executor method to determine image loadability\n     * @memberof core.ImageController\n     * @description ImageLoader instance for loading a batch.\n     *\n     */\n\n\n    _createClass(ImageController, [{\n        key: "handleLoading",\n        value: function handleLoading($images, event, handler) {\n            var _this2 = this;\n\n            (0, _log2.default)("ImageController " + event + " queue:", $images.length);\n\n            var curr = 0;\n\n            this.loaders[event] = util.loadImages($images, handler);\n            this.loaders[event].on("load", function (elem) {\n                curr++;\n\n                _this2.fire(event, {\n                    done: curr,\n                    total: $images.length,\n                    element: elem\n                });\n            });\n            this.loaders[event].on("done", function () {\n                (0, _log2.default)("ImageController " + event + "ed:", $images.length);\n\n                _this2.fire(event + "ed");\n            });\n        }\n\n        /**\n         *\n         * @public\n         * @method destroy\n         * @memberof core.ImageController\n         * @description Stop and kill ImageLoader instances.\n         *\n         */\n\n    }, {\n        key: "destroy",\n        value: function destroy() {\n            var loader = null;\n\n            for (loader in this.loaders) {\n                if (this.loaders.hasOwnProperty(loader)) {\n                    this.loaders[loader].stop();\n                    this.loaders[loader] = null;\n\n                    delete this.loaders[loader];\n                }\n            }\n        }\n    }]);\n\n    return ImageController;\n}(_properjsController2.default);\n\n/******************************************************************************\n * Export\n*******************************************************************************/\n\n\nexports.default = ImageController;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc291cmNlL2pzL2NsYXNzL0ltYWdlQ29udHJvbGxlci5qcz8xMWI4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbFwiO1xuaW1wb3J0IGxvZyBmcm9tIFwiLi4vY29yZS9sb2dcIjtcbmltcG9ydCBDb250cm9sbGVyIGZyb20gXCJwcm9wZXJqcy1jb250cm9sbGVyXCI7XG5cblxuLyoqXG4gKlxuICogQHB1YmxpY1xuICogQGNsYXNzIEltYWdlQ29udHJvbGxlclxuICogQHBhcmFtIHtIb2JvfSAkaW1hZ2VzIFRoZSBpbWFnZSBjb2xsZWN0aW9uIHRvIGxvYWRcbiAqIEBjbGFzc2Rlc2MgSGFuZGxlcyBicmVha2luZyBvdXQgdGhlIHByZWxvYWQgdnMgbGF6eWxvYWQgYmF0Y2hlc1xuICogQG1lbWJlcm9mIGNvcmVcbiAqXG4gKi9cbmNsYXNzIEltYWdlQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIge1xuICAgIGNvbnN0cnVjdG9yICggJGltYWdlcyApIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLiRwcmVsb2FkID0gJGltYWdlczsgLy8gdXRpbC5nZXRFbGVtZW50c0luVmlldyggJGltYWdlcyApO1xuICAgICAgICB0aGlzLiRsYXp5bG9hZCA9ICRpbWFnZXMubm90KCB0aGlzLiRwcmVsb2FkICk7XG4gICAgICAgIHRoaXMubG9hZGVycyA9IHt9O1xuXG5cbiAgICAgICAgaWYgKCB0aGlzLiRwcmVsb2FkLmxlbmd0aCApIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlTG9hZGluZyggdGhpcy4kcHJlbG9hZCwgXCJwcmVsb2FkXCIsIHV0aWwubm9vcCApO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUoIFwicHJlbG9hZGVkXCIgKTtcblxuICAgICAgICAgICAgfSwgMCApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCB0aGlzLiRsYXp5bG9hZC5sZW5ndGggKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUxvYWRpbmcoIHRoaXMuJGxhenlsb2FkLCBcImxhenlsb2FkXCIsIHV0aWwuaXNFbGVtZW50TG9hZGFibGUgKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQG1ldGhvZCBoYW5kbGVMb2FkaW5nXG4gICAgICogQHBhcmFtIHtIb2JvfSAkaW1hZ2VzIFRoZSBiYXRjaCB0byBsb2FkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IFRoZSBldmVudCB0byBmaXJlXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlciBUaGUgZXhlY3V0b3IgbWV0aG9kIHRvIGRldGVybWluZSBpbWFnZSBsb2FkYWJpbGl0eVxuICAgICAqIEBtZW1iZXJvZiBjb3JlLkltYWdlQ29udHJvbGxlclxuICAgICAqIEBkZXNjcmlwdGlvbiBJbWFnZUxvYWRlciBpbnN0YW5jZSBmb3IgbG9hZGluZyBhIGJhdGNoLlxuICAgICAqXG4gICAgICovXG4gICAgaGFuZGxlTG9hZGluZyAoICRpbWFnZXMsIGV2ZW50LCBoYW5kbGVyICkge1xuICAgICAgICBsb2coIGBJbWFnZUNvbnRyb2xsZXIgJHtldmVudH0gcXVldWU6YCwgJGltYWdlcy5sZW5ndGggKTtcblxuICAgICAgICBsZXQgY3VyciA9IDA7XG5cbiAgICAgICAgdGhpcy5sb2FkZXJzWyBldmVudCBdID0gdXRpbC5sb2FkSW1hZ2VzKCAkaW1hZ2VzLCBoYW5kbGVyICk7XG4gICAgICAgIHRoaXMubG9hZGVyc1sgZXZlbnQgXS5vbiggXCJsb2FkXCIsICggZWxlbSApID0+IHtcbiAgICAgICAgICAgIGN1cnIrKztcblxuICAgICAgICAgICAgdGhpcy5maXJlKCBldmVudCwge1xuICAgICAgICAgICAgICAgIGRvbmU6IGN1cnIsXG4gICAgICAgICAgICAgICAgdG90YWw6ICRpbWFnZXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5sb2FkZXJzWyBldmVudCBdLm9uKCBcImRvbmVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgbG9nKCBgSW1hZ2VDb250cm9sbGVyICR7ZXZlbnR9ZWQ6YCwgJGltYWdlcy5sZW5ndGggKTtcblxuICAgICAgICAgICAgdGhpcy5maXJlKCBgJHtldmVudH1lZGAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAbWV0aG9kIGRlc3Ryb3lcbiAgICAgKiBAbWVtYmVyb2YgY29yZS5JbWFnZUNvbnRyb2xsZXJcbiAgICAgKiBAZGVzY3JpcHRpb24gU3RvcCBhbmQga2lsbCBJbWFnZUxvYWRlciBpbnN0YW5jZXMuXG4gICAgICpcbiAgICAgKi9cbiAgICBkZXN0cm95ICgpIHtcbiAgICAgICAgbGV0IGxvYWRlciA9IG51bGw7XG5cbiAgICAgICAgZm9yICggbG9hZGVyIGluIHRoaXMubG9hZGVycyApIHtcbiAgICAgICAgICAgIGlmICggdGhpcy5sb2FkZXJzLmhhc093blByb3BlcnR5KCBsb2FkZXIgKSApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRlcnNbIGxvYWRlciBdLnN0b3AoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRlcnNbIGxvYWRlciBdID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmxvYWRlcnNbIGxvYWRlciBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogRXhwb3J0XG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuZXhwb3J0IGRlZmF1bHQgSW1hZ2VDb250cm9sbGVyO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNvdXJjZS9qcy9jbGFzcy9JbWFnZUNvbnRyb2xsZXIuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FBRUE7Ozs7Ozs7OztBQVNBOzs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcEJBO0FBcUJBO0FBQ0E7QUFFQTs7Ozs7Ozs7Ozs7Ozs7O0FBV0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBOUVBO0FBQ0E7QUFrRkE7Ozs7O0FBR0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///95\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // import * as PIXI from "pixi.js";\n\n\nvar _dom = __webpack_require__(/*! ../core/dom */ 14);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _core = __webpack_require__(/*! pixi.js/lib/core */ 8);\n\nvar PIXI = _interopRequireWildcard(_core);\n\nvar _filters = __webpack_require__(/*! pixi.js/lib/filters */ 163);\n\nvar FILTER = _interopRequireWildcard(_filters);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n// WRAP_MODES.REPEAT\n\n/**\n *\n * @public\n * @class canvas\n * @classdesc Canvas PIXI\n * @memberof core\n *\n */\n\nvar canvas = function () {\n    function canvas(options) {\n        _classCallCheck(this, canvas);\n\n        this.width = 1400;\n        this.height = 1750;\n        this.element = document.getElementById("canvas");\n        this.canvasElement;\n        this.ratio = 150 / 830;\n        this.count = 0;\n        this.animation;\n        this.renderer = PIXI.autoDetectRenderer(this.width, this.height, { transparent: true });\n        this.renderer.autoResize = true;\n        this.texture;\n        this.preview;\n        this.displacementSprite;\n        this.displacementFilter;\n        this.stage;\n        this.setScene("../img/bloom/jordansowers-bloom_2560.jpg");\n    }\n\n    _createClass(canvas, [{\n        key: "setScene",\n        value: function setScene(url) {\n\n            this.element.appendChild(this.renderer.view);\n\n            this.stage = new PIXI.Container();\n\n            this.texture = PIXI.Texture.fromImage(url);\n\n            this.preview = new PIXI.Sprite(this.texture);\n\n            this.preview.anchor.x = 0;\n\n            this.displacementSprite = PIXI.Sprite.fromImage("../img/displacement.png");\n\n            this.displacementSprite.texture.baseTexture.wrapMode = PIXI.WRAP_MODES.REPEAT;\n\n            this.displacementFilter = new FILTER.DisplacementFilter(this.displacementSprite);\n\n            this.displacementSprite.scale.y = 6;\n\n            this.displacementSprite.scale.x = 6;\n\n            this.stage.addChild(this.displacementSprite);\n\n            this.stage.addChild(this.preview);\n\n            this.animate();\n\n            this.image = this.element.parentNode.querySelector(".clone-img");\n\n            this.image.classList.add("show-hero");\n\n            _dom2.default.root.addClass("show");\n        }\n    }, {\n        key: "destroy",\n        value: function destroy() {\n            cancelAnimationFrame(this.animation);\n            this.stage.removeChildren();\n            this.stage.destroy(true);\n            this.element.classList.add("fade-canvas");\n\n            // setTimeout(function({\n            //   this.element.removeChild(this.canvasElement);\n            // },)\n        }\n    }, {\n        key: "animate",\n        value: function animate() {\n            this.animation = requestAnimationFrame(this.animate.bind(this));\n\n            this.displacementSprite.x = this.count * 50;\n            this.displacementSprite.y = this.count * 50;\n\n            this.count += 0.1;\n\n            this.stage.filters = [this.displacementFilter];\n\n            this.renderer.render(this.stage);\n\n            this.canvasElement = this.element.querySelector("canvas");\n        }\n    }]);\n\n    return canvas;\n}();\n\n/******************************************************************************\n * Export\n*******************************************************************************/\n\n\nexports.default = canvas;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc291cmNlL2pzL2NsYXNzL2NhbnZhcy5qcz81YTQ2Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGltcG9ydCAqIGFzIFBJWEkgZnJvbSBcInBpeGkuanNcIjtcbmltcG9ydCBkb20gZnJvbSBcIi4uL2NvcmUvZG9tXCI7XG5pbXBvcnQgKiBhcyBQSVhJIGZyb20gXCJwaXhpLmpzL2xpYi9jb3JlXCI7XG5cbmltcG9ydCAqIGFzIEZJTFRFUiBmcm9tIFwicGl4aS5qcy9saWIvZmlsdGVyc1wiO1xuXG5cblxuLy8gV1JBUF9NT0RFUy5SRVBFQVRcblxuLyoqXG4gKlxuICogQHB1YmxpY1xuICogQGNsYXNzIGNhbnZhc1xuICogQGNsYXNzZGVzYyBDYW52YXMgUElYSVxuICogQG1lbWJlcm9mIGNvcmVcbiAqXG4gKi9cblxuY2xhc3MgY2FudmFzIHtcblxuXHQgIGNvbnN0cnVjdG9yIChvcHRpb25zKSB7XG5cbiAgICAgICAgdGhpcy53aWR0aCA9IDE0MDA7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gMTc1MDtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIik7XG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudDtcbiAgICAgICAgdGhpcy5yYXRpbyA9IDE1MCAvIDgzMDtcbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHsgdHJhbnNwYXJlbnQ6IHRydWUgfSk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuYXV0b1Jlc2l6ZSA9IHRydWU7XG4gICAgICAgIHRoaXMudGV4dHVyZTtcbiAgICAgICAgdGhpcy5wcmV2aWV3O1xuICAgICAgICB0aGlzLmRpc3BsYWNlbWVudFNwcml0ZTtcbiAgICAgICAgdGhpcy5kaXNwbGFjZW1lbnRGaWx0ZXI7XG4gICAgICAgIHRoaXMuc3RhZ2U7XG4gICAgICAgIHRoaXMuc2V0U2NlbmUoXCIuLi9pbWcvYmxvb20vam9yZGFuc293ZXJzLWJsb29tXzI1NjAuanBnXCIpO1xuXG4gICAgfVxuXG4gICAgc2V0U2NlbmUgKHVybCkge1xuXG5cdCAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci52aWV3KTtcblxuICAgICAgICB0aGlzLnN0YWdlID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG5cbiAgICAgICAgdGhpcy50ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb21JbWFnZSh1cmwpO1xuXG4gICAgICAgIHRoaXMucHJldmlldyA9IG5ldyBQSVhJLlNwcml0ZSh0aGlzLnRleHR1cmUpO1xuXG4gICAgICAgIHRoaXMucHJldmlldy5hbmNob3IueCA9IDA7XG5cbiAgICAgICAgdGhpcy5kaXNwbGFjZW1lbnRTcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tSW1hZ2UoXCIuLi9pbWcvZGlzcGxhY2VtZW50LnBuZ1wiKTtcblxuICAgICAgICB0aGlzLmRpc3BsYWNlbWVudFNwcml0ZS50ZXh0dXJlLmJhc2VUZXh0dXJlLndyYXBNb2RlID0gUElYSS5XUkFQX01PREVTLlJFUEVBVDtcblxuICAgICBcdFx0dGhpcy5kaXNwbGFjZW1lbnRGaWx0ZXIgPSBuZXcgRklMVEVSLkRpc3BsYWNlbWVudEZpbHRlcih0aGlzLmRpc3BsYWNlbWVudFNwcml0ZSk7XG5cbiAgICAgICAgdGhpcy5kaXNwbGFjZW1lbnRTcHJpdGUuc2NhbGUueSA9IDY7XG5cbiAgICAgICAgdGhpcy5kaXNwbGFjZW1lbnRTcHJpdGUuc2NhbGUueCA9IDY7XG5cbiAgICAgICAgdGhpcy5zdGFnZS5hZGRDaGlsZCh0aGlzLmRpc3BsYWNlbWVudFNwcml0ZSk7XG5cbiAgICAgICAgdGhpcy5zdGFnZS5hZGRDaGlsZCh0aGlzLnByZXZpZXcpO1xuXG5cdCAgICB0aGlzLmFuaW1hdGUoKTtcblxuICAgICAgICB0aGlzLmltYWdlID0gdGhpcy5lbGVtZW50LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcihcIi5jbG9uZS1pbWdcIik7XG5cbiAgICAgICAgdGhpcy5pbWFnZS5jbGFzc0xpc3QuYWRkKFwic2hvdy1oZXJvXCIpO1xuXG5cdFx0XHRcdGRvbS5yb290LmFkZENsYXNzKFwic2hvd1wiKTtcblxuICAgIH1cblxuICAgIGRlc3Ryb3kgKCkge1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGlvbik7XG4gICAgICAgIHRoaXMuc3RhZ2UucmVtb3ZlQ2hpbGRyZW4oKTtcbiAgICAgICAgdGhpcy5zdGFnZS5kZXN0cm95KHRydWUpO1xuICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZhZGUtY2FudmFzXCIpO1xuXG4gICAgICAgIC8vIHNldFRpbWVvdXQoZnVuY3Rpb24oe1xuICAgICAgICAvLyAgIHRoaXMuZWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLmNhbnZhc0VsZW1lbnQpO1xuICAgICAgICAvLyB9LClcblxuICAgIH1cblxuXG4gICAgYW5pbWF0ZSAoKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZS5iaW5kKHRoaXMpKTtcblxuICAgICAgICB0aGlzLmRpc3BsYWNlbWVudFNwcml0ZS54ID0gdGhpcy5jb3VudCAqIDUwO1xuICAgICAgICB0aGlzLmRpc3BsYWNlbWVudFNwcml0ZS55ID0gdGhpcy5jb3VudCAqIDUwO1xuXG4gICAgICAgIHRoaXMuY291bnQgKz0gMC4xO1xuXG4gICAgICAgIHRoaXMuc3RhZ2UuZmlsdGVycyA9IFt0aGlzLmRpc3BsYWNlbWVudEZpbHRlcl07XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zdGFnZSk7XG5cbiAgICAgICAgdGhpcy5jYW52YXNFbGVtZW50ID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJjYW52YXNcIik7XG4gICAgfVxuXG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIEV4cG9ydFxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmV4cG9ydCBkZWZhdWx0IGNhbnZhcztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzb3VyY2UvanMvY2xhc3MvY2FudmFzLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFEQTtBQUNBOzs7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBOzs7Ozs7O0FBR0E7QUFDQTtBQUNBOzs7Ozs7Ozs7QUFTQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBSUE7Ozs7O0FBR0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///96\n')},function(module,exports,__webpack_require__){"use strict";eval('/* WEBPACK VAR INJECTION */(function(global) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };\n\n/*!\n * gumshoe v3.5.0: A simple, framework-agnostic scrollspy script.\n * (c) 2017 Chris Ferdinandi\n * MIT License\n * http://github.com/cferdinandi/gumshoe\n */\n\n(function (root, factory) {\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory(root)),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === \'function\' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if ((typeof exports === "undefined" ? "undefined" : _typeof(exports)) === "object") {\n        module.exports = factory(root);\n    } else {\n        root.gumshoe = factory(root);\n    }\n})(typeof global !== "undefined" ? global : undefined.window || undefined.global, function (root) {\n\n    //\n    // Variables\n    //\n\n    var gumshoe = {}; // Object for public APIs\n    var supports = "querySelector" in document && "addEventListener" in root && "classList" in document.createElement("_"); // Feature test\n    var navs = []; // Array for nav elements\n    var settings = void 0;var eventTimeout = void 0;var docHeight = void 0;var header = void 0;var headerHeight = void 0;var currentNav = void 0;var scrollEventDelay = void 0;\n\n    // Default settings\n    var defaults = {\n        selector: "[data-gumshoe] a",\n        selectorHeader: "[data-gumshoe-header]",\n        container: root,\n        offset: 0,\n        activeClass: "active",\n        scrollDelay: false,\n        callback: function callback() {}\n    };\n\n    //\n    // Methods\n    //\n\n    /**\n    * A simple forEach() implementation for Arrays, Objects and NodeLists.\n    * @private\n    * @author Todd Motto\n    * @link   https://github.com/toddmotto/foreach\n    * @param {Array|Object|NodeList} collection Collection of items to iterate\n    * @param {Function}              callback   Callback function for each iteration\n    * @param {Array|Object|NodeList} scope      Object/NodeList/Array that forEach is iterating over (aka `this`)\n    */\n    var forEach = function forEach(collection, callback, scope) {\n        if (Object.prototype.toString.call(collection) === "[object Object]") {\n            for (var prop in collection) {\n                if (Object.prototype.hasOwnProperty.call(collection, prop)) {\n                    callback.call(scope, collection[prop], prop, collection);\n                }\n            }\n        } else {\n            for (var i = 0, len = collection.length; i < len; i++) {\n                callback.call(scope, collection[i], i, collection);\n            }\n        }\n    };\n\n    /**\n    * Merge two or more objects. Returns a new object.\n    * @private\n    * @param {Boolean}  deep     If true, do a deep (or recursive) merge [optional]\n    * @param {Object}   objects  The objects to merge together\n    * @returns {Object}          Merged values of defaults and options\n    */\n    var extend = function extend() {\n\n        // Variables\n        var extended = {};\n        var deep = false;\n        var i = 0;\n        var length = arguments.length;\n\n        // Check if a deep merge\n        if (Object.prototype.toString.call(arguments[0]) === "[object Boolean]") {\n            deep = arguments[0];\n            i++;\n        }\n\n        // Merge the object into the extended object\n        var merge = function merge(obj) {\n            for (var prop in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n                    // If deep merge and property is an object, merge properties\n                    if (deep && Object.prototype.toString.call(obj[prop]) === "[object Object]") {\n                        extended[prop] = extend(true, extended[prop], obj[prop]);\n                    } else {\n                        extended[prop] = obj[prop];\n                    }\n                }\n            }\n        };\n\n        // Loop through each object and conduct a merge\n        for (; i < length; i++) {\n            var obj = arguments[i];\n\n            merge(obj);\n        }\n\n        return extended;\n    };\n\n    /**\n    * Get the height of an element.\n    * @private\n    * @param  {Node} elem The element to get the height of\n    * @returns {Number}    The element\'s height in pixels\n    */\n    var getHeight = function getHeight(elem) {\n        return Math.max(elem.scrollHeight, elem.offsetHeight, elem.clientHeight);\n    };\n\n    /**\n    * Get the document element\'s height\n    * @private\n    * @returns {Number}\n    */\n    var getDocumentHeight = function getDocumentHeight() {\n        return Math.max(document.body.scrollHeight, document.documentElement.scrollHeight, document.body.offsetHeight, document.documentElement.offsetHeight, document.body.clientHeight, document.documentElement.clientHeight);\n    };\n\n    /**\n    * Get an element\'s distance from the top of the Document.\n    * @private\n    * @param  {Node} elem The element\n    * @returns {Number}    Distance from the top in pixels\n    */\n    var getOffsetTop = function getOffsetTop(elem) {\n        var location = 0;\n\n        if (elem.offsetParent) {\n            do {\n                location += elem.offsetTop;\n                elem = elem.offsetParent;\n            } while (elem);\n        } else {\n            location = elem.offsetTop;\n        }\n        location = location - headerHeight - settings.offset;\n        return location >= 0 ? location : 0;\n    };\n\n    /**\n    * Determine if an element is in the viewport\n    * @param  {Node}    elem The element\n    * @returns {Boolean}      Returns true if element is in the viewport\n    */\n    var isInViewport = function isInViewport(elem) {\n        var distance = elem.getBoundingClientRect();\n\n        return distance.top >= 0 && distance.left >= 0 && distance.bottom <= (root.innerHeight || document.documentElement.clientHeight) && distance.right <= (root.innerWidth || document.documentElement.clientWidth);\n    };\n\n    /**\n    * Arrange nagivation elements from furthest from the top to closest\n    * @private\n    */\n    var sortNavs = function sortNavs() {\n        navs.sort(function (a, b) {\n            if (a.distance > b.distance) {\n                return -1;\n            }\n            if (a.distance < b.distance) {\n                return 1;\n            }\n            return 0;\n        });\n    };\n\n    /**\n    * Calculate the distance of elements from the top of the document\n    * @public\n    */\n    gumshoe.setDistances = function () {\n\n        // Calculate distances\n        docHeight = getDocumentHeight(); // The document\n        headerHeight = header ? getHeight(header) + getOffsetTop(header) : 0; // The fixed header\n        forEach(navs, function (nav) {\n            nav.distance = getOffsetTop(nav.target); // Each navigation target\n        });\n\n        // When done, organization navigation elements\n        sortNavs();\n    };\n\n    /**\n    * Get all navigation elements and store them in an array\n    * @private\n    */\n    var getNavs = function getNavs() {\n\n        // Get all navigation links\n        var navLinks = document.querySelectorAll(settings.selector);\n\n        // For each link, create an object of attributes and push to an array\n        forEach(navLinks, function (nav) {\n            if (!nav.dataset.item) {\n                return;\n            }\n            var target = document.querySelector(nav.dataset.item); // EDIT: Removed Hash in order to change element from HREF\n\n            if (!target) {\n                return;\n            }\n            navs.push({\n                nav: nav,\n                target: target,\n                parent: nav.parentNode.tagName.toLowerCase() === "li" ? nav.parentNode : null,\n                distance: 0\n            });\n        });\n    };\n\n    /**\n    * Remove the activation class from the currently active navigation element\n    * @private\n    */\n    var deactivateCurrentNav = function deactivateCurrentNav() {\n        if (currentNav) {\n            currentNav.nav.classList.remove(settings.activeClass);\n            if (currentNav.parent) {\n                currentNav.parent.classList.remove(settings.activeClass);\n            }\n        }\n    };\n\n    /**\n    * Add the activation class to the currently active navigation element\n    * @private\n    * @param  {Node} nav The currently active nav\n    */\n    var activateNav = function activateNav(nav) {\n\n        // If a current Nav is set, deactivate it\n        deactivateCurrentNav();\n\n        // Activate the current target\'s navigation element\n        nav.nav.classList.add(settings.activeClass);\n        if (nav.parent) {\n            nav.parent.classList.add(settings.activeClass);\n        }\n\n        settings.callback(nav); // Callback after methods are run\n\n        // Set new currentNav\n        currentNav = {\n            nav: nav.nav,\n            parent: nav.parent\n        };\n    };\n\n    /**\n    * Determine which navigation element is currently active and run activation method\n    * @public\n    * @returns {Object} The current nav data.\n    */\n    gumshoe.getCurrentNav = function () {\n\n        // Get current position from top of the document\n        var position = root.pageYOffset;\n\n        // If at the bottom of the page and last section is in the viewport, activate the last nav\n        if (root.innerHeight + position >= docHeight && isInViewport(navs[0].target)) {\n            activateNav(navs[0]);\n            return navs[0];\n        }\n\n        // Otherwise, loop through each nav until you find the active one\n        for (var i = 0, len = navs.length; i < len; i++) {\n            var nav = navs[i];\n\n            if (nav.distance <= position) {\n                activateNav(nav);\n                return nav;\n            }\n        }\n\n        // If no active nav is found, deactivate the current nav\n        deactivateCurrentNav();\n        settings.callback();\n    };\n\n    /**\n    * If nav element has active class on load, set it as currently active navigation\n    * @private\n    */\n    var setInitCurrentNav = function setInitCurrentNav() {\n        forEach(navs, function (nav) {\n            if (nav.nav.classList.contains(settings.activeClass)) {\n                currentNav = {\n                    nav: nav.nav,\n                    parent: nav.parent\n                };\n            }\n        });\n    };\n\n    /**\n    * Destroy the current initialization.\n    * @public\n    */\n    gumshoe.destroy = function () {\n\n        // If plugin isn\'t already initialized, stop\n        if (!settings) {\n            return;\n        }\n\n        // Remove event listeners\n        settings.container.removeEventListener("resize", eventThrottler, false);\n        settings.container.removeEventListener("scroll", eventThrottler, false);\n\n        // Reset variables\n        navs = [];\n        settings = null;\n        eventTimeout = null;\n        docHeight = null;\n        header = null;\n        headerHeight = null;\n        currentNav = null;\n        scrollEventDelay = null;\n    };\n\n    /**\n    * Run functions after scrolling stops\n    * @param  {[type]} event [description]\n    * @returns {[type]}       [description]\n    */\n    var scrollStop = function scrollStop(event) {\n\n        // Clear our timeout throughout the scroll\n        window.clearTimeout(eventTimeout);\n\n        // recalculate distances and then get currently active nav\n        eventTimeout = setTimeout(function () {\n            gumshoe.setDistances();\n            gumshoe.getCurrentNav();\n        }, 66);\n    };\n\n    /**\n    * On window scroll and resize, only run events at a rate of 15fps for better performance\n    * @private\n    * @param  {Function} eventTimeout Timeout function\n    * @param  {Object} settings\n    */\n    var eventThrottler = function eventThrottler(event) {\n        if (!eventTimeout) {\n            eventTimeout = setTimeout(function () {\n\n                eventTimeout = null; // Reset timeout\n\n                // If scroll event, get currently active nav\n                if (event.type === "scroll") {\n                    gumshoe.getCurrentNav();\n                }\n\n                // If resize event, recalculate distances and then get currently active nav\n                if (event.type === "resize") {\n                    gumshoe.setDistances();\n                    gumshoe.getCurrentNav();\n                }\n            }, 66);\n        }\n    };\n\n    /**\n    * Initialize Plugin\n    * @public\n    * @param {Object} options User settings\n    */\n    gumshoe.init = function (options) {\n\n        // feature test\n        if (!supports) {\n            return;\n        }\n\n        // Destroy any existing initializations\n        gumshoe.destroy();\n\n        // Set variables\n        settings = extend(defaults, options || {}); // Merge user options with defaults\n        header = document.querySelector(settings.selectorHeader); // Get fixed header\n        getNavs(); // Get navigation elements\n\n        // If no navigation elements exist, stop running gumshoe\n        if (navs.length === 0) {\n            return;\n        }\n\n        // Run init methods\n        setInitCurrentNav();\n        gumshoe.setDistances();\n        gumshoe.getCurrentNav();\n\n        // Listen for events\n        settings.container.addEventListener("resize", eventThrottler, false);\n        if (settings.scrollDelay) {\n            settings.container.addEventListener("scroll", scrollStop, false);\n        } else {\n            settings.container.addEventListener("scroll", eventThrottler, false);\n        }\n    };\n\n    //\n    // Public APIs\n    //\n\n    return gumshoe;\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! ./../../../~/webpack/buildin/global.js */ 12)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc291cmNlL2pzL2NsYXNzL2d1bXNob2UuanM/ZmM5MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIGd1bXNob2UgdjMuNS4wOiBBIHNpbXBsZSwgZnJhbWV3b3JrLWFnbm9zdGljIHNjcm9sbHNweSBzY3JpcHQuXG4gKiAoYykgMjAxNyBDaHJpcyBGZXJkaW5hbmRpXG4gKiBNSVQgTGljZW5zZVxuICogaHR0cDovL2dpdGh1Yi5jb20vY2ZlcmRpbmFuZGkvZ3Vtc2hvZVxuICovXG5cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICAgIGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG4gICAgICAgIGRlZmluZShbXSwgZmFjdG9yeShyb290KSk7XG4gICAgfSBlbHNlIGlmICggdHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIgKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyb290KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByb290Lmd1bXNob2UgPSBmYWN0b3J5KHJvb3QpO1xuICAgIH1cbn0pKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0aGlzLndpbmRvdyB8fCB0aGlzLmdsb2JhbCwgKChyb290KSA9PiB7XG5cblxuXG4gICAgLy9cbiAgICAvLyBWYXJpYWJsZXNcbiAgICAvL1xuXG4gICAgY29uc3QgZ3Vtc2hvZSA9IHt9OyAvLyBPYmplY3QgZm9yIHB1YmxpYyBBUElzXG4gICAgY29uc3Qgc3VwcG9ydHMgPSBcInF1ZXJ5U2VsZWN0b3JcIiBpbiBkb2N1bWVudCAmJiBcImFkZEV2ZW50TGlzdGVuZXJcIiBpbiByb290ICYmIFwiY2xhc3NMaXN0XCIgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIl9cIik7IC8vIEZlYXR1cmUgdGVzdFxuICAgIGxldCBuYXZzID0gW107IC8vIEFycmF5IGZvciBuYXYgZWxlbWVudHNcbiAgICBsZXQgc2V0dGluZ3M7IGxldCBldmVudFRpbWVvdXQ7IGxldCBkb2NIZWlnaHQ7IGxldCBoZWFkZXI7IGxldCBoZWFkZXJIZWlnaHQ7IGxldCBjdXJyZW50TmF2OyBsZXQgc2Nyb2xsRXZlbnREZWxheTtcblxuICAgIC8vIERlZmF1bHQgc2V0dGluZ3NcbiAgICBjb25zdCBkZWZhdWx0cyA9IHtcbiAgICAgICAgc2VsZWN0b3I6IFwiW2RhdGEtZ3Vtc2hvZV0gYVwiLFxuICAgICAgICBzZWxlY3RvckhlYWRlcjogXCJbZGF0YS1ndW1zaG9lLWhlYWRlcl1cIixcbiAgICAgICAgY29udGFpbmVyOiByb290LFxuICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgIGFjdGl2ZUNsYXNzOiBcImFjdGl2ZVwiLFxuICAgICAgICBzY3JvbGxEZWxheTogZmFsc2UsXG4gICAgICAgIGNhbGxiYWNrICgpIHt9XG4gICAgfTtcblxuXG4gICAgLy9cbiAgICAvLyBNZXRob2RzXG4gICAgLy9cblxuICAgIC8qKlxuXHQgKiBBIHNpbXBsZSBmb3JFYWNoKCkgaW1wbGVtZW50YXRpb24gZm9yIEFycmF5cywgT2JqZWN0cyBhbmQgTm9kZUxpc3RzLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAYXV0aG9yIFRvZGQgTW90dG9cblx0ICogQGxpbmsgICBodHRwczovL2dpdGh1Yi5jb20vdG9kZG1vdHRvL2ZvcmVhY2hcblx0ICogQHBhcmFtIHtBcnJheXxPYmplY3R8Tm9kZUxpc3R9IGNvbGxlY3Rpb24gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byBpdGVyYXRlXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259ICAgICAgICAgICAgICBjYWxsYmFjayAgIENhbGxiYWNrIGZ1bmN0aW9uIGZvciBlYWNoIGl0ZXJhdGlvblxuXHQgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxOb2RlTGlzdH0gc2NvcGUgICAgICBPYmplY3QvTm9kZUxpc3QvQXJyYXkgdGhhdCBmb3JFYWNoIGlzIGl0ZXJhdGluZyBvdmVyIChha2EgYHRoaXNgKVxuXHQgKi9cbiAgICBjb25zdCBmb3JFYWNoID0gZnVuY3Rpb24gKCBjb2xsZWN0aW9uLCBjYWxsYmFjaywgc2NvcGUgKSB7XG4gICAgICAgIGlmICggT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKCBjb2xsZWN0aW9uICkgPT09IFwiW29iamVjdCBPYmplY3RdXCIgKSB7XG4gICAgICAgICAgICBmb3IgKCBjb25zdCBwcm9wIGluIGNvbGxlY3Rpb24gKSB7XG4gICAgICAgICAgICAgICAgaWYgKCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoIGNvbGxlY3Rpb24sIHByb3AgKSApIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbCggc2NvcGUsIGNvbGxlY3Rpb25bIHByb3AgXSwgcHJvcCwgY29sbGVjdGlvbiApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoIGxldCBpID0gMCwgbGVuID0gY29sbGVjdGlvbi5sZW5ndGg7IGkgPCBsZW47IGkrKyApIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKCBzY29wZSwgY29sbGVjdGlvblsgaSBdLCBpLCBjb2xsZWN0aW9uICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG5cdCAqIE1lcmdlIHR3byBvciBtb3JlIG9iamVjdHMuIFJldHVybnMgYSBuZXcgb2JqZWN0LlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59ICBkZWVwICAgICBJZiB0cnVlLCBkbyBhIGRlZXAgKG9yIHJlY3Vyc2l2ZSkgbWVyZ2UgW29wdGlvbmFsXVxuXHQgKiBAcGFyYW0ge09iamVjdH0gICBvYmplY3RzICBUaGUgb2JqZWN0cyB0byBtZXJnZSB0b2dldGhlclxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSAgICAgICAgICBNZXJnZWQgdmFsdWVzIG9mIGRlZmF1bHRzIGFuZCBvcHRpb25zXG5cdCAqL1xuICAgIHZhciBleHRlbmQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgLy8gVmFyaWFibGVzXG4gICAgICAgIGNvbnN0IGV4dGVuZGVkID0ge307XG4gICAgICAgIGxldCBkZWVwID0gZmFsc2U7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICAgICAgICAvLyBDaGVjayBpZiBhIGRlZXAgbWVyZ2VcbiAgICAgICAgaWYgKCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoIGFyZ3VtZW50c1sgMCBdICkgPT09IFwiW29iamVjdCBCb29sZWFuXVwiICkge1xuICAgICAgICAgICAgZGVlcCA9IGFyZ3VtZW50c1sgMCBdO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWVyZ2UgdGhlIG9iamVjdCBpbnRvIHRoZSBleHRlbmRlZCBvYmplY3RcbiAgICAgICAgY29uc3QgbWVyZ2UgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICBmb3IgKCBjb25zdCBwcm9wIGluIG9iaiApIHtcbiAgICAgICAgICAgICAgICBpZiAoIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCggb2JqLCBwcm9wICkgKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGRlZXAgbWVyZ2UgYW5kIHByb3BlcnR5IGlzIGFuIG9iamVjdCwgbWVyZ2UgcHJvcGVydGllc1xuICAgICAgICAgICAgICAgICAgICBpZiAoIGRlZXAgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9ialsgcHJvcCBdKSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIiApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuZGVkWyBwcm9wIF0gPSBleHRlbmQoIHRydWUsIGV4dGVuZGVkWyBwcm9wIF0sIG9ialsgcHJvcCBdICk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHRlbmRlZFsgcHJvcCBdID0gb2JqWyBwcm9wIF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGVhY2ggb2JqZWN0IGFuZCBjb25kdWN0IGEgbWVyZ2VcbiAgICAgICAgZm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG4gICAgICAgICAgICBjb25zdCBvYmogPSBhcmd1bWVudHNbIGkgXTtcblxuICAgICAgICAgICAgbWVyZ2Uob2JqKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBleHRlbmRlZDtcblxuICAgIH07XG5cbiAgICAvKipcblx0ICogR2V0IHRoZSBoZWlnaHQgb2YgYW4gZWxlbWVudC5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtICB7Tm9kZX0gZWxlbSBUaGUgZWxlbWVudCB0byBnZXQgdGhlIGhlaWdodCBvZlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSAgICBUaGUgZWxlbWVudCdzIGhlaWdodCBpbiBwaXhlbHNcblx0ICovXG4gICAgY29uc3QgZ2V0SGVpZ2h0ID0gZnVuY3Rpb24gKCBlbGVtICkge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoIGVsZW0uc2Nyb2xsSGVpZ2h0LCBlbGVtLm9mZnNldEhlaWdodCwgZWxlbS5jbGllbnRIZWlnaHQgKTtcbiAgICB9O1xuXG4gICAgLyoqXG5cdCAqIEdldCB0aGUgZG9jdW1lbnQgZWxlbWVudCdzIGhlaWdodFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfVxuXHQgKi9cbiAgICBjb25zdCBnZXREb2N1bWVudEhlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KFxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQsXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodCxcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0LCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0XG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIC8qKlxuXHQgKiBHZXQgYW4gZWxlbWVudCdzIGRpc3RhbmNlIGZyb20gdGhlIHRvcCBvZiB0aGUgRG9jdW1lbnQuXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSAge05vZGV9IGVsZW0gVGhlIGVsZW1lbnRcblx0ICogQHJldHVybnMge051bWJlcn0gICAgRGlzdGFuY2UgZnJvbSB0aGUgdG9wIGluIHBpeGVsc1xuXHQgKi9cbiAgICBjb25zdCBnZXRPZmZzZXRUb3AgPSBmdW5jdGlvbiAoIGVsZW0gKSB7XG4gICAgICAgIGxldCBsb2NhdGlvbiA9IDA7XG5cbiAgICAgICAgaWYgKGVsZW0ub2Zmc2V0UGFyZW50KSB7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgbG9jYXRpb24gKz0gZWxlbS5vZmZzZXRUb3A7XG4gICAgICAgICAgICAgICAgZWxlbSA9IGVsZW0ub2Zmc2V0UGFyZW50O1xuICAgICAgICAgICAgfSB3aGlsZSAoZWxlbSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2NhdGlvbiA9IGVsZW0ub2Zmc2V0VG9wO1xuICAgICAgICB9XG4gICAgICAgIGxvY2F0aW9uID0gbG9jYXRpb24gLSBoZWFkZXJIZWlnaHQgLSBzZXR0aW5ncy5vZmZzZXQ7XG4gICAgICAgIHJldHVybiBsb2NhdGlvbiA+PSAwID8gbG9jYXRpb24gOiAwO1xuICAgIH07XG5cbiAgICAvKipcblx0ICogRGV0ZXJtaW5lIGlmIGFuIGVsZW1lbnQgaXMgaW4gdGhlIHZpZXdwb3J0XG5cdCAqIEBwYXJhbSAge05vZGV9ICAgIGVsZW0gVGhlIGVsZW1lbnRcblx0ICogQHJldHVybnMge0Jvb2xlYW59ICAgICAgUmV0dXJucyB0cnVlIGlmIGVsZW1lbnQgaXMgaW4gdGhlIHZpZXdwb3J0XG5cdCAqL1xuICAgIGNvbnN0IGlzSW5WaWV3cG9ydCA9IGZ1bmN0aW9uICggZWxlbSApIHtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBkaXN0YW5jZS50b3AgPj0gMCAmJlxuXHRcdFx0ZGlzdGFuY2UubGVmdCA+PSAwICYmXG5cdFx0XHRkaXN0YW5jZS5ib3R0b20gPD0gKHJvb3QuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkgJiZcblx0XHRcdGRpc3RhbmNlLnJpZ2h0IDw9IChyb290LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKVxuICAgICAgICApO1xuICAgIH07XG5cbiAgICAvKipcblx0ICogQXJyYW5nZSBuYWdpdmF0aW9uIGVsZW1lbnRzIGZyb20gZnVydGhlc3QgZnJvbSB0aGUgdG9wIHRvIGNsb3Nlc3Rcblx0ICogQHByaXZhdGVcblx0ICovXG4gICAgY29uc3Qgc29ydE5hdnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG5hdnMuc29ydCggKChhLCBiKSA9PiB7XG4gICAgICAgICAgICBpZiAoYS5kaXN0YW5jZSA+IGIuZGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYS5kaXN0YW5jZSA8IGIuZGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9KSk7XG4gICAgfTtcblxuICAgIC8qKlxuXHQgKiBDYWxjdWxhdGUgdGhlIGRpc3RhbmNlIG9mIGVsZW1lbnRzIGZyb20gdGhlIHRvcCBvZiB0aGUgZG9jdW1lbnRcblx0ICogQHB1YmxpY1xuXHQgKi9cbiAgICBndW1zaG9lLnNldERpc3RhbmNlcyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgZGlzdGFuY2VzXG4gICAgICAgIGRvY0hlaWdodCA9IGdldERvY3VtZW50SGVpZ2h0KCk7IC8vIFRoZSBkb2N1bWVudFxuICAgICAgICBoZWFkZXJIZWlnaHQgPSBoZWFkZXIgPyAoIGdldEhlaWdodChoZWFkZXIpICsgZ2V0T2Zmc2V0VG9wKGhlYWRlcikgKSA6IDA7IC8vIFRoZSBmaXhlZCBoZWFkZXJcbiAgICAgICAgZm9yRWFjaChuYXZzLCAoKG5hdikgPT4ge1xuICAgICAgICAgICAgbmF2LmRpc3RhbmNlID0gZ2V0T2Zmc2V0VG9wKG5hdi50YXJnZXQpOyAvLyBFYWNoIG5hdmlnYXRpb24gdGFyZ2V0XG4gICAgICAgIH0pKTtcblxuICAgICAgICAvLyBXaGVuIGRvbmUsIG9yZ2FuaXphdGlvbiBuYXZpZ2F0aW9uIGVsZW1lbnRzXG4gICAgICAgIHNvcnROYXZzKCk7XG5cbiAgICB9O1xuXG4gICAgLyoqXG5cdCAqIEdldCBhbGwgbmF2aWdhdGlvbiBlbGVtZW50cyBhbmQgc3RvcmUgdGhlbSBpbiBhbiBhcnJheVxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cbiAgICBjb25zdCBnZXROYXZzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIC8vIEdldCBhbGwgbmF2aWdhdGlvbiBsaW5rc1xuICAgICAgICBjb25zdCBuYXZMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIHNldHRpbmdzLnNlbGVjdG9yICk7XG5cbiAgICAgICAgLy8gRm9yIGVhY2ggbGluaywgY3JlYXRlIGFuIG9iamVjdCBvZiBhdHRyaWJ1dGVzIGFuZCBwdXNoIHRvIGFuIGFycmF5XG4gICAgICAgIGZvckVhY2goIG5hdkxpbmtzLCAoKG5hdikgPT4ge1xuICAgICAgICAgICAgaWYgKCAhbmF2LmRhdGFzZXQuaXRlbSApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCBuYXYuZGF0YXNldC5pdGVtICk7IC8vIEVESVQ6IFJlbW92ZWQgSGFzaCBpbiBvcmRlciB0byBjaGFuZ2UgZWxlbWVudCBmcm9tIEhSRUZcblxuICAgICAgICAgICAgaWYgKCAhdGFyZ2V0ICkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5hdnMucHVzaCh7XG4gICAgICAgICAgICAgICAgbmF2LFxuICAgICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IG5hdi5wYXJlbnROb2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJsaVwiID8gbmF2LnBhcmVudE5vZGUgOiBudWxsLFxuICAgICAgICAgICAgICAgIGRpc3RhbmNlOiAwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpO1xuXG4gICAgfTtcblxuXG4gICAgLyoqXG5cdCAqIFJlbW92ZSB0aGUgYWN0aXZhdGlvbiBjbGFzcyBmcm9tIHRoZSBjdXJyZW50bHkgYWN0aXZlIG5hdmlnYXRpb24gZWxlbWVudFxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cbiAgICBjb25zdCBkZWFjdGl2YXRlQ3VycmVudE5hdiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCBjdXJyZW50TmF2ICkge1xuICAgICAgICAgICAgY3VycmVudE5hdi5uYXYuY2xhc3NMaXN0LnJlbW92ZSggc2V0dGluZ3MuYWN0aXZlQ2xhc3MgKTtcbiAgICAgICAgICAgIGlmICggY3VycmVudE5hdi5wYXJlbnQgKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudE5hdi5wYXJlbnQuY2xhc3NMaXN0LnJlbW92ZSggc2V0dGluZ3MuYWN0aXZlQ2xhc3MgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcblx0ICogQWRkIHRoZSBhY3RpdmF0aW9uIGNsYXNzIHRvIHRoZSBjdXJyZW50bHkgYWN0aXZlIG5hdmlnYXRpb24gZWxlbWVudFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0gIHtOb2RlfSBuYXYgVGhlIGN1cnJlbnRseSBhY3RpdmUgbmF2XG5cdCAqL1xuICAgIGNvbnN0IGFjdGl2YXRlTmF2ID0gZnVuY3Rpb24gKCBuYXYgKSB7XG5cbiAgICAgICAgLy8gSWYgYSBjdXJyZW50IE5hdiBpcyBzZXQsIGRlYWN0aXZhdGUgaXRcbiAgICAgICAgZGVhY3RpdmF0ZUN1cnJlbnROYXYoKTtcblxuICAgICAgICAvLyBBY3RpdmF0ZSB0aGUgY3VycmVudCB0YXJnZXQncyBuYXZpZ2F0aW9uIGVsZW1lbnRcbiAgICAgICAgbmF2Lm5hdi5jbGFzc0xpc3QuYWRkKCBzZXR0aW5ncy5hY3RpdmVDbGFzcyApO1xuICAgICAgICBpZiAoIG5hdi5wYXJlbnQgKSB7XG4gICAgICAgICAgICBuYXYucGFyZW50LmNsYXNzTGlzdC5hZGQoIHNldHRpbmdzLmFjdGl2ZUNsYXNzICk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXR0aW5ncy5jYWxsYmFjayggbmF2ICk7IC8vIENhbGxiYWNrIGFmdGVyIG1ldGhvZHMgYXJlIHJ1blxuXG4gICAgICAgIC8vIFNldCBuZXcgY3VycmVudE5hdlxuICAgICAgICBjdXJyZW50TmF2ID0ge1xuICAgICAgICAgICAgbmF2OiBuYXYubmF2LFxuICAgICAgICAgICAgcGFyZW50OiBuYXYucGFyZW50XG4gICAgICAgIH07XG5cbiAgICB9O1xuXG4gICAgLyoqXG5cdCAqIERldGVybWluZSB3aGljaCBuYXZpZ2F0aW9uIGVsZW1lbnQgaXMgY3VycmVudGx5IGFjdGl2ZSBhbmQgcnVuIGFjdGl2YXRpb24gbWV0aG9kXG5cdCAqIEBwdWJsaWNcblx0ICogQHJldHVybnMge09iamVjdH0gVGhlIGN1cnJlbnQgbmF2IGRhdGEuXG5cdCAqL1xuICAgIGd1bXNob2UuZ2V0Q3VycmVudE5hdiA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAvLyBHZXQgY3VycmVudCBwb3NpdGlvbiBmcm9tIHRvcCBvZiB0aGUgZG9jdW1lbnRcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSByb290LnBhZ2VZT2Zmc2V0O1xuXG4gICAgICAgIC8vIElmIGF0IHRoZSBib3R0b20gb2YgdGhlIHBhZ2UgYW5kIGxhc3Qgc2VjdGlvbiBpcyBpbiB0aGUgdmlld3BvcnQsIGFjdGl2YXRlIHRoZSBsYXN0IG5hdlxuICAgICAgICBpZiAoIChyb290LmlubmVySGVpZ2h0ICsgcG9zaXRpb24pID49IGRvY0hlaWdodCAmJiBpc0luVmlld3BvcnQoIG5hdnNbIDAgXS50YXJnZXQgKSApIHtcbiAgICAgICAgICAgIGFjdGl2YXRlTmF2KCBuYXZzWyAwIF0gKTtcbiAgICAgICAgICAgIHJldHVybiBuYXZzWyAwIF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPdGhlcndpc2UsIGxvb3AgdGhyb3VnaCBlYWNoIG5hdiB1bnRpbCB5b3UgZmluZCB0aGUgYWN0aXZlIG9uZVxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gbmF2cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbmF2ID0gbmF2c1sgaSBdO1xuXG4gICAgICAgICAgICBpZiAoIG5hdi5kaXN0YW5jZSA8PSBwb3NpdGlvbiApIHtcbiAgICAgICAgICAgICAgICBhY3RpdmF0ZU5hdiggbmF2ICk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5hdjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIG5vIGFjdGl2ZSBuYXYgaXMgZm91bmQsIGRlYWN0aXZhdGUgdGhlIGN1cnJlbnQgbmF2XG4gICAgICAgIGRlYWN0aXZhdGVDdXJyZW50TmF2KCk7XG4gICAgICAgIHNldHRpbmdzLmNhbGxiYWNrKCk7XG5cbiAgICB9O1xuXG4gICAgLyoqXG5cdCAqIElmIG5hdiBlbGVtZW50IGhhcyBhY3RpdmUgY2xhc3Mgb24gbG9hZCwgc2V0IGl0IGFzIGN1cnJlbnRseSBhY3RpdmUgbmF2aWdhdGlvblxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cbiAgICBjb25zdCBzZXRJbml0Q3VycmVudE5hdiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yRWFjaChuYXZzLCAoKG5hdikgPT4ge1xuICAgICAgICAgICAgaWYgKCBuYXYubmF2LmNsYXNzTGlzdC5jb250YWlucyggc2V0dGluZ3MuYWN0aXZlQ2xhc3MgKSApIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50TmF2ID0ge1xuICAgICAgICAgICAgICAgICAgICBuYXY6IG5hdi5uYXYsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogbmF2LnBhcmVudFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9O1xuXG4gICAgLyoqXG5cdCAqIERlc3Ryb3kgdGhlIGN1cnJlbnQgaW5pdGlhbGl6YXRpb24uXG5cdCAqIEBwdWJsaWNcblx0ICovXG4gICAgZ3Vtc2hvZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIC8vIElmIHBsdWdpbiBpc24ndCBhbHJlYWR5IGluaXRpYWxpemVkLCBzdG9wXG4gICAgICAgIGlmICggIXNldHRpbmdzICkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVtb3ZlIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgICBzZXR0aW5ncy5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBldmVudFRocm90dGxlciwgZmFsc2UpO1xuICAgICAgICBzZXR0aW5ncy5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBldmVudFRocm90dGxlciwgZmFsc2UpO1xuXG4gICAgICAgIC8vIFJlc2V0IHZhcmlhYmxlc1xuICAgICAgICBuYXZzID0gW107XG4gICAgICAgIHNldHRpbmdzID0gbnVsbDtcbiAgICAgICAgZXZlbnRUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgZG9jSGVpZ2h0ID0gbnVsbDtcbiAgICAgICAgaGVhZGVyID0gbnVsbDtcbiAgICAgICAgaGVhZGVySGVpZ2h0ID0gbnVsbDtcbiAgICAgICAgY3VycmVudE5hdiA9IG51bGw7XG4gICAgICAgIHNjcm9sbEV2ZW50RGVsYXkgPSBudWxsO1xuXG4gICAgfTtcblxuICAgIC8qKlxuXHQgKiBSdW4gZnVuY3Rpb25zIGFmdGVyIHNjcm9sbGluZyBzdG9wc1xuXHQgKiBAcGFyYW0gIHtbdHlwZV19IGV2ZW50IFtkZXNjcmlwdGlvbl1cblx0ICogQHJldHVybnMge1t0eXBlXX0gICAgICAgW2Rlc2NyaXB0aW9uXVxuXHQgKi9cbiAgICBjb25zdCBzY3JvbGxTdG9wID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cbiAgICAgICAgLy8gQ2xlYXIgb3VyIHRpbWVvdXQgdGhyb3VnaG91dCB0aGUgc2Nyb2xsXG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoIGV2ZW50VGltZW91dCApO1xuXG4gICAgICAgIC8vIHJlY2FsY3VsYXRlIGRpc3RhbmNlcyBhbmQgdGhlbiBnZXQgY3VycmVudGx5IGFjdGl2ZSBuYXZcbiAgICAgICAgZXZlbnRUaW1lb3V0ID0gc2V0VGltZW91dCgoKCkgPT4ge1xuICAgICAgICAgICAgZ3Vtc2hvZS5zZXREaXN0YW5jZXMoKTtcbiAgICAgICAgICAgIGd1bXNob2UuZ2V0Q3VycmVudE5hdigpO1xuICAgICAgICB9KSwgNjYpO1xuXG4gICAgfTtcblxuICAgIC8qKlxuXHQgKiBPbiB3aW5kb3cgc2Nyb2xsIGFuZCByZXNpemUsIG9ubHkgcnVuIGV2ZW50cyBhdCBhIHJhdGUgb2YgMTVmcHMgZm9yIGJldHRlciBwZXJmb3JtYW5jZVxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0gIHtGdW5jdGlvbn0gZXZlbnRUaW1lb3V0IFRpbWVvdXQgZnVuY3Rpb25cblx0ICogQHBhcmFtICB7T2JqZWN0fSBzZXR0aW5nc1xuXHQgKi9cbiAgICB2YXIgZXZlbnRUaHJvdHRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKCAhZXZlbnRUaW1lb3V0ICkge1xuICAgICAgICAgICAgZXZlbnRUaW1lb3V0ID0gc2V0VGltZW91dCgoKCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgZXZlbnRUaW1lb3V0ID0gbnVsbDsgLy8gUmVzZXQgdGltZW91dFxuXG4gICAgICAgICAgICAgICAgLy8gSWYgc2Nyb2xsIGV2ZW50LCBnZXQgY3VycmVudGx5IGFjdGl2ZSBuYXZcbiAgICAgICAgICAgICAgICBpZiAoIGV2ZW50LnR5cGUgPT09IFwic2Nyb2xsXCIgKSB7XG4gICAgICAgICAgICAgICAgICAgIGd1bXNob2UuZ2V0Q3VycmVudE5hdigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIElmIHJlc2l6ZSBldmVudCwgcmVjYWxjdWxhdGUgZGlzdGFuY2VzIGFuZCB0aGVuIGdldCBjdXJyZW50bHkgYWN0aXZlIG5hdlxuICAgICAgICAgICAgICAgIGlmICggZXZlbnQudHlwZSA9PT0gXCJyZXNpemVcIiApIHtcbiAgICAgICAgICAgICAgICAgICAgZ3Vtc2hvZS5zZXREaXN0YW5jZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgZ3Vtc2hvZS5nZXRDdXJyZW50TmF2KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KSwgNjYpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuXHQgKiBJbml0aWFsaXplIFBsdWdpblxuXHQgKiBAcHVibGljXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIFVzZXIgc2V0dGluZ3Ncblx0ICovXG4gICAgZ3Vtc2hvZS5pbml0ID0gZnVuY3Rpb24gKCBvcHRpb25zICkge1xuXG4gICAgICAgIC8vIGZlYXR1cmUgdGVzdFxuICAgICAgICBpZiAoICFzdXBwb3J0cyApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERlc3Ryb3kgYW55IGV4aXN0aW5nIGluaXRpYWxpemF0aW9uc1xuICAgICAgICBndW1zaG9lLmRlc3Ryb3koKTtcblxuICAgICAgICAvLyBTZXQgdmFyaWFibGVzXG4gICAgICAgIHNldHRpbmdzID0gZXh0ZW5kKCBkZWZhdWx0cywgb3B0aW9ucyB8fCB7fSApOyAvLyBNZXJnZSB1c2VyIG9wdGlvbnMgd2l0aCBkZWZhdWx0c1xuICAgICAgICBoZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCBzZXR0aW5ncy5zZWxlY3RvckhlYWRlciApOyAvLyBHZXQgZml4ZWQgaGVhZGVyXG4gICAgICAgIGdldE5hdnMoKTsgLy8gR2V0IG5hdmlnYXRpb24gZWxlbWVudHNcblxuICAgICAgICAvLyBJZiBubyBuYXZpZ2F0aW9uIGVsZW1lbnRzIGV4aXN0LCBzdG9wIHJ1bm5pbmcgZ3Vtc2hvZVxuICAgICAgICBpZiAoIG5hdnMubGVuZ3RoID09PSAwICkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUnVuIGluaXQgbWV0aG9kc1xuICAgICAgICBzZXRJbml0Q3VycmVudE5hdigpO1xuICAgICAgICBndW1zaG9lLnNldERpc3RhbmNlcygpO1xuICAgICAgICBndW1zaG9lLmdldEN1cnJlbnROYXYoKTtcblxuICAgICAgICAvLyBMaXN0ZW4gZm9yIGV2ZW50c1xuICAgICAgICBzZXR0aW5ncy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBldmVudFRocm90dGxlciwgZmFsc2UpO1xuICAgICAgICBpZiAoIHNldHRpbmdzLnNjcm9sbERlbGF5ICkge1xuICAgICAgICAgICAgc2V0dGluZ3MuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgc2Nyb2xsU3RvcCwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0dGluZ3MuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgZXZlbnRUaHJvdHRsZXIsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuXG4gICAgLy9cbiAgICAvLyBQdWJsaWMgQVBJc1xuICAgIC8vXG5cbiAgICByZXR1cm4gZ3Vtc2hvZTtcblxufSkpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNvdXJjZS9qcy9jbGFzcy9ndW1zaG9lLmpzIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUVBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUtBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///97\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _util = __webpack_require__(/*! ../core/util */ 13);\n\nvar util = _interopRequireWildcard(_util);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar abs = Math.abs;\n\n/**\n * Parallax a DOM element.\n */\nvar mouseItem = function () {\n    function mouseItem($element, chaseAmount) {\n        _classCallCheck(this, mouseItem);\n\n        this.$element = $element;\n        this.chaseAmount = chaseAmount;\n\n        this.viewportWidth = 0.0;\n        this.viewportHeight = 0.0;\n\n        this.elementCenter = 0.0;\n        this.yPosition = 0.0;\n        this.height = 0.0;\n        this.parallaxPositionY = 0.0;\n        this.parallaxPositionX = 0.0;\n        this.pivotX = 0.0;\n        this.pivotY = 0.0;\n\n        this.resize();\n    }\n\n    /**\n    * On resize events.\n    */\n\n\n    _createClass(mouseItem, [{\n        key: "resize",\n        value: function resize() {\n\n            this.viewportWidth = window.innerWidth;\n            this.viewportHeight = window.innerHeight;\n\n            this.yPosition = this.$element.offsetTop;\n            this.height = this.$element.clientHeight;\n\n            this.elementCenter = this.yPosition + this.height / 2.0;\n\n            this.applyTransform(this.$element[0], "");\n        }\n\n        /**\n        * When the mouse moves.\n        * @param {number} mouseX - The mouse x position.\n        * @param {number} mouseY - The mouse x position.\n        */\n\n    }, {\n        key: "onMouseMove",\n        value: function onMouseMove(mouseX, mouseY) {\n            this.pivotX = mouseX * (this.viewportWidth / (1.5 * this.chaseAmount));\n            this.pivotY = mouseY * (this.viewportHeight / (1.5 * this.chaseAmount));\n        }\n        /**\n        * When the mouse moves.\n        * @param {number} mouseX - The mouse x position.\n        * @param {number} mouseY - The mouse x position.\n        */\n\n    }, {\n        key: "transformElement",\n        value: function transformElement() {\n\n            if (util.isElementVisible(this.$element[0])) {\n\n                this.applyTransform(this.$element[0], "translate3d(" + (this.pivotX + this.parallaxPositionX) + "px, " + (this.pivotY + this.parallaxPositionY) + "px, 0px)");\n            }\n        }\n\n        // If first or last items, sync mouse movements\n\n    }, {\n        key: "transformElementClones",\n        value: function transformElementClones() {\n\n            this.applyTransform(this.$element[0], "translate3d(" + (this.pivotX + this.parallaxPositionX) + "px, " + (this.pivotY + this.parallaxPositionY) + "px, 0px)");\n        }\n\n        /**\n        * Directly apply a prefixed 3d transform.\n        * @param {Element} elem - The element.\n        * @param {string} def - The transform definition.\n        */\n\n    }, {\n        key: "applyTransform",\n        value: function applyTransform(elem, def) {\n            elem.style.msTransform = def;\n            elem.style.webkitTransform = def;\n            elem.style.transform = def;\n        }\n    }]);\n\n    return mouseItem;\n}();\n\nexports.default = mouseItem;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc291cmNlL2pzL2NsYXNzL21vdXNlaXRlbXMuanM/ZmYwYSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IGFicyB9ID0gTWF0aDtcblxuaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsXCI7XG5cbi8qKlxuICogUGFyYWxsYXggYSBET00gZWxlbWVudC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgbW91c2VJdGVtIHtcblxuXG4gICAgY29uc3RydWN0b3IgKCRlbGVtZW50LCBjaGFzZUFtb3VudCkge1xuICAgICAgICB0aGlzLiRlbGVtZW50ID0gJGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuY2hhc2VBbW91bnQgPSBjaGFzZUFtb3VudDtcblxuICAgICAgICB0aGlzLnZpZXdwb3J0V2lkdGggPSAwLjA7XG4gICAgICAgIHRoaXMudmlld3BvcnRIZWlnaHQgPSAwLjA7XG5cbiAgICAgICAgdGhpcy5lbGVtZW50Q2VudGVyID0gMC4wO1xuICAgICAgICB0aGlzLnlQb3NpdGlvbiA9IDAuMDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAwLjA7XG4gICAgICAgIHRoaXMucGFyYWxsYXhQb3NpdGlvblkgPSAwLjA7XG4gICAgICAgIHRoaXMucGFyYWxsYXhQb3NpdGlvblggPSAwLjA7XG4gICAgICAgIHRoaXMucGl2b3RYID0gMC4wO1xuICAgICAgICB0aGlzLnBpdm90WSA9IDAuMDtcblxuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgKiBPbiByZXNpemUgZXZlbnRzLlxuICAgKi9cbiAgICByZXNpemUgKCkge1xuXG4gICAgICAgIHRoaXMudmlld3BvcnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICB0aGlzLnZpZXdwb3J0SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuXG4gICAgICAgIHRoaXMueVBvc2l0aW9uID0gdGhpcy4kZWxlbWVudC5vZmZzZXRUb3A7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy4kZWxlbWVudC5jbGllbnRIZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5lbGVtZW50Q2VudGVyID0gdGhpcy55UG9zaXRpb24gKyAodGhpcy5oZWlnaHQgLyAyLjApO1xuXG4gICAgICAgIHRoaXMuYXBwbHlUcmFuc2Zvcm0oIHRoaXMuJGVsZW1lbnRbIDAgXSwgXCJcIik7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICogV2hlbiB0aGUgbW91c2UgbW92ZXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtb3VzZVggLSBUaGUgbW91c2UgeCBwb3NpdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1vdXNlWSAtIFRoZSBtb3VzZSB4IHBvc2l0aW9uLlxuICAgKi9cbiAgICBvbk1vdXNlTW92ZSAobW91c2VYLCBtb3VzZVkpIHtcbiAgICAgICAgdGhpcy5waXZvdFggPSBtb3VzZVggKiAodGhpcy52aWV3cG9ydFdpZHRoIC8gKCAxLjUgKiB0aGlzLmNoYXNlQW1vdW50KSk7XG4gICAgICAgIHRoaXMucGl2b3RZID0gbW91c2VZICogKHRoaXMudmlld3BvcnRIZWlnaHQgLyAoIDEuNSAqIHRoaXMuY2hhc2VBbW91bnQpKTtcblxuICAgIH1cbiAgICAvKipcbiAgICogV2hlbiB0aGUgbW91c2UgbW92ZXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtb3VzZVggLSBUaGUgbW91c2UgeCBwb3NpdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1vdXNlWSAtIFRoZSBtb3VzZSB4IHBvc2l0aW9uLlxuICAgKi9cbiAgICB0cmFuc2Zvcm1FbGVtZW50ICgpIHtcblxuICAgICAgICBpZiAoIHV0aWwuaXNFbGVtZW50VmlzaWJsZSh0aGlzLiRlbGVtZW50WyAwIF0pICkge1xuXG4gICAgICAgICAgICB0aGlzLmFwcGx5VHJhbnNmb3JtKHRoaXMuJGVsZW1lbnRbIDAgXSwgYHRyYW5zbGF0ZTNkKCR7dGhpcy5waXZvdFggKyB0aGlzLnBhcmFsbGF4UG9zaXRpb25YfXB4LCAke3RoaXMucGl2b3RZICsgdGhpcy5wYXJhbGxheFBvc2l0aW9uWX1weCwgMHB4KWApO1xuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8vIElmIGZpcnN0IG9yIGxhc3QgaXRlbXMsIHN5bmMgbW91c2UgbW92ZW1lbnRzXG5cbiAgICB0cmFuc2Zvcm1FbGVtZW50Q2xvbmVzICgpIHtcblxuICAgICAgICB0aGlzLmFwcGx5VHJhbnNmb3JtKHRoaXMuJGVsZW1lbnRbIDAgXSwgYHRyYW5zbGF0ZTNkKCR7dGhpcy5waXZvdFggKyB0aGlzLnBhcmFsbGF4UG9zaXRpb25YfXB4LCAke3RoaXMucGl2b3RZICsgdGhpcy5wYXJhbGxheFBvc2l0aW9uWX1weCwgMHB4KWApO1xuXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICogRGlyZWN0bHkgYXBwbHkgYSBwcmVmaXhlZCAzZCB0cmFuc2Zvcm0uXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbSAtIFRoZSBlbGVtZW50LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGVmIC0gVGhlIHRyYW5zZm9ybSBkZWZpbml0aW9uLlxuICAgKi9cbiAgICBhcHBseVRyYW5zZm9ybSAoZWxlbSwgZGVmKSB7XG4gICAgICAgIGVsZW0uc3R5bGUubXNUcmFuc2Zvcm0gPSBkZWY7XG4gICAgICAgIGVsZW0uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gZGVmO1xuICAgICAgICBlbGVtLnN0eWxlLnRyYW5zZm9ybSA9IGRlZjtcbiAgICB9XG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzb3VyY2UvanMvY2xhc3MvbW91c2VpdGVtcy5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFQTtBQUNBO0FBREE7QUFDQTs7Ozs7QUFIQTtBQUNBO0FBR0E7OztBQUdBO0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7Ozs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBakZBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///98\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _properjsHobo = __webpack_require__(/*! properjs-hobo */ 11);\n\nvar _properjsHobo2 = _interopRequireDefault(_properjsHobo);\n\nvar _core = __webpack_require__(/*! ../core */ 10);\n\nvar core = _interopRequireWildcard(_core);\n\nvar _config = __webpack_require__(/*! ../core/config */ 4);\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _util = __webpack_require__(/*! ../core/util */ 13);\n\nvar util = _interopRequireWildcard(_util);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n/**\n *\n * @public\n * @class infiniteLoop\n * @classdesc Infinitely loops div in browser\n * @memberof core\n *\n */\nvar plates = function () {\n    function plates() {\n        _classCallCheck(this, plates);\n\n        this.$titles = (0, _properjsHobo2.default)(document).find(".js-title");\n\n        this.$plates = (0, _properjsHobo2.default)(".js-plate");\n\n        this.firstPlate = core.dom.loop.find(".figure-container:first-child a");\n\n        this.lastPlate = core.dom.loop.find(".figure-container:last-child a");\n\n        // this.siblings = util.getSiblings(this.firstPlate[0])\n        //\n        // console.log(this.siblings);\n\n        // Hide all other plates than the hero on load\n\n        // for (var i = 0; i < this.siblings.length; i++) {\n        // \tthis.siblings[i].classList.add(\'hide\')\n        // }\n\n\n        // Visible bounds of top & bottom of viewport\n\n        this.viewportTopValue = window.innerHeight / 6;\n\n        this.viewportBottomValue = window.innerHeight / 6;\n\n        this.docHeight = document.documentElement.offsetHeight;\n\n        this.updatePlates();\n\n        //this.firstPlate = $(document).find(\'.js-infinite-loop\');\n\n\n        //this.$plates.addClass(\'hide\');\n\n        //this.updateTitles();\n    }\n\n    /**\n    *\n    * @instance\n    * @description Watch Plates enter and exit viewport\n    * @memberof plates\n    * @method updatePlates\n    *\n    */\n\n    _createClass(plates, [{\n        key: "updatePlates",\n        value: function updatePlates() {\n\n            var $plate = null;\n            var i = this.$plates.length;\n            var plateCount = i - 1;\n\n            for (i; i--;) {\n                this.$plate = this.$plates.eq(i);\n\n                if (util.isElementVisible(this.$plate[0])) {\n                    if (i == 0 || i == plateCount) {\n\n                        this.firstPlate.addClass("show-clone");\n                        this.lastPlate.addClass("show-clone");\n                    }\n\n                    this.$plate.removeClass("hide");\n                } else {\n                    this.$plate.addClass("hide");\n                }\n\n                // Hide first/last image in loop if both are hidden\n\n                if (i == 0 || i == plateCount) {\n                    var plateZero = this.$plates.eq(0);\n\n                    var plateClone = this.$plates.eq(plateCount);\n\n                    if (!util.isElementVisible(plateZero[0]) && !util.isElementVisible(plateClone[0])) {\n                        this.firstPlate.removeClass("show-clone");\n                        this.lastPlate.removeClass("show-clone");\n                    }\n                }\n            }\n        }\n\n        /**\n        *\n        * @instance\n        * @description Watch Plate Titles enter and exit viewport\n        * @memberof plates\n        * @method updateTitles\n        *\n        */\n\n    }, {\n        key: "updateTitles",\n        value: function updateTitles() {\n            var $title = null;\n\n            var i = this.$titles.length;\n\n            for (i; i--;) {\n                $title = this.$titles.eq(i);\n\n                if (util.isTitleVisible($title[0])) {\n                    $title.removeClass("hide");\n                } else {\n                    $title.addClass("hide");\n                }\n            }\n        }\n    }]);\n\n    return plates;\n}();\n\n/******************************************************************************\n * Export\n *******************************************************************************/\n\n\nexports.default = plates;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc291cmNlL2pzL2NsYXNzL3BsYXRlcy5qcz9kMDhmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAkIGZyb20gXCJwcm9wZXJqcy1ob2JvXCI7XG5pbXBvcnQgKiBhcyBjb3JlIGZyb20gXCIuLi9jb3JlXCI7XG5pbXBvcnQgY29uZmlnIGZyb20gXCIuLi9jb3JlL2NvbmZpZ1wiO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsXCI7XG5cbi8qKlxuICpcbiAqIEBwdWJsaWNcbiAqIEBjbGFzcyBpbmZpbml0ZUxvb3BcbiAqIEBjbGFzc2Rlc2MgSW5maW5pdGVseSBsb29wcyBkaXYgaW4gYnJvd3NlclxuICogQG1lbWJlcm9mIGNvcmVcbiAqXG4gKi9cbmNsYXNzIHBsYXRlcyB7XG4gICAgY29uc3RydWN0b3IgKCkge1xuXG4gICAgICAgIHRoaXMuJHRpdGxlcyA9ICQoZG9jdW1lbnQpLmZpbmQoXCIuanMtdGl0bGVcIik7XG5cbiAgICAgICAgdGhpcy4kcGxhdGVzID0gJChcIi5qcy1wbGF0ZVwiKTtcblxuICAgICAgICB0aGlzLmZpcnN0UGxhdGUgPSBjb3JlLmRvbS5sb29wLmZpbmQoXCIuZmlndXJlLWNvbnRhaW5lcjpmaXJzdC1jaGlsZCBhXCIpO1xuXG4gICAgICAgIHRoaXMubGFzdFBsYXRlID0gY29yZS5kb20ubG9vcC5maW5kKFwiLmZpZ3VyZS1jb250YWluZXI6bGFzdC1jaGlsZCBhXCIpO1xuXG4gICAgICAgIC8vIHRoaXMuc2libGluZ3MgPSB1dGlsLmdldFNpYmxpbmdzKHRoaXMuZmlyc3RQbGF0ZVswXSlcbiAgICAgICAgLy9cbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zaWJsaW5ncyk7XG5cbiAgICAgICAgLy8gSGlkZSBhbGwgb3RoZXIgcGxhdGVzIHRoYW4gdGhlIGhlcm8gb24gbG9hZFxuXG4gICAgICAgIC8vIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zaWJsaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBcdHRoaXMuc2libGluZ3NbaV0uY2xhc3NMaXN0LmFkZCgnaGlkZScpXG4gICAgICAgIC8vIH1cblxuXG4gICAgICAgIC8vIFZpc2libGUgYm91bmRzIG9mIHRvcCAmIGJvdHRvbSBvZiB2aWV3cG9ydFxuXG4gICAgICAgIHRoaXMudmlld3BvcnRUb3BWYWx1ZSA9IHdpbmRvdy5pbm5lckhlaWdodCAvIDY7XG5cbiAgICAgICAgdGhpcy52aWV3cG9ydEJvdHRvbVZhbHVlID0gd2luZG93LmlubmVySGVpZ2h0IC8gNjtcblxuICAgICAgICB0aGlzLmRvY0hlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQ7XG5cbiAgICAgICAgdGhpcy51cGRhdGVQbGF0ZXMoKTtcblxuICAgICAgICAvL3RoaXMuZmlyc3RQbGF0ZSA9ICQoZG9jdW1lbnQpLmZpbmQoJy5qcy1pbmZpbml0ZS1sb29wJyk7XG5cblxuICAgICAgICAvL3RoaXMuJHBsYXRlcy5hZGRDbGFzcygnaGlkZScpO1xuXG4gICAgICAgIC8vdGhpcy51cGRhdGVUaXRsZXMoKTtcbiAgICB9XG5cbiAgICAvKipcblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBkZXNjcmlwdGlvbiBXYXRjaCBQbGF0ZXMgZW50ZXIgYW5kIGV4aXQgdmlld3BvcnRcblx0ICogQG1lbWJlcm9mIHBsYXRlc1xuXHQgKiBAbWV0aG9kIHVwZGF0ZVBsYXRlc1xuXHQgKlxuXHQgKi9cblxuICAgIHVwZGF0ZVBsYXRlcyAoKSB7XG5cblxuXG4gICAgICAgIGNvbnN0ICRwbGF0ZSA9IG51bGw7XG4gICAgICAgIGxldCBpID0gdGhpcy4kcGxhdGVzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgcGxhdGVDb3VudCA9IGkgLSAxO1xuXG4gICAgICAgIGZvciAoaTsgaS0tOyApIHtcbiAgICAgICAgICAgIHRoaXMuJHBsYXRlID0gdGhpcy4kcGxhdGVzLmVxKGkpO1xuXG4gICAgICAgICAgICBpZiAodXRpbC5pc0VsZW1lbnRWaXNpYmxlKHRoaXMuJHBsYXRlWyAwIF0pKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT0gMCB8fCBpID09IHBsYXRlQ291bnQpIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpcnN0UGxhdGUuYWRkQ2xhc3MoXCJzaG93LWNsb25lXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RQbGF0ZS5hZGRDbGFzcyhcInNob3ctY2xvbmVcIik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy4kcGxhdGUucmVtb3ZlQ2xhc3MoXCJoaWRlXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRwbGF0ZS5hZGRDbGFzcyhcImhpZGVcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEhpZGUgZmlyc3QvbGFzdCBpbWFnZSBpbiBsb29wIGlmIGJvdGggYXJlIGhpZGRlblxuXG4gICAgICAgICAgICBpZiAoaSA9PSAwIHx8IGkgPT0gcGxhdGVDb3VudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXRlWmVybyA9IHRoaXMuJHBsYXRlcy5lcSgwKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXRlQ2xvbmUgPSB0aGlzLiRwbGF0ZXMuZXEocGxhdGVDb3VudCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXV0aWwuaXNFbGVtZW50VmlzaWJsZShwbGF0ZVplcm9bIDAgXSkgJiYgIXV0aWwuaXNFbGVtZW50VmlzaWJsZShwbGF0ZUNsb25lWyAwIF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlyc3RQbGF0ZS5yZW1vdmVDbGFzcyhcInNob3ctY2xvbmVcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdFBsYXRlLnJlbW92ZUNsYXNzKFwic2hvdy1jbG9uZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcblx0ICpcblx0ICogQGluc3RhbmNlXG5cdCAqIEBkZXNjcmlwdGlvbiBXYXRjaCBQbGF0ZSBUaXRsZXMgZW50ZXIgYW5kIGV4aXQgdmlld3BvcnRcblx0ICogQG1lbWJlcm9mIHBsYXRlc1xuXHQgKiBAbWV0aG9kIHVwZGF0ZVRpdGxlc1xuXHQgKlxuXHQgKi9cblxuICAgIHVwZGF0ZVRpdGxlcyAoKSB7XG4gICAgICAgIGxldCAkdGl0bGUgPSBudWxsO1xuXG4gICAgICAgIGxldCBpID0gdGhpcy4kdGl0bGVzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGk7IGktLTsgKSB7XG4gICAgICAgICAgICAkdGl0bGUgPSB0aGlzLiR0aXRsZXMuZXEoaSk7XG5cbiAgICAgICAgICAgIGlmICh1dGlsLmlzVGl0bGVWaXNpYmxlKCR0aXRsZVsgMCBdKSkge1xuICAgICAgICAgICAgICAgICR0aXRsZS5yZW1vdmVDbGFzcyhcImhpZGVcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICR0aXRsZS5hZGRDbGFzcyhcImhpZGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIEV4cG9ydFxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5leHBvcnQgZGVmYXVsdCBwbGF0ZXM7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc291cmNlL2pzL2NsYXNzL3BsYXRlcy5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFEQTtBQUNBOzs7Ozs7O0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQVNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBR0E7Ozs7O0FBR0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///99\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _shopifyBuy = __webpack_require__(/*! shopify-buy */ 88);\n\nvar _shopifyBuy2 = _interopRequireDefault(_shopifyBuy);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Initialize Shopify Connection\n\nvar shopifyClient = _shopifyBuy2.default.buildClient({\n  domain: "checkout.jordansowers.com",\n  storefrontAccessToken: "b976a944471f6acae5a40244f7a71a8d"\n}); /**\n     * shopClient.js\n     * Shopify Client based on Shopify Buy SDK, to be used for fetching details\n     * Also generates a cart to be used\n     */\n\nwindow.shopifyClient = shopifyClient;\n\nexports.default = shopifyClient;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NvdXJjZS9qcy9jbGFzcy9zaG9waWZ5LmpzPzZjOTgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBzaG9wQ2xpZW50LmpzXG4gKiBTaG9waWZ5IENsaWVudCBiYXNlZCBvbiBTaG9waWZ5IEJ1eSBTREssIHRvIGJlIHVzZWQgZm9yIGZldGNoaW5nIGRldGFpbHNcbiAqIEFsc28gZ2VuZXJhdGVzIGEgY2FydCB0byBiZSB1c2VkXG4gKi9cblxuaW1wb3J0IENsaWVudCBmcm9tIFwic2hvcGlmeS1idXlcIjtcblxuLy8gSW5pdGlhbGl6ZSBTaG9waWZ5IENvbm5lY3Rpb25cblxuY29uc3Qgc2hvcGlmeUNsaWVudCA9IENsaWVudC5idWlsZENsaWVudCh7XG4gICAgZG9tYWluOiBcImNoZWNrb3V0LmpvcmRhbnNvd2Vycy5jb21cIixcbiAgICBzdG9yZWZyb250QWNjZXNzVG9rZW46IFwiYjk3NmE5NDQ0NzFmNmFjYWU1YTQwMjQ0ZjdhNzFhOGRcIlxufSk7XG5cbndpbmRvdy5zaG9waWZ5Q2xpZW50ID0gc2hvcGlmeUNsaWVudDtcblxuZXhwb3J0IGRlZmF1bHQgc2hvcGlmeUNsaWVudDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzb3VyY2UvanMvY2xhc3Mvc2hvcGlmeS5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBTUE7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7Ozs7OztBQUtBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///100\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _log = __webpack_require__(/*! ./log */ 24);\n\nvar _log2 = _interopRequireDefault(_log);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n// Singleton\nvar _instance = null;\nvar _initialized = false;\n\n// Session Storage\nvar _cache = {};\nvar _access = "app-cache";\nvar _session = window.sessionStorage;\n\n/**\n *\n * @public\n * @class Store\n * @param {object} options The Store settings\n * @classdesc Handles how data / content is cached and stored for webapp.\n *\n */\n\nvar Store = function () {\n    function Store(options) {\n        _classCallCheck(this, Store);\n\n        if (!_instance) {\n            _instance = this;\n\n            this._opts = options;\n            this._init();\n        }\n\n        return _instance;\n    }\n\n    /**\n     *\n     * @private\n     * @instance\n     * @method _init\n     * @memberof Store\n     * @description One time Store initialization\n     *\n     */\n\n\n    _createClass(Store, [{\n        key: "_init",\n        value: function _init() {\n            if (_initialized) {\n                return;\n            }\n\n            _initialized = true;\n\n            this.flush();\n\n            (0, _log2.default)("[Cache Store initialized]", this);\n        }\n\n        /**\n         *\n         * @public\n         * @instance\n         * @method flush\n         * @memberof Store\n         * @description Manually flush the Local Storage cache\n         *\n         */\n\n    }, {\n        key: "flush",\n        value: function flush() {\n            // New empty cache\n            _cache = {};\n\n            // Store the new cache object\n            this.save();\n        }\n\n        /**\n         *\n         * @public\n         * @instance\n         * @method save\n         * @memberof Store\n         * @description Perform the actual synchronous write to Local Storage\n         *\n         */\n\n    }, {\n        key: "save",\n        value: function save() {\n            if (!this._opts.enableStorage || !Store.isStorageSupported) {\n                (0, _log2.default)("[Cache Store::Not using SessionStorage]");\n                return;\n            }\n\n            _session.setItem(_access, JSON.stringify(_cache));\n        }\n\n        /**\n         *\n         * @public\n         * @instance\n         * @method slug\n         * @param {string} uri The string to slugify\n         * @memberof Store\n         * @description Slug a uri string\n         * @returns {string}\n         *\n         */\n\n    }, {\n        key: "slug",\n        value: function slug(uri) {\n            uri = uri.replace(/^\\/|\\/$/g, "").replace(/\\/|\\?|\\&|=|\\s/g, "-").toLowerCase();\n\n            return uri;\n        }\n\n        /**\n         *\n         * @public\n         * @instance\n         * @method set\n         * @param {string} id The index key\n         * @param {mixed} val The value to store\n         * @memberof Store\n         * @description Set a key\'s value in the cache\n         *\n         */\n\n    }, {\n        key: "set",\n        value: function set(id, val) {\n            id = this.slug(id);\n\n            _cache[id] = val;\n\n            this.save();\n        }\n\n        /**\n         *\n         * @public\n         * @instance\n         * @method get\n         * @param {string} id The index key\n         * @memberof Store\n         * @description Get a key\'s value from the cache\n         * @returns {mixed}\n         *\n         */\n\n    }, {\n        key: "get",\n        value: function get(id) {\n            id = id && this.slug(id);\n\n            return id ? this.getValue(_cache[id]) : _cache;\n        }\n\n        /**\n         *\n         * @public\n         * @instance\n         * @method getValue\n         * @param {mixed} val The accessed value\n         * @memberof Store\n         * @description Get a value so cache is non-mutable from outside\n         * @returns {mixed}\n         *\n         */\n\n    }, {\n        key: "getValue",\n        value: function getValue(val) {\n            var ret = val;\n\n            return ret;\n        }\n\n        /**\n         *\n         * @public\n         * @instance\n         * @method remove\n         * @param {string} id The index key\n         * @memberof Store\n         * @description Remove a key/val pair from the cache\n         *\n         */\n\n    }, {\n        key: "remove",\n        value: function remove(id) {\n            delete _cache[id];\n        }\n    }]);\n\n    return Store;\n}();\n\n/**\n *\n * @public\n * @static\n * @member isStorageSupported\n * @memberof Store\n * @description Boolean to test local/session storage support\n *\n */\n\n\nStore.isStorageSupported = function () {\n    var ret = true;\n\n    try {\n        _session.setItem("app-test", 1);\n        _session.removeItem("app-test");\n    } catch (err) {\n        ret = false;\n    }\n\n    return ret;\n}();\n\n/******************************************************************************\n * Export\n*******************************************************************************/\nexports.default = Store;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NvdXJjZS9qcy9jb3JlL1N0b3JlLmpzPzU4MGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGxvZyBmcm9tIFwiLi9sb2dcIjtcblxuXG4vLyBTaW5nbGV0b25cbmxldCBfaW5zdGFuY2UgPSBudWxsO1xubGV0IF9pbml0aWFsaXplZCA9IGZhbHNlO1xuXG4vLyBTZXNzaW9uIFN0b3JhZ2VcbmxldCBfY2FjaGUgPSB7fTtcbmNvbnN0IF9hY2Nlc3MgPSBcImFwcC1jYWNoZVwiO1xuY29uc3QgX3Nlc3Npb24gPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2U7XG5cblxuLyoqXG4gKlxuICogQHB1YmxpY1xuICogQGNsYXNzIFN0b3JlXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBUaGUgU3RvcmUgc2V0dGluZ3NcbiAqIEBjbGFzc2Rlc2MgSGFuZGxlcyBob3cgZGF0YSAvIGNvbnRlbnQgaXMgY2FjaGVkIGFuZCBzdG9yZWQgZm9yIHdlYmFwcC5cbiAqXG4gKi9cbmNsYXNzIFN0b3JlIHtcbiAgICBjb25zdHJ1Y3RvciAoIG9wdGlvbnMgKSB7XG4gICAgICAgIGlmICggIV9pbnN0YW5jZSApIHtcbiAgICAgICAgICAgIF9pbnN0YW5jZSA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuX29wdHMgPSBvcHRpb25zO1xuICAgICAgICAgICAgdGhpcy5faW5pdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9pbnN0YW5jZTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWV0aG9kIF9pbml0XG4gICAgICogQG1lbWJlcm9mIFN0b3JlXG4gICAgICogQGRlc2NyaXB0aW9uIE9uZSB0aW1lIFN0b3JlIGluaXRpYWxpemF0aW9uXG4gICAgICpcbiAgICAgKi9cbiAgICBfaW5pdCAoKSB7XG4gICAgICAgIGlmICggX2luaXRpYWxpemVkICkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgX2luaXRpYWxpemVkID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmZsdXNoKCk7XG5cbiAgICAgICAgbG9nKCBcIltDYWNoZSBTdG9yZSBpbml0aWFsaXplZF1cIiwgdGhpcyApO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1ldGhvZCBmbHVzaFxuICAgICAqIEBtZW1iZXJvZiBTdG9yZVxuICAgICAqIEBkZXNjcmlwdGlvbiBNYW51YWxseSBmbHVzaCB0aGUgTG9jYWwgU3RvcmFnZSBjYWNoZVxuICAgICAqXG4gICAgICovXG4gICAgZmx1c2ggKCkge1xuICAgICAgICAvLyBOZXcgZW1wdHkgY2FjaGVcbiAgICAgICAgX2NhY2hlID0ge307XG5cbiAgICAgICAgLy8gU3RvcmUgdGhlIG5ldyBjYWNoZSBvYmplY3RcbiAgICAgICAgdGhpcy5zYXZlKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWV0aG9kIHNhdmVcbiAgICAgKiBAbWVtYmVyb2YgU3RvcmVcbiAgICAgKiBAZGVzY3JpcHRpb24gUGVyZm9ybSB0aGUgYWN0dWFsIHN5bmNocm9ub3VzIHdyaXRlIHRvIExvY2FsIFN0b3JhZ2VcbiAgICAgKlxuICAgICAqL1xuICAgIHNhdmUgKCkge1xuICAgICAgICBpZiAoICF0aGlzLl9vcHRzLmVuYWJsZVN0b3JhZ2UgfHwgIVN0b3JlLmlzU3RvcmFnZVN1cHBvcnRlZCApIHtcbiAgICAgICAgICAgIGxvZyggXCJbQ2FjaGUgU3RvcmU6Ok5vdCB1c2luZyBTZXNzaW9uU3RvcmFnZV1cIiApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgX3Nlc3Npb24uc2V0SXRlbSggX2FjY2VzcywgSlNPTi5zdHJpbmdpZnkoIF9jYWNoZSApICk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWV0aG9kIHNsdWdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJpIFRoZSBzdHJpbmcgdG8gc2x1Z2lmeVxuICAgICAqIEBtZW1iZXJvZiBTdG9yZVxuICAgICAqIEBkZXNjcmlwdGlvbiBTbHVnIGEgdXJpIHN0cmluZ1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICpcbiAgICAgKi9cbiAgICBzbHVnICggdXJpICkge1xuICAgICAgICB1cmkgPSB1cmkucmVwbGFjZSggL15cXC98XFwvJC9nLCBcIlwiICkucmVwbGFjZSggL1xcL3xcXD98XFwmfD18XFxzL2csIFwiLVwiICkudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICByZXR1cm4gdXJpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1ldGhvZCBzZXRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIGluZGV4IGtleVxuICAgICAqIEBwYXJhbSB7bWl4ZWR9IHZhbCBUaGUgdmFsdWUgdG8gc3RvcmVcbiAgICAgKiBAbWVtYmVyb2YgU3RvcmVcbiAgICAgKiBAZGVzY3JpcHRpb24gU2V0IGEga2V5J3MgdmFsdWUgaW4gdGhlIGNhY2hlXG4gICAgICpcbiAgICAgKi9cbiAgICBzZXQgKCBpZCwgdmFsICkge1xuICAgICAgICBpZCA9IHRoaXMuc2x1ZyggaWQgKTtcblxuICAgICAgICBfY2FjaGVbIGlkIF0gPSB2YWw7XG5cbiAgICAgICAgdGhpcy5zYXZlKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWV0aG9kIGdldFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgaW5kZXgga2V5XG4gICAgICogQG1lbWJlcm9mIFN0b3JlXG4gICAgICogQGRlc2NyaXB0aW9uIEdldCBhIGtleSdzIHZhbHVlIGZyb20gdGhlIGNhY2hlXG4gICAgICogQHJldHVybnMge21peGVkfVxuICAgICAqXG4gICAgICovXG4gICAgZ2V0ICggaWQgKSB7XG4gICAgICAgIGlkID0gKGlkICYmIHRoaXMuc2x1ZyggaWQgKSk7XG5cbiAgICAgICAgcmV0dXJuIChpZCA/IHRoaXMuZ2V0VmFsdWUoIF9jYWNoZVsgaWQgXSApIDogX2NhY2hlKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZXRob2QgZ2V0VmFsdWVcbiAgICAgKiBAcGFyYW0ge21peGVkfSB2YWwgVGhlIGFjY2Vzc2VkIHZhbHVlXG4gICAgICogQG1lbWJlcm9mIFN0b3JlXG4gICAgICogQGRlc2NyaXB0aW9uIEdldCBhIHZhbHVlIHNvIGNhY2hlIGlzIG5vbi1tdXRhYmxlIGZyb20gb3V0c2lkZVxuICAgICAqIEByZXR1cm5zIHttaXhlZH1cbiAgICAgKlxuICAgICAqL1xuICAgIGdldFZhbHVlICggdmFsICkge1xuICAgICAgICBjb25zdCByZXQgPSB2YWw7XG5cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZXRob2QgcmVtb3ZlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBpbmRleCBrZXlcbiAgICAgKiBAbWVtYmVyb2YgU3RvcmVcbiAgICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlIGEga2V5L3ZhbCBwYWlyIGZyb20gdGhlIGNhY2hlXG4gICAgICpcbiAgICAgKi9cbiAgICByZW1vdmUgKCBpZCApIHtcbiAgICAgICAgZGVsZXRlIF9jYWNoZVsgaWQgXTtcbiAgICB9XG59XG5cblxuXG4vKipcbiAqXG4gKiBAcHVibGljXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyIGlzU3RvcmFnZVN1cHBvcnRlZFxuICogQG1lbWJlcm9mIFN0b3JlXG4gKiBAZGVzY3JpcHRpb24gQm9vbGVhbiB0byB0ZXN0IGxvY2FsL3Nlc3Npb24gc3RvcmFnZSBzdXBwb3J0XG4gKlxuICovXG5TdG9yZS5pc1N0b3JhZ2VTdXBwb3J0ZWQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGxldCByZXQgPSB0cnVlO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgX3Nlc3Npb24uc2V0SXRlbSggXCJhcHAtdGVzdFwiLCAxICk7XG4gICAgICAgIF9zZXNzaW9uLnJlbW92ZUl0ZW0oIFwiYXBwLXRlc3RcIiApO1xuXG4gICAgfSBjYXRjaCAoIGVyciApIHtcbiAgICAgICAgcmV0ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldDtcbn0pKCk7XG5cblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBFeHBvcnRcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5leHBvcnQgZGVmYXVsdCBTdG9yZTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzb3VyY2UvanMvY29yZS9TdG9yZS5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBOzs7Ozs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7OztBQVFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7Ozs7Ozs7OztBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7Ozs7Ozs7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7Ozs7OztBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7Ozs7Ozs7OztBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7Ozs7Ozs7OztBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7Ozs7Ozs7Ozs7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7Ozs7Ozs7Ozs7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7Ozs7Ozs7OztBQVVBO0FBQ0E7QUFDQTs7Ozs7O0FBS0E7Ozs7Ozs7Ozs7O0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7O0FBR0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///101\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _Store = __webpack_require__(/*! ./Store */ 101);\n\nvar _Store2 = _interopRequireDefault(_Store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n *\n * @public\n * @namespace cache\n * @memberof core\n * @see {@link Store}\n * @description Return Singleton instances of the cache Store.\n *\n */\nexports.default = new _Store2.default({\n  // If TRUE the Store will use LocalStorage...\n  enableStorage: false\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NvdXJjZS9qcy9jb3JlL2NhY2hlLmpzPzEyNTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFN0b3JlIGZyb20gXCIuL1N0b3JlXCI7XG5cblxuLyoqXG4gKlxuICogQHB1YmxpY1xuICogQG5hbWVzcGFjZSBjYWNoZVxuICogQG1lbWJlcm9mIGNvcmVcbiAqIEBzZWUge0BsaW5rIFN0b3JlfVxuICogQGRlc2NyaXB0aW9uIFJldHVybiBTaW5nbGV0b24gaW5zdGFuY2VzIG9mIHRoZSBjYWNoZSBTdG9yZS5cbiAqXG4gKi9cbmV4cG9ydCBkZWZhdWx0IG5ldyBTdG9yZSh7XG4gICAgLy8gSWYgVFJVRSB0aGUgU3RvcmUgd2lsbCB1c2UgTG9jYWxTdG9yYWdlLi4uXG4gICAgZW5hYmxlU3RvcmFnZTogZmFsc2Vcbn0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzb3VyY2UvanMvY29yZS9jYWNoZS5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTs7Ozs7QUFFQTs7Ozs7Ozs7O0FBU0E7QUFDQTtBQUNBO0FBRkEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///102\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _util = __webpack_require__(/*! ./util */ 13);\n\nvar util = _interopRequireWildcard(_util);\n\nvar _core = __webpack_require__(/*! ../core */ 10);\n\nvar core = _interopRequireWildcard(_core);\n\nvar _emitter = __webpack_require__(/*! ./emitter */ 30);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _resizer = __webpack_require__(/*! ./resizer */ 48);\n\nvar _resizer2 = _interopRequireDefault(_resizer);\n\nvar _properjsThrottle = __webpack_require__(/*! properjs-throttle */ 195);\n\nvar _properjsThrottle2 = _interopRequireDefault(_properjsThrottle);\n\nvar _properjsDebounce = __webpack_require__(/*! properjs-debounce */ 166);\n\nvar _properjsDebounce2 = _interopRequireDefault(_properjsDebounce);\n\nvar _infiniteLoop = __webpack_require__(/*! ../class/infiniteLoop */ 46);\n\nvar _infiniteLoop2 = _interopRequireDefault(_infiniteLoop);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _throttled = 5;\nvar _debounced = 100;\n\n/**\n *\n * @public\n * @namespace resizes\n * @memberof core\n * @description Handles app-wide emission of various resize detection events.\n *\n */\nvar resizes = {\n    /**\n    *\n    * @public\n    * @method init\n    * @memberof core.resizes\n    * @description Method binds event listeners for resize controller.\n    *\n    */\n    init: function init() {\n        _resizer2.default.on("resize", (0, _properjsThrottle2.default)(onThrottle, _throttled));\n\n        // Hook into resize of `width` only for this handler\n        // @bug: iOS window size changes when Safari\'s chrome switches between full and minimal-ui.\n        _resizer2.default.on("resize", (0, _properjsDebounce2.default)(onDebounce, _debounced));\n    }\n};\n\n/**\n *\n * @private\n * @method onDebounce\n * @memberof core.resizes\n * @description Debounced resize events.\n *\n */\nvar onDebounce = function onDebounce() {\n    _emitter2.default.fire("app--resize-debounced");\n\n    util.updateImages();\n\n    util.calculateImageScrolls();\n\n    if (core.config.isIos) {\n\n        var $fullHeight = document.getElementsByClassName("-full-height");\n\n        for (var i = 0; i < $fullHeight.length; i++) {\n            $fullHeight[i].style.height = window.innerHeight + "px";\n        }\n\n        document.body.style.height = window.innerHeight + "px";\n\n        core.dom.app.style.height = window.innerHeight + "px";\n\n        // var $lockedViewport = document.getElementsByClassName("scrollstop")\n        //\n        // for (var i = 0; i < $lockedViewport.length; i++) {\n        //\n        // \t$lockedViewport[i].style.height =  window.innerHeight + "px";\n        // }\n\n    }\n};\n\n/**\n *\n * @private\n * @method onThrottle\n * @memberof core.resizes\n * @description Method handles the window resize event via [ResizeController]{@link https://github.com/ProperJS/ResizeController}.\n *\n */\n\nvar onThrottle = function onThrottle() {\n    _emitter2.default.fire("app--resize");\n\n    util.recalculateHero();\n\n    //var scrollValue = $(".js-loop .active a").attr(\'data-scroll\')\n    //scrollValue = scrollValue.getAttribute(\'data-scroll\')\n\n    // console.log(scrollValue);\n    //\n    // if (!core.config.isTouch === true) {\n    // \tcore.dom.loop[0].scrollTop = scrollValue;\n    // }\n\n\n    // Recalculate height of cart item container\n\n    util.updateCartItemContainer();\n\n    var overlayHeight = core.dom.detailOverlay[0].clientHeight;\n\n    var navHeight = core.dom.naviHeight.getBoundingClientRect().top + window.scrollY;\n\n    core.config.scrollDistance = overlayHeight - 2 - navHeight * 1.75 + window.innerHeight;\n\n    // Recalculate hero image if intro is active\n\n    if (core.config.isTouch === true && core.dom.intro[0].classList.contains("is-active")) {\n\n        var img = core.dom.hero.querySelector("img");\n\n        var imgContainer = core.dom.hero.querySelector(".vertical-align-container");\n\n        var height = imgContainer.clientHeight - img.clientHeight;\n\n        height = core.dom.hero.clientHeight - height;\n\n        height = window.innerHeight / 2 - height / 2;\n\n        core.dom.hero.style.transform = "translate3d(0px," + height + "px, 0px)";\n    }\n};\n\n/******************************************************************************\n * Export\n *******************************************************************************/\nexports.default = resizes;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NvdXJjZS9qcy9jb3JlL3Jlc2l6ZXMuanM/MzhkMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuL3V0aWxcIjtcbmltcG9ydCAqIGFzIGNvcmUgZnJvbSBcIi4uL2NvcmVcIjtcbmltcG9ydCBlbWl0dGVyIGZyb20gXCIuL2VtaXR0ZXJcIjtcbmltcG9ydCByZXNpemVyIGZyb20gXCIuL3Jlc2l6ZXJcIjtcbmltcG9ydCB0aHJvdHRsZSBmcm9tIFwicHJvcGVyanMtdGhyb3R0bGVcIjtcbmltcG9ydCBkZWJvdW5jZSBmcm9tIFwicHJvcGVyanMtZGVib3VuY2VcIjtcbmltcG9ydCBpbmZpbml0ZUxvb3AgZnJvbSBcIi4uL2NsYXNzL2luZmluaXRlTG9vcFwiO1xuXG5jb25zdCBfdGhyb3R0bGVkID0gNTtcbmNvbnN0IF9kZWJvdW5jZWQgPSAxMDA7XG5cbi8qKlxuICpcbiAqIEBwdWJsaWNcbiAqIEBuYW1lc3BhY2UgcmVzaXplc1xuICogQG1lbWJlcm9mIGNvcmVcbiAqIEBkZXNjcmlwdGlvbiBIYW5kbGVzIGFwcC13aWRlIGVtaXNzaW9uIG9mIHZhcmlvdXMgcmVzaXplIGRldGVjdGlvbiBldmVudHMuXG4gKlxuICovXG5jb25zdCByZXNpemVzID0ge1xuICAgIC8qKlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZXRob2QgaW5pdFxuXHQgKiBAbWVtYmVyb2YgY29yZS5yZXNpemVzXG5cdCAqIEBkZXNjcmlwdGlvbiBNZXRob2QgYmluZHMgZXZlbnQgbGlzdGVuZXJzIGZvciByZXNpemUgY29udHJvbGxlci5cblx0ICpcblx0ICovXG4gICAgaW5pdCAoKSB7XG4gICAgICAgIHJlc2l6ZXIub24oXCJyZXNpemVcIiwgdGhyb3R0bGUob25UaHJvdHRsZSwgX3Rocm90dGxlZCkpO1xuXG4gICAgICAgIC8vIEhvb2sgaW50byByZXNpemUgb2YgYHdpZHRoYCBvbmx5IGZvciB0aGlzIGhhbmRsZXJcbiAgICAgICAgLy8gQGJ1ZzogaU9TIHdpbmRvdyBzaXplIGNoYW5nZXMgd2hlbiBTYWZhcmkncyBjaHJvbWUgc3dpdGNoZXMgYmV0d2VlbiBmdWxsIGFuZCBtaW5pbWFsLXVpLlxuICAgICAgICByZXNpemVyLm9uKFwicmVzaXplXCIsIGRlYm91bmNlKG9uRGVib3VuY2UsIF9kZWJvdW5jZWQpKTtcbiAgICB9XG59O1xuXG4vKipcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1ldGhvZCBvbkRlYm91bmNlXG4gKiBAbWVtYmVyb2YgY29yZS5yZXNpemVzXG4gKiBAZGVzY3JpcHRpb24gRGVib3VuY2VkIHJlc2l6ZSBldmVudHMuXG4gKlxuICovXG5jb25zdCBvbkRlYm91bmNlID0gZnVuY3Rpb24gKCkge1xuICAgIGVtaXR0ZXIuZmlyZShcImFwcC0tcmVzaXplLWRlYm91bmNlZFwiKTtcblxuICAgIHV0aWwudXBkYXRlSW1hZ2VzKCk7XG5cbiAgICB1dGlsLmNhbGN1bGF0ZUltYWdlU2Nyb2xscygpO1xuXG5cbiAgICBpZiAoY29yZS5jb25maWcuaXNJb3MpIHtcblxuICAgICAgICBjb25zdCAkZnVsbEhlaWdodCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCItZnVsbC1oZWlnaHRcIik7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAkZnVsbEhlaWdodC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgJGZ1bGxIZWlnaHRbIGkgXS5zdHlsZS5oZWlnaHQgPSBgJHt3aW5kb3cuaW5uZXJIZWlnaHQgfXB4YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gYCR7d2luZG93LmlubmVySGVpZ2h0IH1weGA7XG5cbiAgICAgICAgY29yZS5kb20uYXBwLnN0eWxlLmhlaWdodCA9IGAke3dpbmRvdy5pbm5lckhlaWdodCB9cHhgO1xuXG4gICAgICAgIC8vIHZhciAkbG9ja2VkVmlld3BvcnQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwic2Nyb2xsc3RvcFwiKVxuICAgICAgICAvL1xuICAgICAgICAvLyBmb3IgKHZhciBpID0gMDsgaSA8ICRsb2NrZWRWaWV3cG9ydC5sZW5ndGg7IGkrKykge1xuICAgICAgICAvL1xuICAgICAgICAvLyBcdCRsb2NrZWRWaWV3cG9ydFtpXS5zdHlsZS5oZWlnaHQgPSAgd2luZG93LmlubmVySGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICAvLyB9XG5cblxuICAgIH1cblxuXG5cbn07XG5cblxuXG4vKipcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1ldGhvZCBvblRocm90dGxlXG4gKiBAbWVtYmVyb2YgY29yZS5yZXNpemVzXG4gKiBAZGVzY3JpcHRpb24gTWV0aG9kIGhhbmRsZXMgdGhlIHdpbmRvdyByZXNpemUgZXZlbnQgdmlhIFtSZXNpemVDb250cm9sbGVyXXtAbGluayBodHRwczovL2dpdGh1Yi5jb20vUHJvcGVySlMvUmVzaXplQ29udHJvbGxlcn0uXG4gKlxuICovXG5cbmNvbnN0IG9uVGhyb3R0bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgZW1pdHRlci5maXJlKFwiYXBwLS1yZXNpemVcIik7XG5cbiAgICB1dGlsLnJlY2FsY3VsYXRlSGVybygpO1xuXG4gICAgLy92YXIgc2Nyb2xsVmFsdWUgPSAkKFwiLmpzLWxvb3AgLmFjdGl2ZSBhXCIpLmF0dHIoJ2RhdGEtc2Nyb2xsJylcbiAgICAvL3Njcm9sbFZhbHVlID0gc2Nyb2xsVmFsdWUuZ2V0QXR0cmlidXRlKCdkYXRhLXNjcm9sbCcpXG5cbiAgICAvLyBjb25zb2xlLmxvZyhzY3JvbGxWYWx1ZSk7XG4gICAgLy9cbiAgICAvLyBpZiAoIWNvcmUuY29uZmlnLmlzVG91Y2ggPT09IHRydWUpIHtcbiAgICAvLyBcdGNvcmUuZG9tLmxvb3BbMF0uc2Nyb2xsVG9wID0gc2Nyb2xsVmFsdWU7XG4gICAgLy8gfVxuXG5cbiAgICAvLyBSZWNhbGN1bGF0ZSBoZWlnaHQgb2YgY2FydCBpdGVtIGNvbnRhaW5lclxuXG4gICAgdXRpbC51cGRhdGVDYXJ0SXRlbUNvbnRhaW5lcigpO1xuXG5cbiAgICBjb25zdCBvdmVybGF5SGVpZ2h0ID0gY29yZS5kb20uZGV0YWlsT3ZlcmxheVsgMCBdLmNsaWVudEhlaWdodDtcblxuICAgIGNvbnN0IG5hdkhlaWdodCA9IGNvcmUuZG9tLm5hdmlIZWlnaHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgd2luZG93LnNjcm9sbFk7XG5cbiAgICBjb3JlLmNvbmZpZy5zY3JvbGxEaXN0YW5jZSA9ICggKG92ZXJsYXlIZWlnaHQgLSAyKSAtICggbmF2SGVpZ2h0ICogMS43NSkgKSArIHdpbmRvdy5pbm5lckhlaWdodDtcblxuXG4gICAgLy8gUmVjYWxjdWxhdGUgaGVybyBpbWFnZSBpZiBpbnRybyBpcyBhY3RpdmVcblxuICAgIGlmIChjb3JlLmNvbmZpZy5pc1RvdWNoID09PSB0cnVlICYmIGNvcmUuZG9tLmludHJvWyAwIF0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiaXMtYWN0aXZlXCIpKSB7XG5cbiAgICAgICAgY29uc3QgaW1nID0gY29yZS5kb20uaGVyby5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpO1xuXG4gICAgICAgIGNvbnN0IGltZ0NvbnRhaW5lciA9IGNvcmUuZG9tLmhlcm8ucXVlcnlTZWxlY3RvcihcIi52ZXJ0aWNhbC1hbGlnbi1jb250YWluZXJcIik7XG5cbiAgICAgICAgbGV0IGhlaWdodCA9IGltZ0NvbnRhaW5lci5jbGllbnRIZWlnaHQgLSBpbWcuY2xpZW50SGVpZ2h0O1xuXG4gICAgICAgIGhlaWdodCA9IGNvcmUuZG9tLmhlcm8uY2xpZW50SGVpZ2h0IC0gaGVpZ2h0O1xuXG4gICAgICAgIGhlaWdodCA9ICh3aW5kb3cuaW5uZXJIZWlnaHQgLyAyICkgLSAoaGVpZ2h0IC8gMik7XG5cbiAgICAgICAgY29yZS5kb20uaGVyby5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoMHB4LCR7IGhlaWdodCB9cHgsIDBweClgO1xuXG4gICAgfVxuXG5cbn07XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIEV4cG9ydFxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5leHBvcnQgZGVmYXVsdCByZXNpemVzO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNvdXJjZS9qcy9jb3JlL3Jlc2l6ZXMuanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWZBO0FBQ0E7QUFpQkE7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUdBOzs7Ozs7Ozs7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBOzs7QUFHQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///103\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _scroller = __webpack_require__(/*! ./scroller */ 32);\n\nvar _scroller2 = _interopRequireDefault(_scroller);\n\nvar _dom = __webpack_require__(/*! ./dom */ 14);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _core = __webpack_require__(/*! ../core */ 10);\n\nvar core = _interopRequireWildcard(_core);\n\nvar _config = __webpack_require__(/*! ./config */ 4);\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _gumshoe = __webpack_require__(/*! ../class/gumshoe */ 97);\n\nvar _gumshoe2 = _interopRequireDefault(_gumshoe);\n\nvar _util = __webpack_require__(/*! ../core/util */ 13);\n\nvar util = _interopRequireWildcard(_util);\n\nvar _plates = __webpack_require__(/*! ../class/plates */ 99);\n\nvar _plates2 = _interopRequireDefault(_plates);\n\nvar _infiniteLoop = __webpack_require__(/*! ../class/infiniteLoop */ 46);\n\nvar _infiniteLoop2 = _interopRequireDefault(_infiniteLoop);\n\nvar _properjsHobo = __webpack_require__(/*! properjs-hobo */ 11);\n\nvar _properjsHobo2 = _interopRequireDefault(_properjsHobo);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n *\n * @public\n * @namespace intro\n * @description Performs the branded load-in screen sequence.\n * @memberof menus\n *\n */\nvar scrolls = {\n    /**\n    *\n    * @public\n    * @method init\n    * @memberof menus.intro\n    * @description Method initializes intro node in DOM.\n    *\n    */\n\n    init: function init() {\n        core.emitter.on("app--scroll-teardown", this.teardown.bind(this));\n\n        core.emitter.on("app--init-scroll", this.bind.bind(this));\n\n        this.bind();\n    },\n    bind: function bind() {\n        var _this = this;\n\n        // Initialize Gumshoe Div Watch\n\n        var offsetHeight = window.innerHeight / 5;\n\n        this.infiniteLoop = new _infiniteLoop2.default();\n\n        this.plates = new _plates2.default();\n\n        // Scroll to current project if on detail page\n\n        if (!core.dom.html[0].classList.contains("is-home-page")) {\n            var $activePiece = core.dom.loop.find(".active a");\n            var targetDataScroll = $activePiece.attr("data-scroll");\n\n            core.dom.loop.scrollTop = targetDataScroll;\n        }\n\n        if (window.location.pathname === "/") {\n\n            _gumshoe2.default.init({\n                selector: "[data-watch-item] div",\n                selectorHeader: "[data-watch-items]",\n                offset: offsetHeight\n            });\n\n            this.infiniteLoop.reCalc();\n\n            _scroller2.default.on("scroll", function () {\n\n                util.headerFade();\n\n                _this.plates.updatePlates();\n\n                _this.plates.updateTitles();\n\n                _this.infiniteLoop.loop();\n            });\n        } else {\n\n            this.infiniteLoop.reCalc();\n\n            _scroller2.default.on("scroll", function () {\n\n                util.headerFadeDetail();\n\n                _this.plates.updatePlates();\n\n                _this.infiniteLoop.loop();\n            });\n        }\n\n        _scroller2.default.on("scrollup", function () {\n            core.dom.html.removeClass("is-scroll-down").addClass("is-scroll-up");\n        });\n\n        _scroller2.default.on("scrolldown", function () {\n            core.dom.html.removeClass("is-scroll-up").addClass("is-scroll-down");\n        });\n    },\n    teardown: function teardown() {\n        _scroller2.default.off();\n        _scroller2.default.off("scroll", this.plates.updatePlates);\n        _scroller2.default.off("scroll", this.plates.updateTitles);\n        _scroller2.default.off("scroll", util.headerFade);\n        _gumshoe2.default.destroy();\n        _scroller2.default.off("scroll", this.infiniteLoop.loop());\n    }\n};\n\n/******************************************************************************\n * Export\n *******************************************************************************/\nexports.default = scrolls;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTA0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NvdXJjZS9qcy9jb3JlL3Njcm9sbHMuanM/ZTE3MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc2Nyb2xsZXIgZnJvbSBcIi4vc2Nyb2xsZXJcIjtcbmltcG9ydCBkb20gZnJvbSBcIi4vZG9tXCI7XG5pbXBvcnQgKiBhcyBjb3JlIGZyb20gXCIuLi9jb3JlXCI7XG5pbXBvcnQgY29uZmlnIGZyb20gXCIuL2NvbmZpZ1wiO1xuaW1wb3J0IGd1bXNob2UgZnJvbSBcIi4uL2NsYXNzL2d1bXNob2VcIjtcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbFwiO1xuaW1wb3J0IHBsYXRlcyBmcm9tIFwiLi4vY2xhc3MvcGxhdGVzXCI7XG5pbXBvcnQgaW5maW5pdGVMb29wIGZyb20gXCIuLi9jbGFzcy9pbmZpbml0ZUxvb3BcIjtcbmltcG9ydCAkIGZyb20gXCJwcm9wZXJqcy1ob2JvXCI7XG5cbi8qKlxuICpcbiAqIEBwdWJsaWNcbiAqIEBuYW1lc3BhY2UgaW50cm9cbiAqIEBkZXNjcmlwdGlvbiBQZXJmb3JtcyB0aGUgYnJhbmRlZCBsb2FkLWluIHNjcmVlbiBzZXF1ZW5jZS5cbiAqIEBtZW1iZXJvZiBtZW51c1xuICpcbiAqL1xuY29uc3Qgc2Nyb2xscyA9IHtcbiAgICAvKipcblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKiBAbWV0aG9kIGluaXRcblx0ICogQG1lbWJlcm9mIG1lbnVzLmludHJvXG5cdCAqIEBkZXNjcmlwdGlvbiBNZXRob2QgaW5pdGlhbGl6ZXMgaW50cm8gbm9kZSBpbiBET00uXG5cdCAqXG5cdCAqL1xuXG4gICAgaW5pdCAoKSB7XG4gICAgICAgIGNvcmUuZW1pdHRlci5vbihcImFwcC0tc2Nyb2xsLXRlYXJkb3duXCIsIHRoaXMudGVhcmRvd24uYmluZCh0aGlzKSk7XG5cbiAgICAgICAgY29yZS5lbWl0dGVyLm9uKFwiYXBwLS1pbml0LXNjcm9sbFwiLCB0aGlzLmJpbmQuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgdGhpcy5iaW5kKCk7XG4gICAgfSxcblxuICAgIGJpbmQgKCkge1xuICAgICAgICAvLyBJbml0aWFsaXplIEd1bXNob2UgRGl2IFdhdGNoXG5cbiAgICAgICAgY29uc3Qgb2Zmc2V0SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC8gNTtcblxuICAgICAgICB0aGlzLmluZmluaXRlTG9vcCA9IG5ldyBpbmZpbml0ZUxvb3AoKTtcblxuICAgICAgICB0aGlzLnBsYXRlcyA9IG5ldyBwbGF0ZXMoKTtcblxuICAgICAgICAvLyBTY3JvbGwgdG8gY3VycmVudCBwcm9qZWN0IGlmIG9uIGRldGFpbCBwYWdlXG5cbiAgICAgICAgaWYgKCAhY29yZS5kb20uaHRtbFsgMCBdLmNsYXNzTGlzdC5jb250YWlucyhcImlzLWhvbWUtcGFnZVwiKSApIHtcbiAgICAgICAgICAgIGNvbnN0ICRhY3RpdmVQaWVjZSA9IGNvcmUuZG9tLmxvb3AuZmluZChcIi5hY3RpdmUgYVwiKTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldERhdGFTY3JvbGwgPSAkYWN0aXZlUGllY2UuYXR0cihcImRhdGEtc2Nyb2xsXCIpO1xuXG4gICAgICAgICAgICBjb3JlLmRvbS5sb29wLnNjcm9sbFRvcCA9IHRhcmdldERhdGFTY3JvbGw7XG4gICAgICAgIH1cblxuXG5cbiAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSA9PT0gXCIvXCIpIHtcblxuICAgICAgICAgICAgZ3Vtc2hvZS5pbml0KHtcbiAgICAgICAgICAgICAgICBzZWxlY3RvcjogXCJbZGF0YS13YXRjaC1pdGVtXSBkaXZcIixcbiAgICAgICAgICAgICAgICBzZWxlY3RvckhlYWRlcjogXCJbZGF0YS13YXRjaC1pdGVtc11cIixcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IG9mZnNldEhlaWdodFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuaW5maW5pdGVMb29wLnJlQ2FsYygpO1xuXG4gICAgICAgICAgICBzY3JvbGxlci5vbihcInNjcm9sbFwiLCAoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICB1dGlsLmhlYWRlckZhZGUoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMucGxhdGVzLnVwZGF0ZVBsYXRlcygpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF0ZXMudXBkYXRlVGl0bGVzKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmluZmluaXRlTG9vcC5sb29wKCk7XG5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICB0aGlzLmluZmluaXRlTG9vcC5yZUNhbGMoKTtcblxuICAgICAgICAgICAgc2Nyb2xsZXIub24oXCJzY3JvbGxcIiwgKCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgdXRpbC5oZWFkZXJGYWRlRGV0YWlsKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnBsYXRlcy51cGRhdGVQbGF0ZXMoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuaW5maW5pdGVMb29wLmxvb3AoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cblxuICAgICAgICBzY3JvbGxlci5vbihcInNjcm9sbHVwXCIsICgpID0+IHtcbiAgICAgICAgICAgIGNvcmUuZG9tLmh0bWwucmVtb3ZlQ2xhc3MoXCJpcy1zY3JvbGwtZG93blwiKS5hZGRDbGFzcyhcImlzLXNjcm9sbC11cFwiKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2Nyb2xsZXIub24oXCJzY3JvbGxkb3duXCIsICgpID0+IHtcbiAgICAgICAgICAgIGNvcmUuZG9tLmh0bWwucmVtb3ZlQ2xhc3MoXCJpcy1zY3JvbGwtdXBcIikuYWRkQ2xhc3MoXCJpcy1zY3JvbGwtZG93blwiKTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIHRlYXJkb3duICgpIHtcbiAgICAgICAgc2Nyb2xsZXIub2ZmKCk7XG4gICAgICAgIHNjcm9sbGVyLm9mZihcInNjcm9sbFwiLCB0aGlzLnBsYXRlcy51cGRhdGVQbGF0ZXMpO1xuICAgICAgICBzY3JvbGxlci5vZmYoXCJzY3JvbGxcIiwgdGhpcy5wbGF0ZXMudXBkYXRlVGl0bGVzKTtcbiAgICAgICAgc2Nyb2xsZXIub2ZmKFwic2Nyb2xsXCIsIHV0aWwuaGVhZGVyRmFkZSk7XG4gICAgICAgIGd1bXNob2UuZGVzdHJveSgpO1xuICAgICAgICBzY3JvbGxlci5vZmYoXCJzY3JvbGxcIiwgdGhpcy5pbmZpbml0ZUxvb3AubG9vcCgpKTtcbiAgICB9XG59O1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBFeHBvcnRcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuZXhwb3J0IGRlZmF1bHQgc2Nyb2xscztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzb3VyY2UvanMvY29yZS9zY3JvbGxzLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7OztBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7Ozs7Ozs7OztBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUExRkE7QUFDQTtBQTRGQTs7O0FBR0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///104\n')}],[94]);